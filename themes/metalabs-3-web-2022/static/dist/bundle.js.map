{"version":3,"sources":["node_modules/browser-pack/_prelude.js","static/js/components/3dSlider.js","static/js/components/3dSliderModels.js","static/js/components/Cursor.js","static/js/components/NavigationController.js","static/js/helpers/GridHelper.js","static/js/index.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import gsap from \"gsap\";\nimport { SplitText } from \"gsap/dist/SplitText\";\nimport Swiper, { Navigation, Pagination } from \"swiper\";\nimport ThreeDSliderModels from \"./3dSliderModels\";\n\ngsap.registerPlugin(SplitText);\n\nexport default class ThreeDSlider {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-3d-slider-wrapper\",\n            slider: \".js-3d-slider\",\n            next: \".js-3d-slider-next\",\n            prev: \".js-3d-slider-prev\",\n            pagination: \".js-3d-slider-pagination\",\n            primaryTitle: \".js-slide-title-primary\",\n            secondaryTitle: \".js-slide-title-secondary\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n    }\n\n    init() {\n        if (!this.wrapper) return;\n        this.models = new ThreeDSliderModels(this.wrapper);\n\n        const slider = this.wrapper.querySelector(this.DOM.slider);\n        const next = this.wrapper.querySelector(this.DOM.next);\n        const prev = this.wrapper.querySelector(this.DOM.prev);\n        const pagination = this.wrapper.querySelector(this.DOM.pagination);\n\n        const swiper = new Swiper(slider, {\n            modules: [Navigation, Pagination],\n            loop: false,\n            pagination: {\n                el: pagination,\n                clickable: false,\n                renderBullet: (index, className) => {\n                    return `<span class=\"${className}\"><span>0</span><span>1</span></span>`;\n                },\n            },\n            navigation: {\n                nextEl: next,\n                prevEl: prev,\n            },\n            on: {\n                slideChange: (swiper) => {\n                    this.animateTitles(swiper);\n\n                    this.models.changeSlide(swiper.activeIndex, swiper.previousIndex);\n                },\n                afterInit: (swiper) => {\n                    setTimeout(() => this.animateTitles(swiper), 100);\n\n                    this.models.init();\n\n                    swiper.slides.forEach((slide, index) => this.models.initModel(slide, index));\n                },\n            },\n        });\n\n        swiper.slides.forEach((slide) => {\n            const titlePrimary = slide.querySelector(this.DOM.primaryTitle);\n            const titleSecondary = slide.querySelector(this.DOM.secondaryTitle);\n\n            const splitPrimary = new SplitText(titlePrimary, {\n                type: \"chars\",\n                charsClass: \"split-text-char\",\n            });\n\n            const splitSecondary = new SplitText(titleSecondary, {\n                type: \"chars\",\n                charsClass: \"split-text-char\",\n            });\n\n            gsap.set(splitPrimary.chars, {\n                visibility: \"hidden\",\n            });\n        });\n    }\n\n    animateTitles(swiper) {\n        this.animateTitleIn(swiper.slides[swiper.activeIndex]);\n\n        if (swiper.slides[swiper.previousIndex]) {\n            this.animateTitleOut(swiper.slides[swiper.previousIndex]);\n        }\n    }\n\n    animateTitleIn(slide) {\n        const titlePrimaryChars = slide.querySelector(this.DOM.primaryTitle).querySelectorAll(\".split-text-char\");\n        const titleSecondaryChars = slide.querySelector(this.DOM.secondaryTitle).querySelectorAll(\".split-text-char\");\n\n        gsap.to(titlePrimaryChars, {\n            visibility: \"visible\",\n            delay: 0.6,\n            duration: 0.2,\n            stagger: {\n                each: 0.05,\n                from: \"center\",\n            },\n        });\n\n        gsap.to(titleSecondaryChars, {\n            visibility: \"hidden\",\n            delay: 0.4,\n            duration: 0.2,\n            stagger: {\n                each: 0.05,\n                from: \"center\",\n            },\n        });\n    }\n\n    animateTitleOut(slide) {\n        const titlePrimaryChars = slide.querySelector(this.DOM.primaryTitle).querySelectorAll(\".split-text-char\");\n        const titleSecondaryChars = slide.querySelector(this.DOM.secondaryTitle).querySelectorAll(\".split-text-char\");\n\n        gsap.to(titlePrimaryChars, {\n            visibility: \"hidden\",\n        });\n\n        gsap.to(titleSecondaryChars, {\n            visibility: \"visible\",\n        });\n    }\n}\n","import gsap from \"gsap\";\nimport * as THREE from \"three\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class ThreeDSliderModels {\n    constructor(wrapper) {\n        this.DOM = {\n            models: \".js-3d-slider-models\",\n            slide: \".js-3d-slider-slide\",\n        };\n\n        this.models = wrapper.querySelector(this.DOM.models);\n\n        this.inViewport = false;\n\n        // config\n        this.config = {\n            modelOffset: 6,\n        };\n    }\n\n    init() {\n        if (!this.models) return;\n\n        this.modelsArray = [];\n\n        this.modelsWrapper = new THREE.Object3D();\n\n        this.loader = new GLTFLoader();\n\n        // loader\n        const dracoLoader = new DRACOLoader();\n        dracoLoader.setDecoderPath(window.dracoPath);\n        dracoLoader.setDecoderConfig({\n            type: \"js\",\n        });\n        this.loader.setDRACOLoader(dracoLoader);\n\n        THREE.Cache.enabled = true;\n\n        ScrollTrigger.create({\n            trigger: this.models,\n            start: \"top bottom\",\n            end: \"bottom top\",\n            onEnter: () => {\n                this.inViewport = true;\n            },\n            onLeave: () => {\n                this.inViewport = false;\n            },\n            onEnterBack: () => {\n                this.inViewport = true;\n            },\n            onLeaveBack: () => {\n                this.inViewport = false;\n            },\n        });\n\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n\n        this.initCamera();\n        this.initScene();\n        this.initLights();\n        this.initRenderer();\n        this.animate();\n        this.mouseMove();\n\n        this.scene.add(this.modelsWrapper);\n\n        // handle resize\n        window.addEventListener(\"resize\", () => this.onWindowResize(), false);\n    }\n\n    mouseMove() {\n        window.addEventListener(\"mousemove\", (ev) => {\n            let mouseY = ev.clientY;\n\n            gsap.to(this.yellowLight.position, {\n                y: -1 - (mouseY - window.innerHeight) / 400,\n            });\n\n            gsap.to(this.blueLight.position, {\n                y: -(mouseY - window.innerHeight) / 400,\n            });\n        });\n    }\n\n    /**\n     * camera setup\n     */\n    initCamera() {\n        this.camera = new THREE.PerspectiveCamera(35, this.width / this.height, 0.5, 100);\n        this.camera.position.set(0, 0, 6);\n        this.camera.lookAt(0, 0, 0);\n    }\n\n    /**\n     * scene setup\n     */\n    initScene() {\n        this.scene = new THREE.Scene();\n    }\n\n    /**\n     * lights setup - because of performance > all in one object\n     */\n    initLights() {\n        const lightWrapper = new THREE.Object3D();\n\n        this.yellowLight = new THREE.PointLight(0xfeb301, 5, 4);\n        this.yellowLight.position.set(-1, 1, 2);\n        // this.yellowLight.castShadow = true;\n\n        this.blueLight = new THREE.PointLight(0x2400ff, 5, 2);\n        this.blueLight.position.set(1, 0, 1);\n        // this.blueLight.castShadow = true;\n\n        lightWrapper.add(this.blueLight);\n        lightWrapper.add(this.yellowLight);\n\n        this.scene.add(lightWrapper);\n    }\n\n    /**\n     * renderer setup\n     */\n    initRenderer() {\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            powerPreference: \"high-performance\",\n            alpha: true,\n        });\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        this.renderer.setClearColor(0x000000, 0);\n        this.renderer.setPixelRatio(window.devicePixelRatio > 2 ? 2 : window.devicePixelRatio);\n        this.renderer.setSize(this.width, this.height);\n        this.renderer.physicallyCorrectLights = true;\n        this.models.appendChild(this.renderer.domElement);\n    }\n\n    /**\n     * model setup and load call\n     */\n    initModel(slide, index) {\n        if (!slide) return;\n\n        this.loader.load(\n            slide.dataset.model,\n            (gltf) => {\n                gltf.scene.rotation.y = -Math.PI / 2;\n\n                gltf.scene.position.x = index * this.config.modelOffset;\n\n                gltf.scene.uuid = index;\n\n                this.modelsArray.push(gltf.scene);\n\n                this.modelsWrapper.add(gltf.scene);\n            },\n            (xhr) => {\n                console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\"); /**/\n            },\n            (error) => {\n                console.log(\"An error happened\");\n            },\n        );\n    }\n\n    /**\n     *\n     */\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    /**\n     * requestAnimationFrame\n     */\n    animate() {\n        let raf = null;\n\n        const animate = () => {\n            this.renderer.render(this.scene, this.camera);\n            if (this.renderer != null) {\n                raf = requestAnimationFrame(animate);\n            }\n        };\n\n        ScrollTrigger.create({\n            trigger: this.models,\n            start: \"top bottom\",\n            end: \"bottom top\",\n            onEnter: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeave: () => {\n                cancelAnimationFrame(raf);\n            },\n            onEnterBack: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeaveBack: () => {\n                cancelAnimationFrame(raf);\n            },\n        });\n    }\n\n    changeSlide(index, prevIndex) {\n        const model = this.modelsArray.find((model) => model.uuid === index);\n        const prevModel = this.modelsArray.find((model) => model.uuid === prevIndex);\n\n        const direction = prevIndex > index ? 1 : -1;\n\n        gsap.timeline()\n            .add(\"start\")\n            .to(\n                this.modelsWrapper.position,\n                {\n                    x: -index * this.config.modelOffset,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            )\n            .fromTo(\n                model.rotation,\n                {\n                    y: -Math.PI / 2 + 2.5 * direction,\n                },\n                {\n                    y: -Math.PI / 2,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            )\n            .fromTo(\n                prevModel.rotation,\n                {\n                    y: -Math.PI / 2,\n                },\n                {\n                    y: -Math.PI / 2 + -2.5 * direction,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            );\n    }\n}\n","import gsap from \"gsap\";\nimport is from \"is_js\";\n\nexport default class Cursor {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-cursor\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n        this.moved = false;\n    }\n\n    init() {\n        if (!this.wrapper || is.touchDevice()) return;\n\n        const offsetY = this.wrapper.offsetHeight * 0.5;\n        const offsetX = this.wrapper.offsetWidth * 0.05;\n\n        window.addEventListener(\"pointermove\", (ev) => {\n            if (!this.moved) {\n                this.moved = true;\n                this.wrapper.classList.add(\"is-moved\");\n            }\n\n            gsap.set(this.wrapper, {\n                x: ev.clientX - offsetX,\n                y: ev.clientY - offsetY,\n            });\n        });\n\n        window.addEventListener(\"mouseout\", (ev) => {\n            this.moved = false;\n            this.wrapper.classList.remove(\"is-moved\");\n        });\n\n        document.querySelectorAll(\"a\").forEach((link) => {\n            this.singleLink(link);\n        });\n\n        document.querySelectorAll(\".has-hover\").forEach((link) => {\n            this.singleLink(link);\n        });\n    }\n\n    singleLink(link) {\n        link.addEventListener(\"mouseenter\", () => {\n            this.wrapper.classList.add(\"is-active\");\n        });\n\n        link.addEventListener(\"mouseleave\", () => {\n            this.wrapper.classList.remove(\"is-active\");\n        });\n    }\n}\n","/**\n * Navigation controller\n * \"smart\" navigation which goes off screen when scrolling down for a better overview of content and UX\n * navigation appears when scrolling up\n */\nexport default class NavigationController {\n    constructor() {\n        /**\n         * Navigation DOM selectors\n         * Navigation DOM state CSS classes\n         * @type {{navigation: string, states: {navigationSlideUp: string, navigationScrolled: string, navigationFixed: string}}}\n         */\n        this.DOM = {\n            navigation: \".js-navigation\",\n            states: {\n                navigationScrolled: \"has-scrolled\",\n                navigationFixed: \"is-fixed\",\n                navigationSlideUp: \"slide-up\",\n            },\n        };\n\n        /**\n         * flag, state variable for scrolling event\n         * @type {boolean}\n         */\n        this.scrolling = false;\n        /**\n         * amount of pixels to scroll from top for adding \"has-scrolled\" state class\n         * @type {number}\n         */\n        this.scrollNavigationOffset = 200;\n        /**\n         * variable for storing amount of scroll from top position value\n         * @type {number}\n         */\n        this.previousTop = 0;\n        /**\n         * variable for storing current scroll position value\n         * @type {number}\n         */\n        this.currentTop = 0;\n        this.scrollDelta = 0;\n        this.scrollOffset = 0;\n\n        /**\n         * fetch navigation element DOM element\n         * @type {Element}\n         */\n        this.navigation = document.querySelector(this.DOM.navigation);\n    }\n\n    //region methods\n\n    /**\n     *\n     */\n    init() {\n        if (this.navigation !== null) {\n            console.log(\"Navigation init()\");\n            this.navigationController();\n        } else {\n            console.error(`${this.DOM.navigation} does not exist in the DOM!`);\n        }\n    }\n\n    /**\n     *\n     */\n    navigationController() {\n        document.addEventListener(\"scroll\", () => {\n            if (!this.scrolling) {\n                this.scrolling = true;\n\n                if (!window.requestAnimationFrame) {\n                    setTimeout(this.checkScroll(), 250);\n                } else {\n                    requestAnimationFrame(() => this.checkScroll());\n                }\n            }\n        });\n    }\n\n    /**\n     *\n     */\n    checkScroll() {\n        /**\n         *\n         * @type {number}\n         */\n        let currentTop = window.pageYOffset | document.body.scrollTop;\n\n        this.changeNavigationState(currentTop);\n\n        this.previousTop = currentTop;\n        this.scrolling = false;\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    changeNavigationState(currentTop) {\n        if (currentTop > this.scrollNavigationOffset) {\n            this.navigation.classList.add(this.DOM.states.navigationScrolled);\n        } else {\n            this.navigation.classList.remove(this.DOM.states.navigationScrolled);\n        }\n\n        if (this.previousTop >= currentTop) {\n            this.scrollingUp(currentTop);\n        } else {\n            this.scrollingDown(currentTop);\n        }\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    scrollingUp(currentTop) {\n        if (currentTop < this.scrollNavigationOffset) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        } else if (this.previousTop - currentTop > this.scrollDelta) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        }\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    scrollingDown(currentTop) {\n        if (currentTop > this.scrollNavigationOffset + this.scrollOffset) {\n            this.navigation.classList.add(this.DOM.states.navigationSlideUp);\n        } else if (currentTop > this.scrollNavigationOffset) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        }\n    }\n\n    //endregion\n}\n","/**\n * Grid helper\n * Show grid overlay when developing\n * Not included in production bundle JS file\n */\nexport default class GridHelper {\n    constructor() {\n        /**\n         * Grid DOM selector\n         * @type {{grid: string}}\n         */\n        this.DOM = {\n            grid: \"grid\",\n        };\n\n        /**\n         * Grid options\n         * @type {{\n         * gutterFixed: boolean,\n         * initialDisplay: string,\n         * gridFixed: boolean,\n         * gutterWidth: number,\n         * gridColor: string,\n         * columnCount: number,\n         * gridWidth: number,\n         * columnBgColor: string\n         * }}\n         */\n        this.gridOptions = {\n            initialDisplay: \"none\", // \"flex\" or \"none\" — initial display for the grid — string\n            columnCount: 24, // number of grid columns — integer\n            gridWidth: 1440, // base grid used in design; value in px — integer\n            gridFixed: true, // should grid width be restricted to gridWidth or it should go full width a nd behave fluidly across all screen sizes\n            gutterWidth: 0, // grid gutters value in px — integer\n            gutterFixed: false, // should grid gutter be a fixed value (px) or fluid — integer\n            gridColor: \"rgb(255, 0, 255, 0.15)\", // grid guides color — string of an rgba or hex value\n            columnBgColor: \"rgb(255, 0, 255, 0.025)\", // grid columns background color — string of an rgba or hex value\n        };\n\n        const consoleLogStyle = [\n            \"background-color: #a6a6a6\",\n            \"color: black\",\n            \"display: block\",\n            \"line-height: 24px\",\n            \"text-align: center\",\n            \"border: 1px solid #ffffff\",\n            \"font-weight: bold\",\n        ].join(\";\");\n\n        console.info(\"toggle grid: %c Alt/Option + G \", consoleLogStyle);\n\n        this.grid = null;\n\n        this.columnWidth =\n            (this.gridOptions.gridWidth - (this.gridOptions.columnCount - 1) * this.gridOptions.gutterWidth) / this.gridOptions.columnCount;\n\n        this.columnWidthPercentage = `${(this.columnWidth / this.gridOptions.gridWidth) * 100}%`;\n\n        this.gutterWidthPercentage = `${(this.gridOptions.gutterWidth / this.gridOptions.gridWidth) * 100}%`;\n    }\n\n    init() {\n        console.log(\"GridHelper init()\");\n        this.initGrid();\n        this.keyboardShortcut();\n    }\n\n    initGrid() {\n        // create grid overlay element\n        this.grid = document.createElement(\"div\");\n        this.grid.id = this.DOM.grid;\n\n        // style grid element\n        this.grid.style.cssText = `\n            pointer-events: none;\n            display: ${this.gridOptions.initialDisplay};\n            flex-direction: row;\n            width: 100%;\n            height: 100%;\n            position: fixed;\n            top: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            z-index: 999;\n        `;\n\n        if (this.gridOptions.gridFixed === true) {\n            this.grid.style.maxWidth = `${this.gridOptions.gridWidth}px`;\n        }\n\n        if (!this.gridOptions.gutterWidth > 0) {\n            this.grid.style.borderLeft = \"none\";\n        }\n\n        // add grid container to page\n        document.body.appendChild(this.grid);\n\n        // add columns to grid\n        for (var i = 0; i < this.gridOptions.columnCount; i++) {\n            var column = document.createElement(\"i\");\n            this.grid.appendChild(column);\n\n            column.style.cssText = `\n                height: auto;\n                flex-grow: 1;\n                background-color: ${this.gridOptions.columnBgColor};\n                border-left: 1px solid ${this.gridOptions.gridColor};\n            `;\n\n            if (this.gridOptions.gutterWidth > 0) {\n                column.style.borderRight = `1px solid ${this.gridOptions.gridColor}`;\n            } else {\n                this.grid.style.borderRight = `1px solid ${this.gridOptions.gridColor}`;\n            }\n\n            if (this.gridOptions.gutterFixed === true) {\n                column.style.marginRight = `${this.gridOptions.gutterWidth}px`;\n            } else {\n                column.style.marginRight = this.gutterWidthPercentage;\n                column.style.width = this.columnWidthPercentage;\n            }\n        }\n\n        this.grid.lastChild.style.marginRight = 0;\n    }\n\n    keyboardShortcut() {\n        document.addEventListener(\"keyup\", (ev) => {\n            if (ev.keyCode === 71 && ev.altKey) {\n                if (this.grid.style.display === \"none\") {\n                    this.grid.style.display = \"flex\";\n                } else {\n                    this.grid.style.display = \"none\";\n                }\n            }\n        });\n    }\n}\n","/**\n * MAIN JS FILE\n */\n\n/**\n * Helpers\n * Imports of helper functions are stripped out of bundle\n * Include them within \"start-strip-code\" and \"end-strip-code\" comments\n */\n/* start-strip-code */\nimport GridHelper from \"./helpers/GridHelper\";\n/* end-strip-code */\n/**\n * Components\n */\nimport NavigationController from \"./components/NavigationController\";\nimport Cursor from \"./components/Cursor\";\nimport ThreeDSlider from \"./components/3dSlider\";\n\n/**\n * Check if document is ready cross-browser\n * @param callback\n */\nconst ready = (callback) => {\n    if (document.readyState !== \"loading\") {\n        /**\n         * Document is already ready, call the callback directly\n         */\n        callback();\n    } else if (document.addEventListener) {\n        /**\n         * All modern browsers to register DOMContentLoaded\n         */\n        document.addEventListener(\"DOMContentLoaded\", callback);\n    } else {\n        /**\n         * Old IE browsers\n         */\n        document.attachEvent(\"onreadystatechange\", function () {\n            if (document.readyState === \"complete\") {\n                callback();\n            }\n        });\n    }\n};\n\n/**\n * Document ready callback\n */\nready(() => {\n    /**\n     * HELPERS INIT\n     * Only init helpers if they exist\n     * Will be undefined on production because of import stripping\n     */\n    if (typeof GridHelper == \"function\") {\n        const grid = new GridHelper();\n        grid.init();\n    }\n\n    const doc = document.documentElement;\n    doc.style.setProperty(\"--win-height\", `${window.innerHeight}px`);\n\n    /**\n     * COMPONENTS INIT\n     */\n\n    /**\n     * Navigation\n     * @type {NavigationController}\n     */\n    const navigation = new NavigationController();\n    navigation.init();\n\n    /**\n     * ThreeDSlider\n     * @type {ThreeDSlider}\n     */\n    const threeDSlider = new ThreeDSlider();\n    threeDSlider.init();\n\n    setTimeout(() => {\n        /**\n         * Cursor\n         * @type {Cursor}\n         */\n        const cursor = new Cursor();\n        cursor.init();\n    }, 500);\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzdGF0aWMvanMvY29tcG9uZW50cy8zZFNsaWRlci5qcyIsInN0YXRpYy9qcy9jb21wb25lbnRzLzNkU2xpZGVyTW9kZWxzLmpzIiwic3RhdGljL2pzL2NvbXBvbmVudHMvQ3Vyc29yLmpzIiwic3RhdGljL2pzL2NvbXBvbmVudHMvTmF2aWdhdGlvbkNvbnRyb2xsZXIuanMiLCJzdGF0aWMvanMvaGVscGVycy9HcmlkSGVscGVyLmpzIiwic3RhdGljL2pzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQWtEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVsRCxhQUFJLENBQUMsY0FBYyxDQUFDLG9CQUFTLENBQUM7QUFBQyxJQUVWLFlBQVk7RUFDN0Isd0JBQWM7SUFBQTtJQUNWLElBQUksQ0FBQyxHQUFHLEdBQUc7TUFDUCxPQUFPLEVBQUUsdUJBQXVCO01BQ2hDLE1BQU0sRUFBRSxlQUFlO01BQ3ZCLElBQUksRUFBRSxvQkFBb0I7TUFDMUIsSUFBSSxFQUFFLG9CQUFvQjtNQUMxQixVQUFVLEVBQUUsMEJBQTBCO01BQ3RDLFlBQVksRUFBRSx5QkFBeUI7TUFDdkMsY0FBYyxFQUFFO0lBQ3BCLENBQUM7SUFFRCxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7RUFDM0Q7RUFBQztJQUFBO0lBQUEsT0FFRCxnQkFBTztNQUFBO01BQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7TUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLHNCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7TUFFbEQsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxN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SDtBQUNSO0FBQ0E7SUFDUSxRQUFRLENBQUMsV0FBVyxDQUFDLG9CQUFvQixFQUFFLFlBQVk7TUFDbkQsSUFBSSxRQUFRLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRTtRQUNwQyxRQUFRLEVBQUU7TUFDZDtJQUNKLENBQUMsQ0FBQztFQUNOO0FBQ0osQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxLQUFLLENBQUMsWUFBTTtFQUNSO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7RUFDSSxJQUFJLE9BQU8sbUJBQVUsSUFBSSxVQUFVLEVBQUU7SUFDakMsSUFBTSxJQUFJLEdBQUcsSUFBSSxtQkFBVSxFQUFFO0lBQzdCLElBQUksQ0FBQyxJQUFJLEVBQUU7RUFDZjtFQUVBLElBQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxlQUFlO0VBQ3BDLEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLGNBQWMsWUFBSyxNQUFNLENBQUMsV0FBVyxRQUFLOztFQUVoRTtBQUNKO0FBQ0E7O0VBRUk7QUFDSjtBQUNBO0FBQ0E7RUFDSSxJQUFNLFVBQVUsR0FBRyxJQUFJLDZCQUFvQixFQUFFO0VBQzdDLFVBQVUsQ0FBQyxJQUFJLEVBQUU7O0VBRWpCO0FBQ0o7QUFDQTtBQUNBO0VBQ0ksSUFBTSxZQUFZLEdBQUcsSUFBSSxnQkFBWSxFQUFFO0VBQ3ZDLFlBQVksQ0FBQyxJQUFJLEVBQUU7RUFFbkIsVUFBVSxDQUFDLFlBQU07SUFDYjtBQUNSO0FBQ0E7QUFDQTtJQUNRLElBQU0sTUFBTSxHQUFHLElBQUksZUFBTSxFQUFFO0lBQzNCLE1BQU0sQ0FBQyxJQUFJLEVBQUU7RUFDakIsQ0FBQyxFQUFFLEdBQUcsQ0FBQztBQUNYLENBQUMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgeyBTcGxpdFRleHQgfSBmcm9tIFwiZ3NhcC9kaXN0L1NwbGl0VGV4dFwiO1xuaW1wb3J0IFN3aXBlciwgeyBOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uIH0gZnJvbSBcInN3aXBlclwiO1xuaW1wb3J0IFRocmVlRFNsaWRlck1vZGVscyBmcm9tIFwiLi8zZFNsaWRlck1vZGVsc1wiO1xuXG5nc2FwLnJlZ2lzdGVyUGx1Z2luKFNwbGl0VGV4dCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRocmVlRFNsaWRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuRE9NID0ge1xuICAgICAgICAgICAgd3JhcHBlcjogXCIuanMtM2Qtc2xpZGVyLXdyYXBwZXJcIixcbiAgICAgICAgICAgIHNsaWRlcjogXCIuanMtM2Qtc2xpZGVyXCIsXG4gICAgICAgICAgICBuZXh0OiBcIi5qcy0zZC1zbGlkZXItbmV4dFwiLFxuICAgICAgICAgICAgcHJldjogXCIuanMtM2Qtc2xpZGVyLXByZXZcIixcbiAgICAgICAgICAgIHBhZ2luYXRpb246IFwiLmpzLTNkLXNsaWRlci1wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgICBwcmltYXJ5VGl0bGU6IFwiLmpzLXNsaWRlLXRpdGxlLXByaW1hcnlcIixcbiAgICAgICAgICAgIHNlY29uZGFyeVRpdGxlOiBcIi5qcy1zbGlkZS10aXRsZS1zZWNvbmRhcnlcIixcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLndyYXBwZXIpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy53cmFwcGVyKSByZXR1cm47XG4gICAgICAgIHRoaXMubW9kZWxzID0gbmV3IFRocmVlRFNsaWRlck1vZGVscyh0aGlzLndyYXBwZXIpO1xuXG4gICAgICAgIGNvbnN0IHNsaWRlciA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnNsaWRlcik7XG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5uZXh0KTtcbiAgICAgICAgY29uc3QgcHJldiA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnByZXYpO1xuICAgICAgICBjb25zdCBwYWdpbmF0aW9uID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ucGFnaW5hdGlvbik7XG5cbiAgICAgICAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcihzbGlkZXIsIHtcbiAgICAgICAgICAgIG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uXSxcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgICAgIGVsOiBwYWdpbmF0aW9uLFxuICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVuZGVyQnVsbGV0OiAoaW5kZXgsIGNsYXNzTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+PHNwYW4+MDwvc3Bhbj48c3Bhbj4xPC9zcGFuPjwvc3Bhbj5gO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICAgIG5leHRFbDogbmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2RWw6IHByZXYsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBzbGlkZUNoYW5nZTogKHN3aXBlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVUaXRsZXMoc3dpcGVyKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVscy5jaGFuZ2VTbGlkZShzd2lwZXIuYWN0aXZlSW5kZXgsIHN3aXBlci5wcmV2aW91c0luZGV4KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFmdGVySW5pdDogKHN3aXBlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuYW5pbWF0ZVRpdGxlcyhzd2lwZXIpLCAxMDApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzLmluaXQoKTtcblxuICAgICAgICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4gdGhpcy5tb2RlbHMuaW5pdE1vZGVsKHNsaWRlLCBpbmRleCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZVByaW1hcnkgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnByaW1hcnlUaXRsZSk7XG4gICAgICAgICAgICBjb25zdCB0aXRsZVNlY29uZGFyeSA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00uc2Vjb25kYXJ5VGl0bGUpO1xuXG4gICAgICAgICAgICBjb25zdCBzcGxpdFByaW1hcnkgPSBuZXcgU3BsaXRUZXh0KHRpdGxlUHJpbWFyeSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hhcnNcIixcbiAgICAgICAgICAgICAgICBjaGFyc0NsYXNzOiBcInNwbGl0LXRleHQtY2hhclwiLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNwbGl0U2Vjb25kYXJ5ID0gbmV3IFNwbGl0VGV4dCh0aXRsZVNlY29uZGFyeSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hhcnNcIixcbiAgICAgICAgICAgICAgICBjaGFyc0NsYXNzOiBcInNwbGl0LXRleHQtY2hhclwiLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGdzYXAuc2V0KHNwbGl0UHJpbWFyeS5jaGFycywge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYW5pbWF0ZVRpdGxlcyhzd2lwZXIpIHtcbiAgICAgICAgdGhpcy5hbmltYXRlVGl0bGVJbihzd2lwZXIuc2xpZGVzW3N3aXBlci5hY3RpdmVJbmRleF0pO1xuXG4gICAgICAgIGlmIChzd2lwZXIuc2xpZGVzW3N3aXBlci5wcmV2aW91c0luZGV4XSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlVGl0bGVPdXQoc3dpcGVyLnNsaWRlc1tzd2lwZXIucHJldmlvdXNJbmRleF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5pbWF0ZVRpdGxlSW4oc2xpZGUpIHtcbiAgICAgICAgY29uc3QgdGl0bGVQcmltYXJ5Q2hhcnMgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnByaW1hcnlUaXRsZSkucXVlcnlTZWxlY3RvckFsbChcIi5zcGxpdC10ZXh0LWNoYXJcIik7XG4gICAgICAgIGNvbnN0IHRpdGxlU2Vjb25kYXJ5Q2hhcnMgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnNlY29uZGFyeVRpdGxlKS5xdWVyeVNlbGVjdG9yQWxsKFwiLnNwbGl0LXRleHQtY2hhclwiKTtcblxuICAgICAgICBnc2FwLnRvKHRpdGxlUHJpbWFyeUNoYXJzLCB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBcInZpc2libGVcIixcbiAgICAgICAgICAgIGRlbGF5OiAwLjYsXG4gICAgICAgICAgICBkdXJhdGlvbjogMC4yLFxuICAgICAgICAgICAgc3RhZ2dlcjoge1xuICAgICAgICAgICAgICAgIGVhY2g6IDAuMDUsXG4gICAgICAgICAgICAgICAgZnJvbTogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdzYXAudG8odGl0bGVTZWNvbmRhcnlDaGFycywge1xuICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgIGRlbGF5OiAwLjQsXG4gICAgICAgICAgICBkdXJhdGlvbjogMC4yLFxuICAgICAgICAgICAgc3RhZ2dlcjoge1xuICAgICAgICAgICAgICAgIGVhY2g6IDAuMDUsXG4gICAgICAgICAgICAgICAgZnJvbTogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuaW1hdGVUaXRsZU91dChzbGlkZSkge1xuICAgICAgICBjb25zdCB0aXRsZVByaW1hcnlDaGFycyA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ucHJpbWFyeVRpdGxlKS5xdWVyeVNlbGVjdG9yQWxsKFwiLnNwbGl0LXRleHQtY2hhclwiKTtcbiAgICAgICAgY29uc3QgdGl0bGVTZWNvbmRhcnlDaGFycyA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00uc2Vjb25kYXJ5VGl0bGUpLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3BsaXQtdGV4dC1jaGFyXCIpO1xuXG4gICAgICAgIGdzYXAudG8odGl0bGVQcmltYXJ5Q2hhcnMsIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdzYXAudG8odGl0bGVTZWNvbmRhcnlDaGFycywge1xuICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IERSQUNPTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0RSQUNPTG9hZGVyXCI7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXJcIjtcbmltcG9ydCBTY3JvbGxUcmlnZ2VyIGZyb20gXCJnc2FwL1Njcm9sbFRyaWdnZXJcIjtcblxuZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhyZWVEU2xpZGVyTW9kZWxzIHtcbiAgICBjb25zdHJ1Y3Rvcih3cmFwcGVyKSB7XG4gICAgICAgIHRoaXMuRE9NID0ge1xuICAgICAgICAgICAgbW9kZWxzOiBcIi5qcy0zZC1zbGlkZXItbW9kZWxzXCIsXG4gICAgICAgICAgICBzbGlkZTogXCIuanMtM2Qtc2xpZGVyLXNsaWRlXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5tb2RlbHMgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ubW9kZWxzKTtcblxuICAgICAgICB0aGlzLmluVmlld3BvcnQgPSBmYWxzZTtcblxuICAgICAgICAvLyBjb25maWdcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBtb2RlbE9mZnNldDogNixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMubW9kZWxzKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5tb2RlbHNBcnJheSA9IFtdO1xuXG4gICAgICAgIHRoaXMubW9kZWxzV3JhcHBlciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTtcblxuICAgICAgICAvLyBsb2FkZXJcbiAgICAgICAgY29uc3QgZHJhY29Mb2FkZXIgPSBuZXcgRFJBQ09Mb2FkZXIoKTtcbiAgICAgICAgZHJhY29Mb2FkZXIuc2V0RGVjb2RlclBhdGgod2luZG93LmRyYWNvUGF0aCk7XG4gICAgICAgIGRyYWNvTG9hZGVyLnNldERlY29kZXJDb25maWcoe1xuICAgICAgICAgICAgdHlwZTogXCJqc1wiLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2FkZXIuc2V0RFJBQ09Mb2FkZXIoZHJhY29Mb2FkZXIpO1xuXG4gICAgICAgIFRIUkVFLkNhY2hlLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMubW9kZWxzLFxuICAgICAgICAgICAgc3RhcnQ6IFwidG9wIGJvdHRvbVwiLFxuICAgICAgICAgICAgZW5kOiBcImJvdHRvbSB0b3BcIixcbiAgICAgICAgICAgIG9uRW50ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluVmlld3BvcnQgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTGVhdmU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluVmlld3BvcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVudGVyQmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5WaWV3cG9ydCA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MZWF2ZUJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluVmlld3BvcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pbml0Q2FtZXJhKCk7XG4gICAgICAgIHRoaXMuaW5pdFNjZW5lKCk7XG4gICAgICAgIHRoaXMuaW5pdExpZ2h0cygpO1xuICAgICAgICB0aGlzLmluaXRSZW5kZXJlcigpO1xuICAgICAgICB0aGlzLmFuaW1hdGUoKTtcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUoKTtcblxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLm1vZGVsc1dyYXBwZXIpO1xuXG4gICAgICAgIC8vIGhhbmRsZSByZXNpemVcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4gdGhpcy5vbldpbmRvd1Jlc2l6ZSgpLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgbW91c2VNb3ZlKCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGxldCBtb3VzZVkgPSBldi5jbGllbnRZO1xuXG4gICAgICAgICAgICBnc2FwLnRvKHRoaXMueWVsbG93TGlnaHQucG9zaXRpb24sIHtcbiAgICAgICAgICAgICAgICB5OiAtMSAtIChtb3VzZVkgLSB3aW5kb3cuaW5uZXJIZWlnaHQpIC8gNDAwLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGdzYXAudG8odGhpcy5ibHVlTGlnaHQucG9zaXRpb24sIHtcbiAgICAgICAgICAgICAgICB5OiAtKG1vdXNlWSAtIHdpbmRvdy5pbm5lckhlaWdodCkgLyA0MDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2FtZXJhIHNldHVwXG4gICAgICovXG4gICAgaW5pdENhbWVyYSgpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoMzUsIHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCwgMC41LCAxMDApO1xuICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgNik7XG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCgwLCAwLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzY2VuZSBzZXR1cFxuICAgICAqL1xuICAgIGluaXRTY2VuZSgpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxpZ2h0cyBzZXR1cCAtIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgPiBhbGwgaW4gb25lIG9iamVjdFxuICAgICAqL1xuICAgIGluaXRMaWdodHMoKSB7XG4gICAgICAgIGNvbnN0IGxpZ2h0V3JhcHBlciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgICAgIHRoaXMueWVsbG93TGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweGZlYjMwMSwgNSwgNCk7XG4gICAgICAgIHRoaXMueWVsbG93TGlnaHQucG9zaXRpb24uc2V0KC0xLCAxLCAyKTtcbiAgICAgICAgLy8gdGhpcy55ZWxsb3dMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmJsdWVMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4MjQwMGZmLCA1LCAyKTtcbiAgICAgICAgdGhpcy5ibHVlTGlnaHQucG9zaXRpb24uc2V0KDEsIDAsIDEpO1xuICAgICAgICAvLyB0aGlzLmJsdWVMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcblxuICAgICAgICBsaWdodFdyYXBwZXIuYWRkKHRoaXMuYmx1ZUxpZ2h0KTtcbiAgICAgICAgbGlnaHRXcmFwcGVyLmFkZCh0aGlzLnllbGxvd0xpZ2h0KTtcblxuICAgICAgICB0aGlzLnNjZW5lLmFkZChsaWdodFdyYXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlbmRlcmVyIHNldHVwXG4gICAgICovXG4gICAgaW5pdFJlbmRlcmVyKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBcImhpZ2gtcGVyZm9ybWFuY2VcIixcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwMDAwMDAsIDApO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAyID8gMiA6IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7XG4gICAgICAgIHRoaXMubW9kZWxzLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbW9kZWwgc2V0dXAgYW5kIGxvYWQgY2FsbFxuICAgICAqL1xuICAgIGluaXRNb2RlbChzbGlkZSwgaW5kZXgpIHtcbiAgICAgICAgaWYgKCFzbGlkZSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubG9hZGVyLmxvYWQoXG4gICAgICAgICAgICBzbGlkZS5kYXRhc2V0Lm1vZGVsLFxuICAgICAgICAgICAgKGdsdGYpID0+IHtcbiAgICAgICAgICAgICAgICBnbHRmLnNjZW5lLnJvdGF0aW9uLnkgPSAtTWF0aC5QSSAvIDI7XG5cbiAgICAgICAgICAgICAgICBnbHRmLnNjZW5lLnBvc2l0aW9uLnggPSBpbmRleCAqIHRoaXMuY29uZmlnLm1vZGVsT2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgZ2x0Zi5zY2VuZS51dWlkID0gaW5kZXg7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc0FycmF5LnB1c2goZ2x0Zi5zY2VuZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc1dyYXBwZXIuYWRkKGdsdGYuc2NlbmUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoeGhyLmxvYWRlZCAvIHhoci50b3RhbCkgKiAxMDAgKyBcIiUgbG9hZGVkXCIpOyAvKiovXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBbiBlcnJvciBoYXBwZW5lZFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICovXG4gICAgYW5pbWF0ZSgpIHtcbiAgICAgICAgbGV0IHJhZiA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlcmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy5tb2RlbHMsXG4gICAgICAgICAgICBzdGFydDogXCJ0b3AgYm90dG9tXCIsXG4gICAgICAgICAgICBlbmQ6IFwiYm90dG9tIHRvcFwiLFxuICAgICAgICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxlYXZlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVudGVyQmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxlYXZlQmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjaGFuZ2VTbGlkZShpbmRleCwgcHJldkluZGV4KSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbHNBcnJheS5maW5kKChtb2RlbCkgPT4gbW9kZWwudXVpZCA9PT0gaW5kZXgpO1xuICAgICAgICBjb25zdCBwcmV2TW9kZWwgPSB0aGlzLm1vZGVsc0FycmF5LmZpbmQoKG1vZGVsKSA9PiBtb2RlbC51dWlkID09PSBwcmV2SW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHByZXZJbmRleCA+IGluZGV4ID8gMSA6IC0xO1xuXG4gICAgICAgIGdzYXAudGltZWxpbmUoKVxuICAgICAgICAgICAgLmFkZChcInN0YXJ0XCIpXG4gICAgICAgICAgICAudG8oXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbHNXcmFwcGVyLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeDogLWluZGV4ICogdGhpcy5jb25maWcubW9kZWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwic3RhcnRcIixcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5mcm9tVG8oXG4gICAgICAgICAgICAgICAgbW9kZWwucm90YXRpb24sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB5OiAtTWF0aC5QSSAvIDIgKyAyLjUgKiBkaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHk6IC1NYXRoLlBJIC8gMixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIsXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6IFwicG93ZXI0Lm91dFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJzdGFydFwiLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmZyb21UbyhcbiAgICAgICAgICAgICAgICBwcmV2TW9kZWwucm90YXRpb24sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB5OiAtTWF0aC5QSSAvIDIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHk6IC1NYXRoLlBJIC8gMiArIC0yLjUgKiBkaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwic3RhcnRcIixcbiAgICAgICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IGdzYXAgZnJvbSBcImdzYXBcIjtcbmltcG9ydCBpcyBmcm9tIFwiaXNfanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICB3cmFwcGVyOiBcIi5qcy1jdXJzb3JcIixcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLndyYXBwZXIpO1xuICAgICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLndyYXBwZXIgfHwgaXMudG91Y2hEZXZpY2UoKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0ICogMC41O1xuICAgICAgICBjb25zdCBvZmZzZXRYID0gdGhpcy53cmFwcGVyLm9mZnNldFdpZHRoICogMC4wNTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIChldikgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJpcy1tb3ZlZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3NhcC5zZXQodGhpcy53cmFwcGVyLCB7XG4gICAgICAgICAgICAgICAgeDogZXYuY2xpZW50WCAtIG9mZnNldFgsXG4gICAgICAgICAgICAgICAgeTogZXYuY2xpZW50WSAtIG9mZnNldFksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoZXYpID0+IHtcbiAgICAgICAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtbW92ZWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJhXCIpLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2luZ2xlTGluayhsaW5rKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oYXMtaG92ZXJcIikuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVMaW5rKGxpbmspO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaW5nbGVMaW5rKGxpbmspIHtcbiAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBOYXZpZ2F0aW9uIGNvbnRyb2xsZXJcbiAqIFwic21hcnRcIiBuYXZpZ2F0aW9uIHdoaWNoIGdvZXMgb2ZmIHNjcmVlbiB3aGVuIHNjcm9sbGluZyBkb3duIGZvciBhIGJldHRlciBvdmVydmlldyBvZiBjb250ZW50IGFuZCBVWFxuICogbmF2aWdhdGlvbiBhcHBlYXJzIHdoZW4gc2Nyb2xsaW5nIHVwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmlnYXRpb25Db250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hdmlnYXRpb24gRE9NIHNlbGVjdG9yc1xuICAgICAgICAgKiBOYXZpZ2F0aW9uIERPTSBzdGF0ZSBDU1MgY2xhc3Nlc1xuICAgICAgICAgKiBAdHlwZSB7e25hdmlnYXRpb246IHN0cmluZywgc3RhdGVzOiB7bmF2aWdhdGlvblNsaWRlVXA6IHN0cmluZywgbmF2aWdhdGlvblNjcm9sbGVkOiBzdHJpbmcsIG5hdmlnYXRpb25GaXhlZDogc3RyaW5nfX19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkRPTSA9IHtcbiAgICAgICAgICAgIG5hdmlnYXRpb246IFwiLmpzLW5hdmlnYXRpb25cIixcbiAgICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25TY3JvbGxlZDogXCJoYXMtc2Nyb2xsZWRcIixcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uRml4ZWQ6IFwiaXMtZml4ZWRcIixcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU2xpZGVVcDogXCJzbGlkZS11cFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZmxhZywgc3RhdGUgdmFyaWFibGUgZm9yIHNjcm9sbGluZyBldmVudFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbW91bnQgb2YgcGl4ZWxzIHRvIHNjcm9sbCBmcm9tIHRvcCBmb3IgYWRkaW5nIFwiaGFzLXNjcm9sbGVkXCIgc3RhdGUgY2xhc3NcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCA9IDIwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHZhcmlhYmxlIGZvciBzdG9yaW5nIGFtb3VudCBvZiBzY3JvbGwgZnJvbSB0b3AgcG9zaXRpb24gdmFsdWVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXNUb3AgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdmFyaWFibGUgZm9yIHN0b3JpbmcgY3VycmVudCBzY3JvbGwgcG9zaXRpb24gdmFsdWVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFRvcCA9IDA7XG4gICAgICAgIHRoaXMuc2Nyb2xsRGVsdGEgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbE9mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZldGNoIG5hdmlnYXRpb24gZWxlbWVudCBET00gZWxlbWVudFxuICAgICAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ubmF2aWdhdGlvbik7XG4gICAgfVxuXG4gICAgLy9yZWdpb24gbWV0aG9kc1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAodGhpcy5uYXZpZ2F0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5hdmlnYXRpb24gaW5pdCgpXCIpO1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLkRPTS5uYXZpZ2F0aW9ufSBkb2VzIG5vdCBleGlzdCBpbiB0aGUgRE9NIWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBuYXZpZ2F0aW9uQ29udHJvbGxlcigpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jaGVja1Njcm9sbCgpLCAyNTApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmNoZWNrU2Nyb2xsKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBjaGVja1Njcm9sbCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgY3VycmVudFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuXG4gICAgICAgIHRoaXMuY2hhbmdlTmF2aWdhdGlvblN0YXRlKGN1cnJlbnRUb3ApO1xuXG4gICAgICAgIHRoaXMucHJldmlvdXNUb3AgPSBjdXJyZW50VG9wO1xuICAgICAgICB0aGlzLnNjcm9sbGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGN1cnJlbnRUb3BcbiAgICAgKi9cbiAgICBjaGFuZ2VOYXZpZ2F0aW9uU3RhdGUoY3VycmVudFRvcCkge1xuICAgICAgICBpZiAoY3VycmVudFRvcCA+IHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5hZGQodGhpcy5ET00uc3RhdGVzLm5hdmlnYXRpb25TY3JvbGxlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkRPTS5zdGF0ZXMubmF2aWdhdGlvblNjcm9sbGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzVG9wID49IGN1cnJlbnRUb3ApIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsaW5nVXAoY3VycmVudFRvcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGluZ0Rvd24oY3VycmVudFRvcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjdXJyZW50VG9wXG4gICAgICovXG4gICAgc2Nyb2xsaW5nVXAoY3VycmVudFRvcCkge1xuICAgICAgICBpZiAoY3VycmVudFRvcCA8IHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5ET00uc3RhdGVzLm5hdmlnYXRpb25TbGlkZVVwKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXZpb3VzVG9wIC0gY3VycmVudFRvcCA+IHRoaXMuc2Nyb2xsRGVsdGEpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuRE9NLnN0YXRlcy5uYXZpZ2F0aW9uU2xpZGVVcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjdXJyZW50VG9wXG4gICAgICovXG4gICAgc2Nyb2xsaW5nRG93bihjdXJyZW50VG9wKSB7XG4gICAgICAgIGlmIChjdXJyZW50VG9wID4gdGhpcy5zY3JvbGxOYXZpZ2F0aW9uT2Zmc2V0ICsgdGhpcy5zY3JvbGxPZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QuYWRkKHRoaXMuRE9NLnN0YXRlcy5uYXZpZ2F0aW9uU2xpZGVVcCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRvcCA+IHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5ET00uc3RhdGVzLm5hdmlnYXRpb25TbGlkZVVwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vZW5kcmVnaW9uXG59XG4iLCIvKipcbiAqIEdyaWQgaGVscGVyXG4gKiBTaG93IGdyaWQgb3ZlcmxheSB3aGVuIGRldmVsb3BpbmdcbiAqIE5vdCBpbmNsdWRlZCBpbiBwcm9kdWN0aW9uIGJ1bmRsZSBKUyBmaWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRIZWxwZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBET00gc2VsZWN0b3JcbiAgICAgICAgICogQHR5cGUge3tncmlkOiBzdHJpbmd9fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICBncmlkOiBcImdyaWRcIixcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBvcHRpb25zXG4gICAgICAgICAqIEB0eXBlIHt7XG4gICAgICAgICAqIGd1dHRlckZpeGVkOiBib29sZWFuLFxuICAgICAgICAgKiBpbml0aWFsRGlzcGxheTogc3RyaW5nLFxuICAgICAgICAgKiBncmlkRml4ZWQ6IGJvb2xlYW4sXG4gICAgICAgICAqIGd1dHRlcldpZHRoOiBudW1iZXIsXG4gICAgICAgICAqIGdyaWRDb2xvcjogc3RyaW5nLFxuICAgICAgICAgKiBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgICAgICAgKiBncmlkV2lkdGg6IG51bWJlcixcbiAgICAgICAgICogY29sdW1uQmdDb2xvcjogc3RyaW5nXG4gICAgICAgICAqIH19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdyaWRPcHRpb25zID0ge1xuICAgICAgICAgICAgaW5pdGlhbERpc3BsYXk6IFwibm9uZVwiLCAvLyBcImZsZXhcIiBvciBcIm5vbmVcIiDigJQgaW5pdGlhbCBkaXNwbGF5IGZvciB0aGUgZ3JpZCDigJQgc3RyaW5nXG4gICAgICAgICAgICBjb2x1bW5Db3VudDogMjQsIC8vIG51bWJlciBvZiBncmlkIGNvbHVtbnMg4oCUIGludGVnZXJcbiAgICAgICAgICAgIGdyaWRXaWR0aDogMTQ0MCwgLy8gYmFzZSBncmlkIHVzZWQgaW4gZGVzaWduOyB2YWx1ZSBpbiBweCDigJQgaW50ZWdlclxuICAgICAgICAgICAgZ3JpZEZpeGVkOiB0cnVlLCAvLyBzaG91bGQgZ3JpZCB3aWR0aCBiZSByZXN0cmljdGVkIHRvIGdyaWRXaWR0aCBvciBpdCBzaG91bGQgZ28gZnVsbCB3aWR0aCBhIG5kIGJlaGF2ZSBmbHVpZGx5IGFjcm9zcyBhbGwgc2NyZWVuIHNpemVzXG4gICAgICAgICAgICBndXR0ZXJXaWR0aDogMCwgLy8gZ3JpZCBndXR0ZXJzIHZhbHVlIGluIHB4IOKAlCBpbnRlZ2VyXG4gICAgICAgICAgICBndXR0ZXJGaXhlZDogZmFsc2UsIC8vIHNob3VsZCBncmlkIGd1dHRlciBiZSBhIGZpeGVkIHZhbHVlIChweCkgb3IgZmx1aWQg4oCUIGludGVnZXJcbiAgICAgICAgICAgIGdyaWRDb2xvcjogXCJyZ2IoMjU1LCAwLCAyNTUsIDAuMTUpXCIsIC8vIGdyaWQgZ3VpZGVzIGNvbG9yIOKAlCBzdHJpbmcgb2YgYW4gcmdiYSBvciBoZXggdmFsdWVcbiAgICAgICAgICAgIGNvbHVtbkJnQ29sb3I6IFwicmdiKDI1NSwgMCwgMjU1LCAwLjAyNSlcIiwgLy8gZ3JpZCBjb2x1bW5zIGJhY2tncm91bmQgY29sb3Ig4oCUIHN0cmluZyBvZiBhbiByZ2JhIG9yIGhleCB2YWx1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNvbnNvbGVMb2dTdHlsZSA9IFtcbiAgICAgICAgICAgIFwiYmFja2dyb3VuZC1jb2xvcjogI2E2YTZhNlwiLFxuICAgICAgICAgICAgXCJjb2xvcjogYmxhY2tcIixcbiAgICAgICAgICAgIFwiZGlzcGxheTogYmxvY2tcIixcbiAgICAgICAgICAgIFwibGluZS1oZWlnaHQ6IDI0cHhcIixcbiAgICAgICAgICAgIFwidGV4dC1hbGlnbjogY2VudGVyXCIsXG4gICAgICAgICAgICBcImJvcmRlcjogMXB4IHNvbGlkICNmZmZmZmZcIixcbiAgICAgICAgICAgIFwiZm9udC13ZWlnaHQ6IGJvbGRcIixcbiAgICAgICAgXS5qb2luKFwiO1wiKTtcblxuICAgICAgICBjb25zb2xlLmluZm8oXCJ0b2dnbGUgZ3JpZDogJWMgQWx0L09wdGlvbiArIEcgXCIsIGNvbnNvbGVMb2dTdHlsZSk7XG5cbiAgICAgICAgdGhpcy5ncmlkID0gbnVsbDtcblxuICAgICAgICB0aGlzLmNvbHVtbldpZHRoID1cbiAgICAgICAgICAgICh0aGlzLmdyaWRPcHRpb25zLmdyaWRXaWR0aCAtICh0aGlzLmdyaWRPcHRpb25zLmNvbHVtbkNvdW50IC0gMSkgKiB0aGlzLmdyaWRPcHRpb25zLmd1dHRlcldpZHRoKSAvIHRoaXMuZ3JpZE9wdGlvbnMuY29sdW1uQ291bnQ7XG5cbiAgICAgICAgdGhpcy5jb2x1bW5XaWR0aFBlcmNlbnRhZ2UgPSBgJHsodGhpcy5jb2x1bW5XaWR0aCAvIHRoaXMuZ3JpZE9wdGlvbnMuZ3JpZFdpZHRoKSAqIDEwMH0lYDtcblxuICAgICAgICB0aGlzLmd1dHRlcldpZHRoUGVyY2VudGFnZSA9IGAkeyh0aGlzLmdyaWRPcHRpb25zLmd1dHRlcldpZHRoIC8gdGhpcy5ncmlkT3B0aW9ucy5ncmlkV2lkdGgpICogMTAwfSVgO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiR3JpZEhlbHBlciBpbml0KClcIik7XG4gICAgICAgIHRoaXMuaW5pdEdyaWQoKTtcbiAgICAgICAgdGhpcy5rZXlib2FyZFNob3J0Y3V0KCk7XG4gICAgfVxuXG4gICAgaW5pdEdyaWQoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBncmlkIG92ZXJsYXkgZWxlbWVudFxuICAgICAgICB0aGlzLmdyaWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmdyaWQuaWQgPSB0aGlzLkRPTS5ncmlkO1xuXG4gICAgICAgIC8vIHN0eWxlIGdyaWQgZWxlbWVudFxuICAgICAgICB0aGlzLmdyaWQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgZGlzcGxheTogJHt0aGlzLmdyaWRPcHRpb25zLmluaXRpYWxEaXNwbGF5fTtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTtcbiAgICAgICAgYDtcblxuICAgICAgICBpZiAodGhpcy5ncmlkT3B0aW9ucy5ncmlkRml4ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZC5zdHlsZS5tYXhXaWR0aCA9IGAke3RoaXMuZ3JpZE9wdGlvbnMuZ3JpZFdpZHRofXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5ncmlkT3B0aW9ucy5ndXR0ZXJXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZC5zdHlsZS5ib3JkZXJMZWZ0ID0gXCJub25lXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgZ3JpZCBjb250YWluZXIgdG8gcGFnZVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZ3JpZCk7XG5cbiAgICAgICAgLy8gYWRkIGNvbHVtbnMgdG8gZ3JpZFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JpZE9wdGlvbnMuY29sdW1uQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgICAgICAgICAgdGhpcy5ncmlkLmFwcGVuZENoaWxkKGNvbHVtbik7XG5cbiAgICAgICAgICAgIGNvbHVtbi5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLmdyaWRPcHRpb25zLmNvbHVtbkJnQ29sb3J9O1xuICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgJHt0aGlzLmdyaWRPcHRpb25zLmdyaWRDb2xvcn07XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5ncmlkT3B0aW9ucy5ndXR0ZXJXaWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4uc3R5bGUuYm9yZGVyUmlnaHQgPSBgMXB4IHNvbGlkICR7dGhpcy5ncmlkT3B0aW9ucy5ncmlkQ29sb3J9YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkLnN0eWxlLmJvcmRlclJpZ2h0ID0gYDFweCBzb2xpZCAke3RoaXMuZ3JpZE9wdGlvbnMuZ3JpZENvbG9yfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdyaWRPcHRpb25zLmd1dHRlckZpeGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uLnN0eWxlLm1hcmdpblJpZ2h0ID0gYCR7dGhpcy5ncmlkT3B0aW9ucy5ndXR0ZXJXaWR0aH1weGA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbHVtbi5zdHlsZS5tYXJnaW5SaWdodCA9IHRoaXMuZ3V0dGVyV2lkdGhQZXJjZW50YWdlO1xuICAgICAgICAgICAgICAgIGNvbHVtbi5zdHlsZS53aWR0aCA9IHRoaXMuY29sdW1uV2lkdGhQZXJjZW50YWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmlkLmxhc3RDaGlsZC5zdHlsZS5tYXJnaW5SaWdodCA9IDA7XG4gICAgfVxuXG4gICAga2V5Ym9hcmRTaG9ydGN1dCgpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChldikgPT4ge1xuICAgICAgICAgICAgaWYgKGV2LmtleUNvZGUgPT09IDcxICYmIGV2LmFsdEtleSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyaWQuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBNQUlOIEpTIEZJTEVcbiAqL1xuXG4vKipcbiAqIEhlbHBlcnNcbiAqIEltcG9ydHMgb2YgaGVscGVyIGZ1bmN0aW9ucyBhcmUgc3RyaXBwZWQgb3V0IG9mIGJ1bmRsZVxuICogSW5jbHVkZSB0aGVtIHdpdGhpbiBcInN0YXJ0LXN0cmlwLWNvZGVcIiBhbmQgXCJlbmQtc3RyaXAtY29kZVwiIGNvbW1lbnRzXG4gKi9cbi8qIHN0YXJ0LXN0cmlwLWNvZGUgKi9cbmltcG9ydCBHcmlkSGVscGVyIGZyb20gXCIuL2hlbHBlcnMvR3JpZEhlbHBlclwiO1xuLyogZW5kLXN0cmlwLWNvZGUgKi9cbi8qKlxuICogQ29tcG9uZW50c1xuICovXG5pbXBvcnQgTmF2aWdhdGlvbkNvbnRyb2xsZXIgZnJvbSBcIi4vY29tcG9uZW50cy9OYXZpZ2F0aW9uQ29udHJvbGxlclwiO1xuaW1wb3J0IEN1cnNvciBmcm9tIFwiLi9jb21wb25lbnRzL0N1cnNvclwiO1xuaW1wb3J0IFRocmVlRFNsaWRlciBmcm9tIFwiLi9jb21wb25lbnRzLzNkU2xpZGVyXCI7XG5cbi8qKlxuICogQ2hlY2sgaWYgZG9jdW1lbnQgaXMgcmVhZHkgY3Jvc3MtYnJvd3NlclxuICogQHBhcmFtIGNhbGxiYWNrXG4gKi9cbmNvbnN0IHJlYWR5ID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2N1bWVudCBpcyBhbHJlYWR5IHJlYWR5LCBjYWxsIHRoZSBjYWxsYmFjayBkaXJlY3RseVxuICAgICAgICAgKi9cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBtb2Rlcm4gYnJvd3NlcnMgdG8gcmVnaXN0ZXIgRE9NQ29udGVudExvYWRlZFxuICAgICAgICAgKi9cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbGQgSUUgYnJvd3NlcnNcbiAgICAgICAgICovXG4gICAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERvY3VtZW50IHJlYWR5IGNhbGxiYWNrXG4gKi9cbnJlYWR5KCgpID0+IHtcbiAgICAvKipcbiAgICAgKiBIRUxQRVJTIElOSVRcbiAgICAgKiBPbmx5IGluaXQgaGVscGVycyBpZiB0aGV5IGV4aXN0XG4gICAgICogV2lsbCBiZSB1bmRlZmluZWQgb24gcHJvZHVjdGlvbiBiZWNhdXNlIG9mIGltcG9ydCBzdHJpcHBpbmdcbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIEdyaWRIZWxwZXIgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZEhlbHBlcigpO1xuICAgICAgICBncmlkLmluaXQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgZG9jLnN0eWxlLnNldFByb3BlcnR5KFwiLS13aW4taGVpZ2h0XCIsIGAke3dpbmRvdy5pbm5lckhlaWdodH1weGApO1xuXG4gICAgLyoqXG4gICAgICogQ09NUE9ORU5UUyBJTklUXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBOYXZpZ2F0aW9uXG4gICAgICogQHR5cGUge05hdmlnYXRpb25Db250cm9sbGVyfVxuICAgICAqL1xuICAgIGNvbnN0IG5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgICBuYXZpZ2F0aW9uLmluaXQoKTtcblxuICAgIC8qKlxuICAgICAqIFRocmVlRFNsaWRlclxuICAgICAqIEB0eXBlIHtUaHJlZURTbGlkZXJ9XG4gICAgICovXG4gICAgY29uc3QgdGhyZWVEU2xpZGVyID0gbmV3IFRocmVlRFNsaWRlcigpO1xuICAgIHRocmVlRFNsaWRlci5pbml0KCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnNvclxuICAgICAgICAgKiBAdHlwZSB7Q3Vyc29yfVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgY3Vyc29yID0gbmV3IEN1cnNvcigpO1xuICAgICAgICBjdXJzb3IuaW5pdCgpO1xuICAgIH0sIDUwMCk7XG59KTtcbiJdfQ=="}