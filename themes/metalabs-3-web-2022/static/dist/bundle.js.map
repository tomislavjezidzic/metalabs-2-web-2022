{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/gsap/dist/ScrollTrigger.js","static/js/components/3dSlider.js","static/js/components/3dSliderModels.js","static/js/components/ContactModel.js","static/js/components/Cursor.js","static/js/components/FlickeringText.js","static/js/components/HeaderModel.js","static/js/components/Marquee.js","static/js/components/NavigationController.js","static/js/helpers/GridHelper.js","static/js/index.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.window = global.window || {}));\n}(this, (function (exports) { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  /*!\n   * Observer 3.10.4\n   * https://greensock.com\n   *\n   * @license Copyright 2008-2022, GreenSock. All rights reserved.\n   * Subject to the terms at https://greensock.com/standard-license or for\n   * Club GreenSock members, the agreement issued with that membership.\n   * @author: Jack Doyle, jack@greensock.com\n  */\n  var gsap,\n      _coreInitted,\n      _clamp,\n      _win,\n      _doc,\n      _docEl,\n      _body,\n      _isTouch,\n      _pointerType,\n      ScrollTrigger,\n      _root,\n      _normalizer,\n      _eventTypes,\n      _getGSAP = function _getGSAP() {\n    return gsap || typeof window !== \"undefined\" && (gsap = window.gsap) && gsap.registerPlugin && gsap;\n  },\n      _startup = 1,\n      _observers = [],\n      _scrollers = [],\n      _proxies = [],\n      _getTime = Date.now,\n      _bridge = function _bridge(name, value) {\n    return value;\n  },\n      _integrate = function _integrate() {\n    var core = ScrollTrigger.core,\n        data = core.bridge || {},\n        scrollers = core._scrollers,\n        proxies = core._proxies;\n    scrollers.push.apply(scrollers, _scrollers);\n    proxies.push.apply(proxies, _proxies);\n    _scrollers = scrollers;\n    _proxies = proxies;\n\n    _bridge = function _bridge(name, value) {\n      return data[name](value);\n    };\n  },\n      _getProxyProp = function _getProxyProp(element, property) {\n    return ~_proxies.indexOf(element) && _proxies[_proxies.indexOf(element) + 1][property];\n  },\n      _isViewport = function _isViewport(el) {\n    return !!~_root.indexOf(el);\n  },\n      _addListener = function _addListener(element, type, func, nonPassive, capture) {\n    return element.addEventListener(type, func, {\n      passive: !nonPassive,\n      capture: !!capture\n    });\n  },\n      _removeListener = function _removeListener(element, type, func, capture) {\n    return element.removeEventListener(type, func, !!capture);\n  },\n      _scrollLeft = \"scrollLeft\",\n      _scrollTop = \"scrollTop\",\n      _onScroll = function _onScroll() {\n    return _normalizer && _normalizer.isPressed || _scrollers.cache++;\n  },\n      _scrollCacheFunc = function _scrollCacheFunc(f, doNotCache) {\n    var cachingFunc = function cachingFunc(value) {\n      if (value || value === 0) {\n        _startup && (_win.history.scrollRestoration = \"manual\");\n        var isNormalizing = _normalizer && _normalizer.isPressed;\n        value = cachingFunc.v = Math.round(value) || (_normalizer && _normalizer.iOS ? 1 : 0);\n        f(value);\n        cachingFunc.cacheID = _scrollers.cache;\n        isNormalizing && _bridge(\"ss\", value);\n      } else if (doNotCache || _scrollers.cache !== cachingFunc.cacheID || _bridge(\"ref\")) {\n        cachingFunc.cacheID = _scrollers.cache;\n        cachingFunc.v = f();\n      }\n\n      return cachingFunc.v + cachingFunc.offset;\n    };\n\n    cachingFunc.offset = 0;\n    return f && cachingFunc;\n  },\n      _horizontal = {\n    s: _scrollLeft,\n    p: \"left\",\n    p2: \"Left\",\n    os: \"right\",\n    os2: \"Right\",\n    d: \"width\",\n    d2: \"Width\",\n    a: \"x\",\n    sc: _scrollCacheFunc(function (value) {\n      return arguments.length ? _win.scrollTo(value, _vertical.sc()) : _win.pageXOffset || _doc[_scrollLeft] || _docEl[_scrollLeft] || _body[_scrollLeft] || 0;\n    })\n  },\n      _vertical = {\n    s: _scrollTop,\n    p: \"top\",\n    p2: \"Top\",\n    os: \"bottom\",\n    os2: \"Bottom\",\n    d: \"height\",\n    d2: \"Height\",\n    a: \"y\",\n    op: _horizontal,\n    sc: _scrollCacheFunc(function (value) {\n      return arguments.length ? _win.scrollTo(_horizontal.sc(), value) : _win.pageYOffset || _doc[_scrollTop] || _docEl[_scrollTop] || _body[_scrollTop] || 0;\n    })\n  },\n      _getTarget = function _getTarget(t) {\n    return gsap.utils.toArray(t)[0] || (typeof t === \"string\" && gsap.config().nullTargetWarn !== false ? console.warn(\"Element not found:\", t) : null);\n  },\n      _getScrollFunc = function _getScrollFunc(element, _ref) {\n    var s = _ref.s,\n        sc = _ref.sc;\n\n    var i = _scrollers.indexOf(element),\n        offset = sc === _vertical.sc ? 1 : 2;\n\n    !~i && (i = _scrollers.push(element) - 1);\n    return _scrollers[i + offset] || (_scrollers[i + offset] = _scrollCacheFunc(_getProxyProp(element, s), true) || (_isViewport(element) ? sc : _scrollCacheFunc(function (value) {\n      return arguments.length ? element[s] = value : element[s];\n    })));\n  },\n      _getVelocityProp = function _getVelocityProp(value, minTimeRefresh, useDelta) {\n    var v1 = value,\n        v2 = value,\n        t1 = _getTime(),\n        t2 = t1,\n        min = minTimeRefresh || 50,\n        dropToZeroTime = Math.max(500, min * 3),\n        update = function update(value, force) {\n      var t = _getTime();\n\n      if (force || t - t1 > min) {\n        v2 = v1;\n        v1 = value;\n        t2 = t1;\n        t1 = t;\n      } else if (useDelta) {\n        v1 += value;\n      } else {\n        v1 = v2 + (value - v2) / (t - t2) * (t1 - t2);\n      }\n    },\n        reset = function reset() {\n      v2 = v1 = useDelta ? 0 : v1;\n      t2 = t1 = 0;\n    },\n        getVelocity = function getVelocity(latestValue) {\n      var tOld = t2,\n          vOld = v2,\n          t = _getTime();\n\n      (latestValue || latestValue === 0) && latestValue !== v1 && update(latestValue);\n      return t1 === t2 || t - t2 > dropToZeroTime ? 0 : (v1 + (useDelta ? vOld : -vOld)) / ((useDelta ? t : t1) - tOld) * 1000;\n    };\n\n    return {\n      update: update,\n      reset: reset,\n      getVelocity: getVelocity\n    };\n  },\n      _getEvent = function _getEvent(e, preventDefault) {\n    preventDefault && !e._gsapAllow && e.preventDefault();\n    return e.changedTouches ? e.changedTouches[0] : e;\n  },\n      _getAbsoluteMax = function _getAbsoluteMax(a) {\n    var max = Math.max.apply(Math, a),\n        min = Math.min.apply(Math, a);\n    return Math.abs(max) >= Math.abs(min) ? max : min;\n  },\n      _setScrollTrigger = function _setScrollTrigger() {\n    ScrollTrigger = gsap.core.globals().ScrollTrigger;\n    ScrollTrigger && ScrollTrigger.core && _integrate();\n  },\n      _initCore = function _initCore(core) {\n    gsap = core || _getGSAP();\n\n    if (gsap && typeof document !== \"undefined\" && document.body) {\n      _win = window;\n      _doc = document;\n      _docEl = _doc.documentElement;\n      _body = _doc.body;\n      _root = [_win, _doc, _docEl, _body];\n      _clamp = gsap.utils.clamp;\n      _pointerType = \"onpointerenter\" in _body ? \"pointer\" : \"mouse\";\n      _isTouch = Observer.isTouch = _win.matchMedia && _win.matchMedia(\"(hover: none), (pointer: coarse)\").matches ? 1 : \"ontouchstart\" in _win || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0 ? 2 : 0;\n      _eventTypes = Observer.eventTypes = (\"ontouchstart\" in _docEl ? \"touchstart,touchmove,touchcancel,touchend\" : !(\"onpointerdown\" in _docEl) ? \"mousedown,mousemove,mouseup,mouseup\" : \"pointerdown,pointermove,pointercancel,pointerup\").split(\",\");\n      setTimeout(function () {\n        return _startup = 0;\n      }, 500);\n\n      _setScrollTrigger();\n\n      _coreInitted = 1;\n    }\n\n    return _coreInitted;\n  };\n\n  _horizontal.op = _vertical;\n  _scrollers.cache = 0;\n  var Observer = function () {\n    function Observer(vars) {\n      this.init(vars);\n    }\n\n    var _proto = Observer.prototype;\n\n    _proto.init = function init(vars) {\n      _coreInitted || _initCore(gsap) || console.warn(\"Please gsap.registerPlugin(Observer)\");\n      ScrollTrigger || _setScrollTrigger();\n      var tolerance = vars.tolerance,\n          dragMinimum = vars.dragMinimum,\n          type = vars.type,\n          target = vars.target,\n          lineHeight = vars.lineHeight,\n          debounce = vars.debounce,\n          preventDefault = vars.preventDefault,\n          onStop = vars.onStop,\n          onStopDelay = vars.onStopDelay,\n          ignore = vars.ignore,\n          wheelSpeed = vars.wheelSpeed,\n          event = vars.event,\n          onDragStart = vars.onDragStart,\n          onDragEnd = vars.onDragEnd,\n          onDrag = vars.onDrag,\n          onPress = vars.onPress,\n          onRelease = vars.onRelease,\n          onRight = vars.onRight,\n          onLeft = vars.onLeft,\n          onUp = vars.onUp,\n          onDown = vars.onDown,\n          onChangeX = vars.onChangeX,\n          onChangeY = vars.onChangeY,\n          onChange = vars.onChange,\n          onToggleX = vars.onToggleX,\n          onToggleY = vars.onToggleY,\n          onHover = vars.onHover,\n          onHoverEnd = vars.onHoverEnd,\n          onMove = vars.onMove,\n          ignoreCheck = vars.ignoreCheck,\n          isNormalizer = vars.isNormalizer,\n          onGestureStart = vars.onGestureStart,\n          onGestureEnd = vars.onGestureEnd,\n          onWheel = vars.onWheel,\n          onEnable = vars.onEnable,\n          onDisable = vars.onDisable,\n          onClick = vars.onClick,\n          scrollSpeed = vars.scrollSpeed,\n          capture = vars.capture,\n          allowClicks = vars.allowClicks,\n          lockAxis = vars.lockAxis,\n          onLockAxis = vars.onLockAxis;\n      this.target = target = _getTarget(target) || _docEl;\n      this.vars = vars;\n      ignore && (ignore = gsap.utils.toArray(ignore));\n      tolerance = tolerance || 0;\n      dragMinimum = dragMinimum || 0;\n      wheelSpeed = wheelSpeed || 1;\n      scrollSpeed = scrollSpeed || 1;\n      type = type || \"wheel,touch,pointer\";\n      debounce = debounce !== false;\n      lineHeight || (lineHeight = parseFloat(_win.getComputedStyle(_body).lineHeight) || 22);\n\n      var id,\n          onStopDelayedCall,\n          dragged,\n          moved,\n          wheeled,\n          locked,\n          axis,\n          self = this,\n          prevDeltaX = 0,\n          prevDeltaY = 0,\n          scrollFuncX = _getScrollFunc(target, _horizontal),\n          scrollFuncY = _getScrollFunc(target, _vertical),\n          scrollX = scrollFuncX(),\n          scrollY = scrollFuncY(),\n          limitToTouch = ~type.indexOf(\"touch\") && !~type.indexOf(\"pointer\") && _eventTypes[0] === \"pointerdown\",\n          isViewport = _isViewport(target),\n          ownerDoc = target.ownerDocument || _doc,\n          deltaX = [0, 0, 0],\n          deltaY = [0, 0, 0],\n          onClickTime = 0,\n          clickCapture = function clickCapture() {\n        return onClickTime = _getTime();\n      },\n          _ignoreCheck = function _ignoreCheck(e, isPointerOrTouch) {\n        return (self.event = e) && ignore && ~ignore.indexOf(e.target) || isPointerOrTouch && limitToTouch && e.pointerType !== \"touch\" || ignoreCheck && ignoreCheck(e, isPointerOrTouch);\n      },\n          onStopFunc = function onStopFunc() {\n        self._vx.reset();\n\n        self._vy.reset();\n\n        onStopDelayedCall.pause();\n        onStop && onStop(self);\n      },\n          update = function update() {\n        var dx = self.deltaX = _getAbsoluteMax(deltaX),\n            dy = self.deltaY = _getAbsoluteMax(deltaY),\n            changedX = Math.abs(dx) >= tolerance,\n            changedY = Math.abs(dy) >= tolerance;\n\n        onChange && (changedX || changedY) && onChange(self, dx, dy, deltaX, deltaY);\n\n        if (changedX) {\n          onRight && self.deltaX > 0 && onRight(self);\n          onLeft && self.deltaX < 0 && onLeft(self);\n          onChangeX && onChangeX(self);\n          onToggleX && self.deltaX < 0 !== prevDeltaX < 0 && onToggleX(self);\n          prevDeltaX = self.deltaX;\n          deltaX[0] = deltaX[1] = deltaX[2] = 0;\n        }\n\n        if (changedY) {\n          onDown && self.deltaY > 0 && onDown(self);\n          onUp && self.deltaY < 0 && onUp(self);\n          onChangeY && onChangeY(self);\n          onToggleY && self.deltaY < 0 !== prevDeltaY < 0 && onToggleY(self);\n          prevDeltaY = self.deltaY;\n          deltaY[0] = deltaY[1] = deltaY[2] = 0;\n        }\n\n        if (moved || dragged) {\n          onMove && onMove(self);\n          onLockAxis && locked && onLockAxis(self);\n\n          if (dragged) {\n            onDrag(self);\n            dragged = false;\n          }\n\n          moved = locked = false;\n        }\n\n        if (wheeled) {\n          onWheel(self);\n          wheeled = false;\n        }\n\n        id = 0;\n      },\n          onDelta = function onDelta(x, y, index) {\n        deltaX[index] += x;\n        deltaY[index] += y;\n\n        self._vx.update(x);\n\n        self._vy.update(y);\n\n        debounce ? id || (id = requestAnimationFrame(update)) : update();\n      },\n          onTouchOrPointerDelta = function onTouchOrPointerDelta(x, y) {\n        if (axis !== \"y\") {\n          deltaX[2] += x;\n\n          self._vx.update(x, true);\n        }\n\n        if (axis !== \"x\") {\n          deltaY[2] += y;\n\n          self._vy.update(y, true);\n        }\n\n        if (lockAxis && !axis) {\n          self.axis = axis = Math.abs(x) > Math.abs(y) ? \"x\" : \"y\";\n          locked = true;\n        }\n\n        debounce ? id || (id = requestAnimationFrame(update)) : update();\n      },\n          _onDrag = function _onDrag(e) {\n        if (_ignoreCheck(e, 1)) {\n          return;\n        }\n\n        e = _getEvent(e, preventDefault);\n        var x = e.clientX,\n            y = e.clientY,\n            dx = x - self.x,\n            dy = y - self.y,\n            isDragging = self.isDragging;\n        self.x = x;\n        self.y = y;\n\n        if (isDragging || Math.abs(self.startX - x) >= dragMinimum || Math.abs(self.startY - y) >= dragMinimum) {\n          onDrag && (dragged = true);\n          isDragging || (self.isDragging = true);\n          onTouchOrPointerDelta(dx, dy);\n          isDragging || onDragStart && onDragStart(self);\n        }\n      },\n          _onPress = self.onPress = function (e) {\n        if (_ignoreCheck(e, 1)) {\n          return;\n        }\n\n        self.axis = axis = null;\n        onStopDelayedCall.pause();\n        self.isPressed = true;\n        e = _getEvent(e);\n        prevDeltaX = prevDeltaY = 0;\n        self.startX = self.x = e.clientX;\n        self.startY = self.y = e.clientY;\n\n        self._vx.reset();\n\n        self._vy.reset();\n\n        _addListener(isNormalizer ? target : ownerDoc, _eventTypes[1], _onDrag, preventDefault, true);\n\n        self.deltaX = self.deltaY = 0;\n        onPress && onPress(self);\n      },\n          _onRelease = function _onRelease(e) {\n        if (_ignoreCheck(e, 1)) {\n          return;\n        }\n\n        _removeListener(isNormalizer ? target : ownerDoc, _eventTypes[1], _onDrag, true);\n\n        var wasDragging = self.isDragging && (Math.abs(self.x - self.startX) > 3 || Math.abs(self.y - self.startY) > 3),\n            eventData = _getEvent(e);\n\n        if (!wasDragging) {\n          self._vx.reset();\n\n          self._vy.reset();\n\n          if (preventDefault && allowClicks) {\n            gsap.delayedCall(0.08, function () {\n              if (_getTime() - onClickTime > 300 && !e.defaultPrevented) {\n                if (e.target.click) {\n                  e.target.click();\n                } else if (ownerDoc.createEvent) {\n                  var syntheticEvent = ownerDoc.createEvent(\"MouseEvents\");\n                  syntheticEvent.initMouseEvent(\"click\", true, true, _win, 1, eventData.screenX, eventData.screenY, eventData.clientX, eventData.clientY, false, false, false, false, 0, null);\n                  e.target.dispatchEvent(syntheticEvent);\n                }\n              }\n            });\n          }\n        }\n\n        self.isDragging = self.isGesturing = self.isPressed = false;\n        onStop && !isNormalizer && onStopDelayedCall.restart(true);\n        onDragEnd && wasDragging && onDragEnd(self);\n        onRelease && onRelease(self, wasDragging);\n      },\n          _onGestureStart = function _onGestureStart(e) {\n        return e.touches && e.touches.length > 1 && (self.isGesturing = true) && onGestureStart(e, self.isDragging);\n      },\n          _onGestureEnd = function _onGestureEnd() {\n        return (self.isGesturing = false) || onGestureEnd(self);\n      },\n          onScroll = function onScroll(e) {\n        if (_ignoreCheck(e)) {\n          return;\n        }\n\n        var x = scrollFuncX(),\n            y = scrollFuncY();\n        onDelta((x - scrollX) * scrollSpeed, (y - scrollY) * scrollSpeed, 1);\n        scrollX = x;\n        scrollY = y;\n        onStop && onStopDelayedCall.restart(true);\n      },\n          _onWheel = function _onWheel(e) {\n        if (_ignoreCheck(e)) {\n          return;\n        }\n\n        e = _getEvent(e, preventDefault);\n        onWheel && (wheeled = true);\n        var multiplier = (e.deltaMode === 1 ? lineHeight : e.deltaMode === 2 ? _win.innerHeight : 1) * wheelSpeed;\n        onDelta(e.deltaX * multiplier, e.deltaY * multiplier, 0);\n        onStop && !isNormalizer && onStopDelayedCall.restart(true);\n      },\n          _onMove = function _onMove(e) {\n        if (_ignoreCheck(e)) {\n          return;\n        }\n\n        var x = e.clientX,\n            y = e.clientY,\n            dx = x - self.x,\n            dy = y - self.y;\n        self.x = x;\n        self.y = y;\n        moved = true;\n        (dx || dy) && onTouchOrPointerDelta(dx, dy);\n      },\n          _onHover = function _onHover(e) {\n        self.event = e;\n        onHover(self);\n      },\n          _onHoverEnd = function _onHoverEnd(e) {\n        self.event = e;\n        onHoverEnd(self);\n      },\n          _onClick = function _onClick(e) {\n        return _ignoreCheck(e) || _getEvent(e, preventDefault) && onClick(self);\n      };\n\n      onStopDelayedCall = self._dc = gsap.delayedCall(onStopDelay || 0.25, onStopFunc).pause();\n      self.deltaX = self.deltaY = 0;\n      self._vx = _getVelocityProp(0, 50, true);\n      self._vy = _getVelocityProp(0, 50, true);\n      self.scrollX = scrollFuncX;\n      self.scrollY = scrollFuncY;\n      self.isDragging = self.isGesturing = self.isPressed = false;\n\n      self.enable = function (e) {\n        if (!self.isEnabled) {\n          _addListener(isViewport ? ownerDoc : target, \"scroll\", _onScroll);\n\n          type.indexOf(\"scroll\") >= 0 && _addListener(isViewport ? ownerDoc : target, \"scroll\", onScroll, preventDefault, capture);\n          type.indexOf(\"wheel\") >= 0 && _addListener(target, \"wheel\", _onWheel, preventDefault, capture);\n\n          if (type.indexOf(\"touch\") >= 0 && _isTouch || type.indexOf(\"pointer\") >= 0) {\n            _addListener(target, _eventTypes[0], _onPress, preventDefault, capture);\n\n            _addListener(ownerDoc, _eventTypes[2], _onRelease);\n\n            _addListener(ownerDoc, _eventTypes[3], _onRelease);\n\n            allowClicks && _addListener(target, \"click\", clickCapture, false, true);\n            onClick && _addListener(target, \"click\", _onClick);\n            onGestureStart && _addListener(ownerDoc, \"gesturestart\", _onGestureStart);\n            onGestureEnd && _addListener(ownerDoc, \"gestureend\", _onGestureEnd);\n            onHover && _addListener(target, _pointerType + \"enter\", _onHover);\n            onHoverEnd && _addListener(target, _pointerType + \"leave\", _onHoverEnd);\n            onMove && _addListener(target, _pointerType + \"move\", _onMove);\n          }\n\n          self.isEnabled = true;\n          e && e.type && _onPress(e);\n          onEnable && onEnable(self);\n        }\n\n        return self;\n      };\n\n      self.disable = function () {\n        if (self.isEnabled) {\n          _observers.filter(function (o) {\n            return o !== self && _isViewport(o.target);\n          }).length || _removeListener(isViewport ? ownerDoc : target, \"scroll\", _onScroll);\n\n          if (self.isPressed) {\n            self._vx.reset();\n\n            self._vy.reset();\n\n            _removeListener(isNormalizer ? target : ownerDoc, _eventTypes[1], _onDrag, true);\n          }\n\n          _removeListener(isViewport ? ownerDoc : target, \"scroll\", onScroll, capture);\n\n          _removeListener(target, \"wheel\", _onWheel, capture);\n\n          _removeListener(target, _eventTypes[0], _onPress, capture);\n\n          _removeListener(ownerDoc, _eventTypes[2], _onRelease);\n\n          _removeListener(ownerDoc, _eventTypes[3], _onRelease);\n\n          _removeListener(target, \"click\", clickCapture, true);\n\n          _removeListener(target, \"click\", _onClick);\n\n          _removeListener(ownerDoc, \"gesturestart\", _onGestureStart);\n\n          _removeListener(ownerDoc, \"gestureend\", _onGestureEnd);\n\n          _removeListener(target, _pointerType + \"enter\", _onHover);\n\n          _removeListener(target, _pointerType + \"leave\", _onHoverEnd);\n\n          _removeListener(target, _pointerType + \"move\", _onMove);\n\n          self.isEnabled = self.isPressed = self.isDragging = false;\n          onDisable && onDisable(self);\n        }\n      };\n\n      self.kill = function () {\n        self.disable();\n\n        var i = _observers.indexOf(self);\n\n        i >= 0 && _observers.splice(i, 1);\n        _normalizer === self && (_normalizer = 0);\n      };\n\n      _observers.push(self);\n\n      isNormalizer && _isViewport(target) && (_normalizer = self);\n      self.enable(event);\n    };\n\n    _createClass(Observer, [{\n      key: \"velocityX\",\n      get: function get() {\n        return this._vx.getVelocity();\n      }\n    }, {\n      key: \"velocityY\",\n      get: function get() {\n        return this._vy.getVelocity();\n      }\n    }]);\n\n    return Observer;\n  }();\n  Observer.version = \"3.10.4\";\n\n  Observer.create = function (vars) {\n    return new Observer(vars);\n  };\n\n  Observer.register = _initCore;\n\n  Observer.getAll = function () {\n    return _observers.slice();\n  };\n\n  Observer.getById = function (id) {\n    return _observers.filter(function (o) {\n      return o.vars.id === id;\n    })[0];\n  };\n\n  _getGSAP() && gsap.registerPlugin(Observer);\n\n  /*!\n   * ScrollTrigger 3.10.4\n   * https://greensock.com\n   *\n   * @license Copyright 2008-2022, GreenSock. All rights reserved.\n   * Subject to the terms at https://greensock.com/standard-license or for\n   * Club GreenSock members, the agreement issued with that membership.\n   * @author: Jack Doyle, jack@greensock.com\n  */\n\n  var gsap$1,\n      _coreInitted$1,\n      _win$1,\n      _doc$1,\n      _docEl$1,\n      _body$1,\n      _root$1,\n      _resizeDelay,\n      _toArray,\n      _clamp$1,\n      _time2,\n      _syncInterval,\n      _refreshing,\n      _pointerIsDown,\n      _transformProp,\n      _i,\n      _prevWidth,\n      _prevHeight,\n      _autoRefresh,\n      _sort,\n      _suppressOverwrites,\n      _ignoreResize,\n      _normalizer$1,\n      _ignoreMobileResize,\n      _baseScreenHeight,\n      _baseScreenWidth,\n      _fixIOSBug,\n      _limitCallbacks,\n      _startup$1 = 1,\n      _getTime$1 = Date.now,\n      _time1 = _getTime$1(),\n      _lastScrollTime = 0,\n      _enabled = 0,\n      _pointerDownHandler = function _pointerDownHandler() {\n    return _pointerIsDown = 1;\n  },\n      _pointerUpHandler = function _pointerUpHandler() {\n    return _pointerIsDown = 0;\n  },\n      _passThrough = function _passThrough(v) {\n    return v;\n  },\n      _round = function _round(value) {\n    return Math.round(value * 100000) / 100000 || 0;\n  },\n      _windowExists = function _windowExists() {\n    return typeof window !== \"undefined\";\n  },\n      _getGSAP$1 = function _getGSAP() {\n    return gsap$1 || _windowExists() && (gsap$1 = window.gsap) && gsap$1.registerPlugin && gsap$1;\n  },\n      _isViewport$1 = function _isViewport(e) {\n    return !!~_root$1.indexOf(e);\n  },\n      _getBoundsFunc = function _getBoundsFunc(element) {\n    return _getProxyProp(element, \"getBoundingClientRect\") || (_isViewport$1(element) ? function () {\n      _winOffsets.width = _win$1.innerWidth;\n      _winOffsets.height = _win$1.innerHeight;\n      return _winOffsets;\n    } : function () {\n      return _getBounds(element);\n    });\n  },\n      _getSizeFunc = function _getSizeFunc(scroller, isViewport, _ref) {\n    var d = _ref.d,\n        d2 = _ref.d2,\n        a = _ref.a;\n    return (a = _getProxyProp(scroller, \"getBoundingClientRect\")) ? function () {\n      return a()[d];\n    } : function () {\n      return (isViewport ? _win$1[\"inner\" + d2] : scroller[\"client\" + d2]) || 0;\n    };\n  },\n      _getOffsetsFunc = function _getOffsetsFunc(element, isViewport) {\n    return !isViewport || ~_proxies.indexOf(element) ? _getBoundsFunc(element) : function () {\n      return _winOffsets;\n    };\n  },\n      _maxScroll = function _maxScroll(element, _ref2) {\n    var s = _ref2.s,\n        d2 = _ref2.d2,\n        d = _ref2.d,\n        a = _ref2.a;\n    return (s = \"scroll\" + d2) && (a = _getProxyProp(element, s)) ? a() - _getBoundsFunc(element)()[d] : _isViewport$1(element) ? (_docEl$1[s] || _body$1[s]) - (_win$1[\"inner\" + d2] || _docEl$1[\"client\" + d2] || _body$1[\"client\" + d2]) : element[s] - element[\"offset\" + d2];\n  },\n      _iterateAutoRefresh = function _iterateAutoRefresh(func, events) {\n    for (var i = 0; i < _autoRefresh.length; i += 3) {\n      (!events || ~events.indexOf(_autoRefresh[i + 1])) && func(_autoRefresh[i], _autoRefresh[i + 1], _autoRefresh[i + 2]);\n    }\n  },\n      _isString = function _isString(value) {\n    return typeof value === \"string\";\n  },\n      _isFunction = function _isFunction(value) {\n    return typeof value === \"function\";\n  },\n      _isNumber = function _isNumber(value) {\n    return typeof value === \"number\";\n  },\n      _isObject = function _isObject(value) {\n    return typeof value === \"object\";\n  },\n      _callIfFunc = function _callIfFunc(value) {\n    return _isFunction(value) && value();\n  },\n      _combineFunc = function _combineFunc(f1, f2) {\n    return function () {\n      var result1 = _callIfFunc(f1),\n          result2 = _callIfFunc(f2);\n\n      return function () {\n        _callIfFunc(result1);\n\n        _callIfFunc(result2);\n      };\n    };\n  },\n      _endAnimation = function _endAnimation(animation, reversed, pause) {\n    return animation && animation.progress(reversed ? 0 : 1) && pause && animation.pause();\n  },\n      _callback = function _callback(self, func) {\n    if (self.enabled) {\n      var result = func(self);\n      result && result.totalTime && (self.callbackAnimation = result);\n    }\n  },\n      _abs = Math.abs,\n      _left = \"left\",\n      _top = \"top\",\n      _right = \"right\",\n      _bottom = \"bottom\",\n      _width = \"width\",\n      _height = \"height\",\n      _Right = \"Right\",\n      _Left = \"Left\",\n      _Top = \"Top\",\n      _Bottom = \"Bottom\",\n      _padding = \"padding\",\n      _margin = \"margin\",\n      _Width = \"Width\",\n      _Height = \"Height\",\n      _px = \"px\",\n      _getComputedStyle = function _getComputedStyle(element) {\n    return _win$1.getComputedStyle(element);\n  },\n      _makePositionable = function _makePositionable(element) {\n    var position = _getComputedStyle(element).position;\n\n    element.style.position = position === \"absolute\" || position === \"fixed\" ? position : \"relative\";\n  },\n      _setDefaults = function _setDefaults(obj, defaults) {\n    for (var p in defaults) {\n      p in obj || (obj[p] = defaults[p]);\n    }\n\n    return obj;\n  },\n      _getBounds = function _getBounds(element, withoutTransforms) {\n    var tween = withoutTransforms && _getComputedStyle(element)[_transformProp] !== \"matrix(1, 0, 0, 1, 0, 0)\" && gsap$1.to(element, {\n      x: 0,\n      y: 0,\n      xPercent: 0,\n      yPercent: 0,\n      rotation: 0,\n      rotationX: 0,\n      rotationY: 0,\n      scale: 1,\n      skewX: 0,\n      skewY: 0\n    }).progress(1),\n        bounds = element.getBoundingClientRect();\n    tween && tween.progress(0).kill();\n    return bounds;\n  },\n      _getSize = function _getSize(element, _ref3) {\n    var d2 = _ref3.d2;\n    return element[\"offset\" + d2] || element[\"client\" + d2] || 0;\n  },\n      _getLabelRatioArray = function _getLabelRatioArray(timeline) {\n    var a = [],\n        labels = timeline.labels,\n        duration = timeline.duration(),\n        p;\n\n    for (p in labels) {\n      a.push(labels[p] / duration);\n    }\n\n    return a;\n  },\n      _getClosestLabel = function _getClosestLabel(animation) {\n    return function (value) {\n      return gsap$1.utils.snap(_getLabelRatioArray(animation), value);\n    };\n  },\n      _snapDirectional = function _snapDirectional(snapIncrementOrArray) {\n    var snap = gsap$1.utils.snap(snapIncrementOrArray),\n        a = Array.isArray(snapIncrementOrArray) && snapIncrementOrArray.slice(0).sort(function (a, b) {\n      return a - b;\n    });\n    return a ? function (value, direction, threshold) {\n      if (threshold === void 0) {\n        threshold = 1e-3;\n      }\n\n      var i;\n\n      if (!direction) {\n        return snap(value);\n      }\n\n      if (direction > 0) {\n        value -= threshold;\n\n        for (i = 0; i < a.length; i++) {\n          if (a[i] >= value) {\n            return a[i];\n          }\n        }\n\n        return a[i - 1];\n      } else {\n        i = a.length;\n        value += threshold;\n\n        while (i--) {\n          if (a[i] <= value) {\n            return a[i];\n          }\n        }\n      }\n\n      return a[0];\n    } : function (value, direction, threshold) {\n      if (threshold === void 0) {\n        threshold = 1e-3;\n      }\n\n      var snapped = snap(value);\n      return !direction || Math.abs(snapped - value) < threshold || snapped - value < 0 === direction < 0 ? snapped : snap(direction < 0 ? value - snapIncrementOrArray : value + snapIncrementOrArray);\n    };\n  },\n      _getLabelAtDirection = function _getLabelAtDirection(timeline) {\n    return function (value, st) {\n      return _snapDirectional(_getLabelRatioArray(timeline))(value, st.direction);\n    };\n  },\n      _multiListener = function _multiListener(func, element, types, callback) {\n    return types.split(\",\").forEach(function (type) {\n      return func(element, type, callback);\n    });\n  },\n      _addListener$1 = function _addListener(element, type, func, nonPassive, capture) {\n    return element.addEventListener(type, func, {\n      passive: !nonPassive,\n      capture: !!capture\n    });\n  },\n      _removeListener$1 = function _removeListener(element, type, func, capture) {\n    return element.removeEventListener(type, func, !!capture);\n  },\n      _wheelListener = function _wheelListener(func, el, scrollFunc) {\n    return scrollFunc && scrollFunc.wheelHandler && func(el, \"wheel\", scrollFunc);\n  },\n      _markerDefaults = {\n    startColor: \"green\",\n    endColor: \"red\",\n    indent: 0,\n    fontSize: \"16px\",\n    fontWeight: \"normal\"\n  },\n      _defaults = {\n    toggleActions: \"play\",\n    anticipatePin: 0\n  },\n      _keywords = {\n    top: 0,\n    left: 0,\n    center: 0.5,\n    bottom: 1,\n    right: 1\n  },\n      _offsetToPx = function _offsetToPx(value, size) {\n    if (_isString(value)) {\n      var eqIndex = value.indexOf(\"=\"),\n          relative = ~eqIndex ? +(value.charAt(eqIndex - 1) + 1) * parseFloat(value.substr(eqIndex + 1)) : 0;\n\n      if (~eqIndex) {\n        value.indexOf(\"%\") > eqIndex && (relative *= size / 100);\n        value = value.substr(0, eqIndex - 1);\n      }\n\n      value = relative + (value in _keywords ? _keywords[value] * size : ~value.indexOf(\"%\") ? parseFloat(value) * size / 100 : parseFloat(value) || 0);\n    }\n\n    return value;\n  },\n      _createMarker = function _createMarker(type, name, container, direction, _ref4, offset, matchWidthEl, containerAnimation) {\n    var startColor = _ref4.startColor,\n        endColor = _ref4.endColor,\n        fontSize = _ref4.fontSize,\n        indent = _ref4.indent,\n        fontWeight = _ref4.fontWeight;\n\n    var e = _doc$1.createElement(\"div\"),\n        useFixedPosition = _isViewport$1(container) || _getProxyProp(container, \"pinType\") === \"fixed\",\n        isScroller = type.indexOf(\"scroller\") !== -1,\n        parent = useFixedPosition ? _body$1 : container,\n        isStart = type.indexOf(\"start\") !== -1,\n        color = isStart ? startColor : endColor,\n        css = \"border-color:\" + color + \";font-size:\" + fontSize + \";color:\" + color + \";font-weight:\" + fontWeight + \";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;\";\n\n    css += \"position:\" + ((isScroller || containerAnimation) && useFixedPosition ? \"fixed;\" : \"absolute;\");\n    (isScroller || containerAnimation || !useFixedPosition) && (css += (direction === _vertical ? _right : _bottom) + \":\" + (offset + parseFloat(indent)) + \"px;\");\n    matchWidthEl && (css += \"box-sizing:border-box;text-align:left;width:\" + matchWidthEl.offsetWidth + \"px;\");\n    e._isStart = isStart;\n    e.setAttribute(\"class\", \"gsap-marker-\" + type + (name ? \" marker-\" + name : \"\"));\n    e.style.cssText = css;\n    e.innerText = name || name === 0 ? type + \"-\" + name : type;\n    parent.children[0] ? parent.insertBefore(e, parent.children[0]) : parent.appendChild(e);\n    e._offset = e[\"offset\" + direction.op.d2];\n\n    _positionMarker(e, 0, direction, isStart);\n\n    return e;\n  },\n      _positionMarker = function _positionMarker(marker, start, direction, flipped) {\n    var vars = {\n      display: \"block\"\n    },\n        side = direction[flipped ? \"os2\" : \"p2\"],\n        oppositeSide = direction[flipped ? \"p2\" : \"os2\"];\n    marker._isFlipped = flipped;\n    vars[direction.a + \"Percent\"] = flipped ? -100 : 0;\n    vars[direction.a] = flipped ? \"1px\" : 0;\n    vars[\"border\" + side + _Width] = 1;\n    vars[\"border\" + oppositeSide + _Width] = 0;\n    vars[direction.p] = start + \"px\";\n    gsap$1.set(marker, vars);\n  },\n      _triggers = [],\n      _ids = {},\n      _rafID,\n      _sync = function _sync() {\n    return _getTime$1() - _lastScrollTime > 34 && _updateAll();\n  },\n      _onScroll$1 = function _onScroll() {\n    if (!_normalizer$1 || !_normalizer$1.isPressed || _normalizer$1.startX > _body$1.clientWidth) {\n      _scrollers.cache++;\n      _rafID || (_rafID = requestAnimationFrame(_updateAll));\n      _lastScrollTime || _dispatch(\"scrollStart\");\n      _lastScrollTime = _getTime$1();\n    }\n  },\n      _setBaseDimensions = function _setBaseDimensions() {\n    _baseScreenWidth = _win$1.innerWidth;\n    _baseScreenHeight = _win$1.innerHeight;\n  },\n      _onResize = function _onResize() {\n    _scrollers.cache++;\n    !_refreshing && !_ignoreResize && !_doc$1.fullscreenElement && !_doc$1.webkitFullscreenElement && (!_ignoreMobileResize || _baseScreenWidth !== _win$1.innerWidth || Math.abs(_win$1.innerHeight - _baseScreenHeight) > _win$1.innerHeight * 0.25) && _resizeDelay.restart(true);\n  },\n      _listeners = {},\n      _emptyArray = [],\n      _media = [],\n      _creatingMedia,\n      _lastMediaTick,\n      _onMediaChange = function _onMediaChange(e) {\n    var tick = gsap$1.ticker.frame,\n        matches = [],\n        i = 0,\n        index;\n\n    if (_lastMediaTick !== tick || _startup$1) {\n      _revertAll();\n\n      for (; i < _media.length; i += 4) {\n        index = _win$1.matchMedia(_media[i]).matches;\n\n        if (index !== _media[i + 3]) {\n          _media[i + 3] = index;\n          index ? matches.push(i) : _revertAll(1, _media[i]) || _isFunction(_media[i + 2]) && _media[i + 2]();\n        }\n      }\n\n      _revertRecorded();\n\n      for (i = 0; i < matches.length; i++) {\n        index = matches[i];\n        _creatingMedia = _media[index];\n        _media[index + 2] = _media[index + 1](e);\n      }\n\n      _creatingMedia = 0;\n      _coreInitted$1 && _refreshAll(0, 1);\n      _lastMediaTick = tick;\n\n      _dispatch(\"matchMedia\");\n    }\n  },\n      _softRefresh = function _softRefresh() {\n    return _removeListener$1(ScrollTrigger$1, \"scrollEnd\", _softRefresh) || _refreshAll(true);\n  },\n      _dispatch = function _dispatch(type) {\n    return _listeners[type] && _listeners[type].map(function (f) {\n      return f();\n    }) || _emptyArray;\n  },\n      _savedStyles = [],\n      _revertRecorded = function _revertRecorded(media) {\n    for (var i = 0; i < _savedStyles.length; i += 5) {\n      if (!media || _savedStyles[i + 4] === media) {\n        _savedStyles[i].style.cssText = _savedStyles[i + 1];\n        _savedStyles[i].getBBox && _savedStyles[i].setAttribute(\"transform\", _savedStyles[i + 2] || \"\");\n        _savedStyles[i + 3].uncache = 1;\n      }\n    }\n  },\n      _revertAll = function _revertAll(kill, media) {\n    var trigger;\n\n    for (_i = 0; _i < _triggers.length; _i++) {\n      trigger = _triggers[_i];\n\n      if (!media || trigger.media === media) {\n        if (kill) {\n          trigger.kill(1);\n        } else {\n          trigger.revert();\n        }\n      }\n    }\n\n    media && _revertRecorded(media);\n    media || _dispatch(\"revert\");\n  },\n      _clearScrollMemory = function _clearScrollMemory() {\n    return _scrollers.cache++ && _scrollers.forEach(function (obj) {\n      return typeof obj === \"function\" && (obj.rec = 0);\n    });\n  },\n      _refreshingAll,\n      _refreshID = 0,\n      _refreshAll = function _refreshAll(force, skipRevert) {\n    if (_lastScrollTime && !force) {\n      _addListener$1(ScrollTrigger$1, \"scrollEnd\", _softRefresh);\n\n      return;\n    }\n\n    _refreshingAll = true;\n\n    var refreshInits = _dispatch(\"refreshInit\");\n\n    _sort && ScrollTrigger$1.sort();\n    skipRevert || _revertAll();\n\n    _triggers.slice(0).forEach(function (t) {\n      return t.refresh();\n    });\n\n    _triggers.forEach(function (t) {\n      return t.vars.end === \"max\" && t.setPositions(t.start, _maxScroll(t.scroller, t._dir));\n    });\n\n    refreshInits.forEach(function (result) {\n      return result && result.render && result.render(-1);\n    });\n\n    _clearScrollMemory();\n\n    _resizeDelay.pause();\n\n    _refreshID++;\n    _refreshingAll = false;\n\n    _dispatch(\"refresh\");\n  },\n      _lastScroll = 0,\n      _direction = 1,\n      _primary,\n      _updateAll = function _updateAll() {\n    if (!_refreshingAll) {\n      ScrollTrigger$1.isUpdating = true;\n      _primary && _primary.update(0);\n\n      var l = _triggers.length,\n          time = _getTime$1(),\n          recordVelocity = time - _time1 >= 50,\n          scroll = l && _triggers[0].scroll();\n\n      _direction = _lastScroll > scroll ? -1 : 1;\n      _lastScroll = scroll;\n\n      if (recordVelocity) {\n        if (_lastScrollTime && !_pointerIsDown && time - _lastScrollTime > 200) {\n          _lastScrollTime = 0;\n\n          _dispatch(\"scrollEnd\");\n        }\n\n        _time2 = _time1;\n        _time1 = time;\n      }\n\n      if (_direction < 0) {\n        _i = l;\n\n        while (_i-- > 0) {\n          _triggers[_i] && _triggers[_i].update(0, recordVelocity);\n        }\n\n        _direction = 1;\n      } else {\n        for (_i = 0; _i < l; _i++) {\n          _triggers[_i] && _triggers[_i].update(0, recordVelocity);\n        }\n      }\n\n      ScrollTrigger$1.isUpdating = false;\n    }\n\n    _rafID = 0;\n  },\n      _propNamesToCopy = [_left, _top, _bottom, _right, _margin + _Bottom, _margin + _Right, _margin + _Top, _margin + _Left, \"display\", \"flexShrink\", \"float\", \"zIndex\", \"gridColumnStart\", \"gridColumnEnd\", \"gridRowStart\", \"gridRowEnd\", \"gridArea\", \"justifySelf\", \"alignSelf\", \"placeSelf\", \"order\"],\n      _stateProps = _propNamesToCopy.concat([_width, _height, \"boxSizing\", \"max\" + _Width, \"max\" + _Height, \"position\", _margin, _padding, _padding + _Top, _padding + _Right, _padding + _Bottom, _padding + _Left]),\n      _swapPinOut = function _swapPinOut(pin, spacer, state) {\n    _setState(state);\n\n    var cache = pin._gsap;\n\n    if (cache.spacerIsNative) {\n      _setState(cache.spacerState);\n    } else if (pin.parentNode === spacer) {\n      var parent = spacer.parentNode;\n\n      if (parent) {\n        parent.insertBefore(pin, spacer);\n        parent.removeChild(spacer);\n      }\n    }\n  },\n      _swapPinIn = function _swapPinIn(pin, spacer, cs, spacerState) {\n    if (pin.parentNode !== spacer) {\n      var i = _propNamesToCopy.length,\n          spacerStyle = spacer.style,\n          pinStyle = pin.style,\n          p;\n\n      while (i--) {\n        p = _propNamesToCopy[i];\n        spacerStyle[p] = cs[p];\n      }\n\n      spacerStyle.position = cs.position === \"absolute\" ? \"absolute\" : \"relative\";\n      cs.display === \"inline\" && (spacerStyle.display = \"inline-block\");\n      pinStyle[_bottom] = pinStyle[_right] = spacerStyle.flexBasis = \"auto\";\n      spacerStyle.overflow = \"visible\";\n      spacerStyle.boxSizing = \"border-box\";\n      spacerStyle[_width] = _getSize(pin, _horizontal) + _px;\n      spacerStyle[_height] = _getSize(pin, _vertical) + _px;\n      spacerStyle[_padding] = pinStyle[_margin] = pinStyle[_top] = pinStyle[_left] = \"0\";\n\n      _setState(spacerState);\n\n      pinStyle[_width] = pinStyle[\"max\" + _Width] = cs[_width];\n      pinStyle[_height] = pinStyle[\"max\" + _Height] = cs[_height];\n      pinStyle[_padding] = cs[_padding];\n      pin.parentNode.insertBefore(spacer, pin);\n      spacer.appendChild(pin);\n    }\n  },\n      _capsExp = /([A-Z])/g,\n      _setState = function _setState(state) {\n    if (state) {\n      var style = state.t.style,\n          l = state.length,\n          i = 0,\n          p,\n          value;\n      (state.t._gsap || gsap$1.core.getCache(state.t)).uncache = 1;\n\n      for (; i < l; i += 2) {\n        value = state[i + 1];\n        p = state[i];\n\n        if (value) {\n          style[p] = value;\n        } else if (style[p]) {\n          style.removeProperty(p.replace(_capsExp, \"-$1\").toLowerCase());\n        }\n      }\n    }\n  },\n      _getState = function _getState(element) {\n    var l = _stateProps.length,\n        style = element.style,\n        state = [],\n        i = 0;\n\n    for (; i < l; i++) {\n      state.push(_stateProps[i], style[_stateProps[i]]);\n    }\n\n    state.t = element;\n    return state;\n  },\n      _copyState = function _copyState(state, override, omitOffsets) {\n    var result = [],\n        l = state.length,\n        i = omitOffsets ? 8 : 0,\n        p;\n\n    for (; i < l; i += 2) {\n      p = state[i];\n      result.push(p, p in override ? override[p] : state[i + 1]);\n    }\n\n    result.t = state.t;\n    return result;\n  },\n      _winOffsets = {\n    left: 0,\n    top: 0\n  },\n      _parsePosition = function _parsePosition(value, trigger, scrollerSize, direction, scroll, marker, markerScroller, self, scrollerBounds, borderWidth, useFixedPosition, scrollerMax, containerAnimation) {\n    _isFunction(value) && (value = value(self));\n\n    if (_isString(value) && value.substr(0, 3) === \"max\") {\n      value = scrollerMax + (value.charAt(4) === \"=\" ? _offsetToPx(\"0\" + value.substr(3), scrollerSize) : 0);\n    }\n\n    var time = containerAnimation ? containerAnimation.time() : 0,\n        p1,\n        p2,\n        element;\n    containerAnimation && containerAnimation.seek(0);\n\n    if (!_isNumber(value)) {\n      _isFunction(trigger) && (trigger = trigger(self));\n      var offsets = value.split(\" \"),\n          bounds,\n          localOffset,\n          globalOffset,\n          display;\n      element = _getTarget(trigger) || _body$1;\n      bounds = _getBounds(element) || {};\n\n      if ((!bounds || !bounds.left && !bounds.top) && _getComputedStyle(element).display === \"none\") {\n        display = element.style.display;\n        element.style.display = \"block\";\n        bounds = _getBounds(element);\n        display ? element.style.display = display : element.style.removeProperty(\"display\");\n      }\n\n      localOffset = _offsetToPx(offsets[0], bounds[direction.d]);\n      globalOffset = _offsetToPx(offsets[1] || \"0\", scrollerSize);\n      value = bounds[direction.p] - scrollerBounds[direction.p] - borderWidth + localOffset + scroll - globalOffset;\n      markerScroller && _positionMarker(markerScroller, globalOffset, direction, scrollerSize - globalOffset < 20 || markerScroller._isStart && globalOffset > 20);\n      scrollerSize -= scrollerSize - globalOffset;\n    } else if (markerScroller) {\n      _positionMarker(markerScroller, scrollerSize, direction, true);\n    }\n\n    if (marker) {\n      var position = value + scrollerSize,\n          isStart = marker._isStart;\n      p1 = \"scroll\" + direction.d2;\n\n      _positionMarker(marker, position, direction, isStart && position > 20 || !isStart && (useFixedPosition ? Math.max(_body$1[p1], _docEl$1[p1]) : marker.parentNode[p1]) <= position + 1);\n\n      if (useFixedPosition) {\n        scrollerBounds = _getBounds(markerScroller);\n        useFixedPosition && (marker.style[direction.op.p] = scrollerBounds[direction.op.p] - direction.op.m - marker._offset + _px);\n      }\n    }\n\n    if (containerAnimation && element) {\n      p1 = _getBounds(element);\n      containerAnimation.seek(scrollerMax);\n      p2 = _getBounds(element);\n      containerAnimation._caScrollDist = p1[direction.p] - p2[direction.p];\n      value = value / containerAnimation._caScrollDist * scrollerMax;\n    }\n\n    containerAnimation && containerAnimation.seek(time);\n    return containerAnimation ? value : Math.round(value);\n  },\n      _prefixExp = /(webkit|moz|length|cssText|inset)/i,\n      _reparent = function _reparent(element, parent, top, left) {\n    if (element.parentNode !== parent) {\n      var style = element.style,\n          p,\n          cs;\n\n      if (parent === _body$1) {\n        element._stOrig = style.cssText;\n        cs = _getComputedStyle(element);\n\n        for (p in cs) {\n          if (!+p && !_prefixExp.test(p) && cs[p] && typeof style[p] === \"string\" && p !== \"0\") {\n            style[p] = cs[p];\n          }\n        }\n\n        style.top = top;\n        style.left = left;\n      } else {\n        style.cssText = element._stOrig;\n      }\n\n      gsap$1.core.getCache(element).uncache = 1;\n      parent.appendChild(element);\n    }\n  },\n      _getTweenCreator = function _getTweenCreator(scroller, direction) {\n    var getScroll = _getScrollFunc(scroller, direction),\n        prop = \"_scroll\" + direction.p2,\n        lastScroll1,\n        lastScroll2,\n        getTween = function getTween(scrollTo, vars, initialValue, change1, change2) {\n      var tween = getTween.tween,\n          onComplete = vars.onComplete,\n          modifiers = {};\n      initialValue = initialValue || getScroll();\n      change2 = change1 && change2 || 0;\n      change1 = change1 || scrollTo - initialValue;\n      tween && tween.kill();\n      lastScroll1 = Math.round(initialValue);\n      vars[prop] = scrollTo;\n      vars.modifiers = modifiers;\n\n      modifiers[prop] = function (value) {\n        value = _round(getScroll());\n\n        if (value !== lastScroll1 && value !== lastScroll2 && Math.abs(value - lastScroll1) > 2 && Math.abs(value - lastScroll2) > 2) {\n          tween.kill();\n          getTween.tween = 0;\n        } else {\n          value = initialValue + change1 * tween.ratio + change2 * tween.ratio * tween.ratio;\n        }\n\n        lastScroll2 = lastScroll1;\n        return lastScroll1 = _round(value);\n      };\n\n      vars.onComplete = function () {\n        getTween.tween = 0;\n        onComplete && onComplete.call(tween);\n      };\n\n      tween = getTween.tween = gsap$1.to(scroller, vars);\n      return tween;\n    };\n\n    scroller[prop] = getScroll;\n\n    getScroll.wheelHandler = function () {\n      return getTween.tween && getTween.tween.kill() && (getTween.tween = 0);\n    };\n\n    _addListener$1(scroller, \"wheel\", getScroll.wheelHandler);\n\n    return getTween;\n  };\n\n  var ScrollTrigger$1 = function () {\n    function ScrollTrigger(vars, animation) {\n      _coreInitted$1 || ScrollTrigger.register(gsap$1) || console.warn(\"Please gsap.registerPlugin(ScrollTrigger)\");\n      this.init(vars, animation);\n    }\n\n    var _proto = ScrollTrigger.prototype;\n\n    _proto.init = function init(vars, animation) {\n      this.progress = this.start = 0;\n      this.vars && this.kill(true, true);\n\n      if (!_enabled) {\n        this.update = this.refresh = this.kill = _passThrough;\n        return;\n      }\n\n      vars = _setDefaults(_isString(vars) || _isNumber(vars) || vars.nodeType ? {\n        trigger: vars\n      } : vars, _defaults);\n\n      var _vars = vars,\n          onUpdate = _vars.onUpdate,\n          toggleClass = _vars.toggleClass,\n          id = _vars.id,\n          onToggle = _vars.onToggle,\n          onRefresh = _vars.onRefresh,\n          scrub = _vars.scrub,\n          trigger = _vars.trigger,\n          pin = _vars.pin,\n          pinSpacing = _vars.pinSpacing,\n          invalidateOnRefresh = _vars.invalidateOnRefresh,\n          anticipatePin = _vars.anticipatePin,\n          onScrubComplete = _vars.onScrubComplete,\n          onSnapComplete = _vars.onSnapComplete,\n          once = _vars.once,\n          snap = _vars.snap,\n          pinReparent = _vars.pinReparent,\n          pinSpacer = _vars.pinSpacer,\n          containerAnimation = _vars.containerAnimation,\n          fastScrollEnd = _vars.fastScrollEnd,\n          preventOverlaps = _vars.preventOverlaps,\n          direction = vars.horizontal || vars.containerAnimation && vars.horizontal !== false ? _horizontal : _vertical,\n          isToggle = !scrub && scrub !== 0,\n          scroller = _getTarget(vars.scroller || _win$1),\n          scrollerCache = gsap$1.core.getCache(scroller),\n          isViewport = _isViewport$1(scroller),\n          useFixedPosition = (\"pinType\" in vars ? vars.pinType : _getProxyProp(scroller, \"pinType\") || isViewport && \"fixed\") === \"fixed\",\n          callbacks = [vars.onEnter, vars.onLeave, vars.onEnterBack, vars.onLeaveBack],\n          toggleActions = isToggle && vars.toggleActions.split(\" \"),\n          markers = \"markers\" in vars ? vars.markers : _defaults.markers,\n          borderWidth = isViewport ? 0 : parseFloat(_getComputedStyle(scroller)[\"border\" + direction.p2 + _Width]) || 0,\n          self = this,\n          onRefreshInit = vars.onRefreshInit && function () {\n        return vars.onRefreshInit(self);\n      },\n          getScrollerSize = _getSizeFunc(scroller, isViewport, direction),\n          getScrollerOffsets = _getOffsetsFunc(scroller, isViewport),\n          lastSnap = 0,\n          lastRefresh = 0,\n          scrollFunc = _getScrollFunc(scroller, direction),\n          tweenTo,\n          pinCache,\n          snapFunc,\n          scroll1,\n          scroll2,\n          start,\n          end,\n          markerStart,\n          markerEnd,\n          markerStartTrigger,\n          markerEndTrigger,\n          markerVars,\n          change,\n          pinOriginalState,\n          pinActiveState,\n          pinState,\n          spacer,\n          offset,\n          pinGetter,\n          pinSetter,\n          pinStart,\n          pinChange,\n          spacingStart,\n          spacerState,\n          markerStartSetter,\n          markerEndSetter,\n          cs,\n          snap1,\n          snap2,\n          scrubTween,\n          scrubSmooth,\n          snapDurClamp,\n          snapDelayedCall,\n          prevProgress,\n          prevScroll,\n          prevAnimProgress,\n          caMarkerSetter,\n          customRevertReturn;\n\n      self.media = _creatingMedia;\n      self._dir = direction;\n      anticipatePin *= 45;\n      self.scroller = scroller;\n      self.scroll = containerAnimation ? containerAnimation.time.bind(containerAnimation) : scrollFunc;\n      scroll1 = scrollFunc();\n      self.vars = vars;\n      animation = animation || vars.animation;\n\n      if (\"refreshPriority\" in vars) {\n        _sort = 1;\n        vars.refreshPriority === -9999 && (_primary = self);\n      }\n\n      scrollerCache.tweenScroll = scrollerCache.tweenScroll || {\n        top: _getTweenCreator(scroller, _vertical),\n        left: _getTweenCreator(scroller, _horizontal)\n      };\n      self.tweenTo = tweenTo = scrollerCache.tweenScroll[direction.p];\n\n      self.scrubDuration = function (value) {\n        scrubSmooth = _isNumber(value) && value;\n\n        if (!scrubSmooth) {\n          scrubTween && scrubTween.progress(1).kill();\n          scrubTween = 0;\n        } else {\n          scrubTween ? scrubTween.duration(value) : scrubTween = gsap$1.to(animation, {\n            ease: \"expo\",\n            totalProgress: \"+=0.001\",\n            duration: scrubSmooth,\n            paused: true,\n            onComplete: function onComplete() {\n              return onScrubComplete && onScrubComplete(self);\n            }\n          });\n        }\n      };\n\n      if (animation) {\n        animation.vars.lazy = false;\n        animation._initted || animation.vars.immediateRender !== false && vars.immediateRender !== false && animation.render(0, true, true);\n        self.animation = animation.pause();\n        animation.scrollTrigger = self;\n        self.scrubDuration(scrub);\n        snap1 = 0;\n        id || (id = animation.vars.id);\n      }\n\n      _triggers.push(self);\n\n      if (snap) {\n        if (!_isObject(snap) || snap.push) {\n          snap = {\n            snapTo: snap\n          };\n        }\n\n        \"scrollBehavior\" in _body$1.style && gsap$1.set(isViewport ? [_body$1, _docEl$1] : scroller, {\n          scrollBehavior: \"auto\"\n        });\n        snapFunc = _isFunction(snap.snapTo) ? snap.snapTo : snap.snapTo === \"labels\" ? _getClosestLabel(animation) : snap.snapTo === \"labelsDirectional\" ? _getLabelAtDirection(animation) : snap.directional !== false ? function (value, st) {\n          return _snapDirectional(snap.snapTo)(value, _getTime$1() - lastRefresh < 500 ? 0 : st.direction);\n        } : gsap$1.utils.snap(snap.snapTo);\n        snapDurClamp = snap.duration || {\n          min: 0.1,\n          max: 2\n        };\n        snapDurClamp = _isObject(snapDurClamp) ? _clamp$1(snapDurClamp.min, snapDurClamp.max) : _clamp$1(snapDurClamp, snapDurClamp);\n        snapDelayedCall = gsap$1.delayedCall(snap.delay || scrubSmooth / 2 || 0.1, function () {\n          var scroll = scrollFunc(),\n              refreshedRecently = _getTime$1() - lastRefresh < 500,\n              tween = tweenTo.tween;\n\n          if ((refreshedRecently || Math.abs(self.getVelocity()) < 10) && !tween && !_pointerIsDown && lastSnap !== scroll) {\n            var progress = (scroll - start) / change,\n                totalProgress = animation && !isToggle ? animation.totalProgress() : progress,\n                velocity = refreshedRecently ? 0 : (totalProgress - snap2) / (_getTime$1() - _time2) * 1000 || 0,\n                change1 = gsap$1.utils.clamp(-progress, 1 - progress, _abs(velocity / 2) * velocity / 0.185),\n                naturalEnd = progress + (snap.inertia === false ? 0 : change1),\n                endValue = _clamp$1(0, 1, snapFunc(naturalEnd, self)),\n                endScroll = Math.round(start + endValue * change),\n                _snap = snap,\n                onStart = _snap.onStart,\n                _onInterrupt = _snap.onInterrupt,\n                _onComplete = _snap.onComplete;\n\n            if (scroll <= end && scroll >= start && endScroll !== scroll) {\n              if (tween && !tween._initted && tween.data <= _abs(endScroll - scroll)) {\n                return;\n              }\n\n              if (snap.inertia === false) {\n                change1 = endValue - progress;\n              }\n\n              tweenTo(endScroll, {\n                duration: snapDurClamp(_abs(Math.max(_abs(naturalEnd - totalProgress), _abs(endValue - totalProgress)) * 0.185 / velocity / 0.05 || 0)),\n                ease: snap.ease || \"power3\",\n                data: _abs(endScroll - scroll),\n                onInterrupt: function onInterrupt() {\n                  return snapDelayedCall.restart(true) && _onInterrupt && _onInterrupt(self);\n                },\n                onComplete: function onComplete() {\n                  self.update();\n                  lastSnap = scrollFunc();\n                  snap1 = snap2 = animation && !isToggle ? animation.totalProgress() : self.progress;\n                  onSnapComplete && onSnapComplete(self);\n                  _onComplete && _onComplete(self);\n                }\n              }, scroll, change1 * change, endScroll - scroll - change1 * change);\n              onStart && onStart(self, tweenTo.tween);\n            }\n          } else if (self.isActive && lastSnap !== scroll) {\n            snapDelayedCall.restart(true);\n          }\n        }).pause();\n      }\n\n      id && (_ids[id] = self);\n      trigger = self.trigger = _getTarget(trigger || pin);\n      customRevertReturn = trigger && trigger._gsap && trigger._gsap.stRevert;\n      customRevertReturn && (customRevertReturn = customRevertReturn(self));\n      pin = pin === true ? trigger : _getTarget(pin);\n      _isString(toggleClass) && (toggleClass = {\n        targets: trigger,\n        className: toggleClass\n      });\n\n      if (pin) {\n        pinSpacing === false || pinSpacing === _margin || (pinSpacing = !pinSpacing && _getComputedStyle(pin.parentNode).display === \"flex\" ? false : _padding);\n        self.pin = pin;\n        vars.force3D !== false && gsap$1.set(pin, {\n          force3D: true\n        });\n        pinCache = gsap$1.core.getCache(pin);\n\n        if (!pinCache.spacer) {\n          if (pinSpacer) {\n            pinSpacer = _getTarget(pinSpacer);\n            pinSpacer && !pinSpacer.nodeType && (pinSpacer = pinSpacer.current || pinSpacer.nativeElement);\n            pinCache.spacerIsNative = !!pinSpacer;\n            pinSpacer && (pinCache.spacerState = _getState(pinSpacer));\n          }\n\n          pinCache.spacer = spacer = pinSpacer || _doc$1.createElement(\"div\");\n          spacer.classList.add(\"pin-spacer\");\n          id && spacer.classList.add(\"pin-spacer-\" + id);\n          pinCache.pinState = pinOriginalState = _getState(pin);\n        } else {\n          pinOriginalState = pinCache.pinState;\n        }\n\n        self.spacer = spacer = pinCache.spacer;\n        cs = _getComputedStyle(pin);\n        spacingStart = cs[pinSpacing + direction.os2];\n        pinGetter = gsap$1.getProperty(pin);\n        pinSetter = gsap$1.quickSetter(pin, direction.a, _px);\n\n        _swapPinIn(pin, spacer, cs);\n\n        pinState = _getState(pin);\n      }\n\n      if (markers) {\n        markerVars = _isObject(markers) ? _setDefaults(markers, _markerDefaults) : _markerDefaults;\n        markerStartTrigger = _createMarker(\"scroller-start\", id, scroller, direction, markerVars, 0);\n        markerEndTrigger = _createMarker(\"scroller-end\", id, scroller, direction, markerVars, 0, markerStartTrigger);\n        offset = markerStartTrigger[\"offset\" + direction.op.d2];\n\n        var content = _getTarget(_getProxyProp(scroller, \"content\") || scroller);\n\n        markerStart = this.markerStart = _createMarker(\"start\", id, content, direction, markerVars, offset, 0, containerAnimation);\n        markerEnd = this.markerEnd = _createMarker(\"end\", id, content, direction, markerVars, offset, 0, containerAnimation);\n        containerAnimation && (caMarkerSetter = gsap$1.quickSetter([markerStart, markerEnd], direction.a, _px));\n\n        if (!useFixedPosition && !(_proxies.length && _getProxyProp(scroller, \"fixedMarkers\") === true)) {\n          _makePositionable(isViewport ? _body$1 : scroller);\n\n          gsap$1.set([markerStartTrigger, markerEndTrigger], {\n            force3D: true\n          });\n          markerStartSetter = gsap$1.quickSetter(markerStartTrigger, direction.a, _px);\n          markerEndSetter = gsap$1.quickSetter(markerEndTrigger, direction.a, _px);\n        }\n      }\n\n      if (containerAnimation) {\n        var oldOnUpdate = containerAnimation.vars.onUpdate,\n            oldParams = containerAnimation.vars.onUpdateParams;\n        containerAnimation.eventCallback(\"onUpdate\", function () {\n          self.update(0, 0, 1);\n          oldOnUpdate && oldOnUpdate.apply(oldParams || []);\n        });\n      }\n\n      self.previous = function () {\n        return _triggers[_triggers.indexOf(self) - 1];\n      };\n\n      self.next = function () {\n        return _triggers[_triggers.indexOf(self) + 1];\n      };\n\n      self.revert = function (revert) {\n        var r = revert !== false || !self.enabled,\n            prevRefreshing = _refreshing;\n\n        if (r !== self.isReverted) {\n          if (r) {\n            self.scroll.rec || !_refreshing || !_refreshingAll || (self.scroll.rec = scrollFunc());\n            prevScroll = Math.max(scrollFunc(), self.scroll.rec || 0);\n            prevProgress = self.progress;\n            prevAnimProgress = animation && animation.progress();\n          }\n\n          markerStart && [markerStart, markerEnd, markerStartTrigger, markerEndTrigger].forEach(function (m) {\n            return m.style.display = r ? \"none\" : \"block\";\n          });\n          r && (_refreshing = 1);\n          self.update(r);\n          _refreshing = prevRefreshing;\n          pin && (r ? _swapPinOut(pin, spacer, pinOriginalState) : (!pinReparent || !self.isActive) && _swapPinIn(pin, spacer, _getComputedStyle(pin), spacerState));\n          self.isReverted = r;\n        }\n      };\n\n      self.refresh = function (soft, force) {\n        if ((_refreshing || !self.enabled) && !force) {\n          return;\n        }\n\n        if (pin && soft && _lastScrollTime) {\n          _addListener$1(ScrollTrigger, \"scrollEnd\", _softRefresh);\n\n          return;\n        }\n\n        !_refreshingAll && onRefreshInit && onRefreshInit(self);\n        _refreshing = 1;\n        lastRefresh = _getTime$1();\n\n        if (tweenTo.tween) {\n          tweenTo.tween.kill();\n          tweenTo.tween = 0;\n        }\n\n        scrubTween && scrubTween.pause();\n        invalidateOnRefresh && animation && animation.time(-0.01, true).invalidate();\n        self.isReverted || self.revert();\n\n        var size = getScrollerSize(),\n            scrollerBounds = getScrollerOffsets(),\n            max = containerAnimation ? containerAnimation.duration() : _maxScroll(scroller, direction),\n            offset = 0,\n            otherPinOffset = 0,\n            parsedEnd = vars.end,\n            parsedEndTrigger = vars.endTrigger || trigger,\n            parsedStart = vars.start || (vars.start === 0 || !trigger ? 0 : pin ? \"0 0\" : \"0 100%\"),\n            pinnedContainer = self.pinnedContainer = vars.pinnedContainer && _getTarget(vars.pinnedContainer),\n            triggerIndex = trigger && Math.max(0, _triggers.indexOf(self)) || 0,\n            i = triggerIndex,\n            cs,\n            bounds,\n            scroll,\n            isVertical,\n            override,\n            curTrigger,\n            curPin,\n            oppositeScroll,\n            initted,\n            revertedPins;\n\n        while (i--) {\n          curTrigger = _triggers[i];\n          curTrigger.end || curTrigger.refresh(0, 1) || (_refreshing = 1);\n          curPin = curTrigger.pin;\n\n          if (curPin && (curPin === trigger || curPin === pin) && !curTrigger.isReverted) {\n            revertedPins || (revertedPins = []);\n            revertedPins.unshift(curTrigger);\n            curTrigger.revert();\n          }\n\n          if (curTrigger !== _triggers[i]) {\n            triggerIndex--;\n            i--;\n          }\n        }\n\n        _isFunction(parsedStart) && (parsedStart = parsedStart(self));\n        start = _parsePosition(parsedStart, trigger, size, direction, scrollFunc(), markerStart, markerStartTrigger, self, scrollerBounds, borderWidth, useFixedPosition, max, containerAnimation) || (pin ? -0.001 : 0);\n        _isFunction(parsedEnd) && (parsedEnd = parsedEnd(self));\n\n        if (_isString(parsedEnd) && !parsedEnd.indexOf(\"+=\")) {\n          if (~parsedEnd.indexOf(\" \")) {\n            parsedEnd = (_isString(parsedStart) ? parsedStart.split(\" \")[0] : \"\") + parsedEnd;\n          } else {\n            offset = _offsetToPx(parsedEnd.substr(2), size);\n            parsedEnd = _isString(parsedStart) ? parsedStart : start + offset;\n            parsedEndTrigger = trigger;\n          }\n        }\n\n        end = Math.max(start, _parsePosition(parsedEnd || (parsedEndTrigger ? \"100% 0\" : max), parsedEndTrigger, size, direction, scrollFunc() + offset, markerEnd, markerEndTrigger, self, scrollerBounds, borderWidth, useFixedPosition, max, containerAnimation)) || -0.001;\n        change = end - start || (start -= 0.01) && 0.001;\n        offset = 0;\n        i = triggerIndex;\n\n        while (i--) {\n          curTrigger = _triggers[i];\n          curPin = curTrigger.pin;\n\n          if (curPin && curTrigger.start - curTrigger._pinPush < start && !containerAnimation && curTrigger.end > 0) {\n            cs = curTrigger.end - curTrigger.start;\n\n            if ((curPin === trigger || curPin === pinnedContainer) && !_isNumber(parsedStart)) {\n              offset += cs * (1 - curTrigger.progress);\n            }\n\n            curPin === pin && (otherPinOffset += cs);\n          }\n        }\n\n        start += offset;\n        end += offset;\n        self._pinPush = otherPinOffset;\n\n        if (markerStart && offset) {\n          cs = {};\n          cs[direction.a] = \"+=\" + offset;\n          pinnedContainer && (cs[direction.p] = \"-=\" + scrollFunc());\n          gsap$1.set([markerStart, markerEnd], cs);\n        }\n\n        if (pin) {\n          cs = _getComputedStyle(pin);\n          isVertical = direction === _vertical;\n          scroll = scrollFunc();\n          pinStart = parseFloat(pinGetter(direction.a)) + otherPinOffset;\n          !max && end > 1 && ((isViewport ? _body$1 : scroller).style[\"overflow-\" + direction.a] = \"scroll\");\n\n          _swapPinIn(pin, spacer, cs);\n\n          pinState = _getState(pin);\n          bounds = _getBounds(pin, true);\n          oppositeScroll = useFixedPosition && _getScrollFunc(scroller, isVertical ? _horizontal : _vertical)();\n\n          if (pinSpacing) {\n            spacerState = [pinSpacing + direction.os2, change + otherPinOffset + _px];\n            spacerState.t = spacer;\n            i = pinSpacing === _padding ? _getSize(pin, direction) + change + otherPinOffset : 0;\n            i && spacerState.push(direction.d, i + _px);\n\n            _setState(spacerState);\n\n            useFixedPosition && scrollFunc(prevScroll);\n          }\n\n          if (useFixedPosition) {\n            override = {\n              top: bounds.top + (isVertical ? scroll - start : oppositeScroll) + _px,\n              left: bounds.left + (isVertical ? oppositeScroll : scroll - start) + _px,\n              boxSizing: \"border-box\",\n              position: \"fixed\"\n            };\n            override[_width] = override[\"max\" + _Width] = Math.ceil(bounds.width) + _px;\n            override[_height] = override[\"max\" + _Height] = Math.ceil(bounds.height) + _px;\n            override[_margin] = override[_margin + _Top] = override[_margin + _Right] = override[_margin + _Bottom] = override[_margin + _Left] = \"0\";\n            override[_padding] = cs[_padding];\n            override[_padding + _Top] = cs[_padding + _Top];\n            override[_padding + _Right] = cs[_padding + _Right];\n            override[_padding + _Bottom] = cs[_padding + _Bottom];\n            override[_padding + _Left] = cs[_padding + _Left];\n            pinActiveState = _copyState(pinOriginalState, override, pinReparent);\n          }\n\n          if (animation) {\n            initted = animation._initted;\n\n            _suppressOverwrites(1);\n\n            animation.render(animation.duration(), true, true);\n            pinChange = pinGetter(direction.a) - pinStart + change + otherPinOffset;\n            change !== pinChange && useFixedPosition && pinActiveState.splice(pinActiveState.length - 2, 2);\n            animation.render(0, true, true);\n            initted || animation.invalidate();\n\n            _suppressOverwrites(0);\n          } else {\n            pinChange = change;\n          }\n        } else if (trigger && scrollFunc() && !containerAnimation) {\n          bounds = trigger.parentNode;\n\n          while (bounds && bounds !== _body$1) {\n            if (bounds._pinOffset) {\n              start -= bounds._pinOffset;\n              end -= bounds._pinOffset;\n            }\n\n            bounds = bounds.parentNode;\n          }\n        }\n\n        revertedPins && revertedPins.forEach(function (t) {\n          return t.revert(false);\n        });\n        self.start = start;\n        self.end = end;\n        scroll1 = scroll2 = scrollFunc();\n\n        if (!containerAnimation) {\n          scroll1 < prevScroll && scrollFunc(prevScroll);\n          self.scroll.rec = 0;\n        }\n\n        self.revert(false);\n\n        if (snapDelayedCall) {\n          lastSnap = -1;\n          self.isActive && scrollFunc(start + change * prevProgress);\n          snapDelayedCall.restart(true);\n        }\n\n        _refreshing = 0;\n        animation && isToggle && (animation._initted || prevAnimProgress) && animation.progress() !== prevAnimProgress && animation.progress(prevAnimProgress, true).render(animation.time(), true, true);\n\n        if (prevProgress !== self.progress || containerAnimation) {\n          animation && !isToggle && animation.totalProgress(prevProgress, true);\n          self.progress = prevProgress;\n          self.update(0, 0, 1);\n        }\n\n        pin && pinSpacing && (spacer._pinOffset = Math.round(self.progress * pinChange));\n        onRefresh && onRefresh(self);\n      };\n\n      self.getVelocity = function () {\n        return (scrollFunc() - scroll2) / (_getTime$1() - _time2) * 1000 || 0;\n      };\n\n      self.endAnimation = function () {\n        _endAnimation(self.callbackAnimation);\n\n        if (animation) {\n          scrubTween ? scrubTween.progress(1) : !animation.paused() ? _endAnimation(animation, animation.reversed()) : isToggle || _endAnimation(animation, self.direction < 0, 1);\n        }\n      };\n\n      self.labelToScroll = function (label) {\n        return animation && animation.labels && (start || self.refresh() || start) + animation.labels[label] / animation.duration() * change || 0;\n      };\n\n      self.getTrailing = function (name) {\n        var i = _triggers.indexOf(self),\n            a = self.direction > 0 ? _triggers.slice(0, i).reverse() : _triggers.slice(i + 1);\n\n        return (_isString(name) ? a.filter(function (t) {\n          return t.vars.preventOverlaps === name;\n        }) : a).filter(function (t) {\n          return self.direction > 0 ? t.end <= start : t.start >= end;\n        });\n      };\n\n      self.update = function (reset, recordVelocity, forceFake) {\n        if (containerAnimation && !forceFake && !reset) {\n          return;\n        }\n\n        var scroll = self.scroll(),\n            p = reset ? 0 : (scroll - start) / change,\n            clipped = p < 0 ? 0 : p > 1 ? 1 : p || 0,\n            prevProgress = self.progress,\n            isActive,\n            wasActive,\n            toggleState,\n            action,\n            stateChanged,\n            toggled,\n            isAtMax,\n            isTakingAction;\n\n        if (recordVelocity) {\n          scroll2 = scroll1;\n          scroll1 = containerAnimation ? scrollFunc() : scroll;\n\n          if (snap) {\n            snap2 = snap1;\n            snap1 = animation && !isToggle ? animation.totalProgress() : clipped;\n          }\n        }\n\n        anticipatePin && !clipped && pin && !_refreshing && !_startup$1 && _lastScrollTime && start < scroll + (scroll - scroll2) / (_getTime$1() - _time2) * anticipatePin && (clipped = 0.0001);\n\n        if (clipped !== prevProgress && self.enabled) {\n          isActive = self.isActive = !!clipped && clipped < 1;\n          wasActive = !!prevProgress && prevProgress < 1;\n          toggled = isActive !== wasActive;\n          stateChanged = toggled || !!clipped !== !!prevProgress;\n          self.direction = clipped > prevProgress ? 1 : -1;\n          self.progress = clipped;\n\n          if (stateChanged && !_refreshing) {\n            toggleState = clipped && !prevProgress ? 0 : clipped === 1 ? 1 : prevProgress === 1 ? 2 : 3;\n\n            if (isToggle) {\n              action = !toggled && toggleActions[toggleState + 1] !== \"none\" && toggleActions[toggleState + 1] || toggleActions[toggleState];\n              isTakingAction = animation && (action === \"complete\" || action === \"reset\" || action in animation);\n            }\n          }\n\n          preventOverlaps && (toggled || isTakingAction) && (isTakingAction || scrub || !animation) && (_isFunction(preventOverlaps) ? preventOverlaps(self) : self.getTrailing(preventOverlaps).forEach(function (t) {\n            return t.endAnimation();\n          }));\n\n          if (!isToggle) {\n            if (scrubTween && !_refreshing && !_startup$1) {\n              (containerAnimation || _primary && _primary !== self) && scrubTween.render(scrubTween._dp._time - scrubTween._start);\n\n              if (scrubTween.resetTo) {\n                scrubTween.resetTo(\"totalProgress\", clipped, animation._tTime / animation._tDur);\n              } else {\n                scrubTween.vars.totalProgress = clipped;\n                scrubTween.invalidate().restart();\n              }\n            } else if (animation) {\n              animation.totalProgress(clipped, !!_refreshing);\n            }\n          }\n\n          if (pin) {\n            reset && pinSpacing && (spacer.style[pinSpacing + direction.os2] = spacingStart);\n\n            if (!useFixedPosition) {\n              pinSetter(_round(pinStart + pinChange * clipped));\n            } else if (stateChanged) {\n              isAtMax = !reset && clipped > prevProgress && end + 1 > scroll && scroll + 1 >= _maxScroll(scroller, direction);\n\n              if (pinReparent) {\n                if (!reset && (isActive || isAtMax)) {\n                  var bounds = _getBounds(pin, true),\n                      _offset = scroll - start;\n\n                  _reparent(pin, _body$1, bounds.top + (direction === _vertical ? _offset : 0) + _px, bounds.left + (direction === _vertical ? 0 : _offset) + _px);\n                } else {\n                  _reparent(pin, spacer);\n                }\n              }\n\n              _setState(isActive || isAtMax ? pinActiveState : pinState);\n\n              pinChange !== change && clipped < 1 && isActive || pinSetter(pinStart + (clipped === 1 && !isAtMax ? pinChange : 0));\n            }\n          }\n\n          snap && !tweenTo.tween && !_refreshing && !_startup$1 && snapDelayedCall.restart(true);\n          toggleClass && (toggled || once && clipped && (clipped < 1 || !_limitCallbacks)) && _toArray(toggleClass.targets).forEach(function (el) {\n            return el.classList[isActive || once ? \"add\" : \"remove\"](toggleClass.className);\n          });\n          onUpdate && !isToggle && !reset && onUpdate(self);\n\n          if (stateChanged && !_refreshing) {\n            if (isToggle) {\n              if (isTakingAction) {\n                if (action === \"complete\") {\n                  animation.pause().totalProgress(1);\n                } else if (action === \"reset\") {\n                  animation.restart(true).pause();\n                } else if (action === \"restart\") {\n                  animation.restart(true);\n                } else {\n                  animation[action]();\n                }\n              }\n\n              onUpdate && onUpdate(self);\n            }\n\n            if (toggled || !_limitCallbacks) {\n              onToggle && toggled && _callback(self, onToggle);\n              callbacks[toggleState] && _callback(self, callbacks[toggleState]);\n              once && (clipped === 1 ? self.kill(false, 1) : callbacks[toggleState] = 0);\n\n              if (!toggled) {\n                toggleState = clipped === 1 ? 1 : 3;\n                callbacks[toggleState] && _callback(self, callbacks[toggleState]);\n              }\n            }\n\n            if (fastScrollEnd && !isActive && Math.abs(self.getVelocity()) > (_isNumber(fastScrollEnd) ? fastScrollEnd : 2500)) {\n              _endAnimation(self.callbackAnimation);\n\n              scrubTween ? scrubTween.progress(1) : _endAnimation(animation, !clipped, 1);\n            }\n          } else if (isToggle && onUpdate && !_refreshing) {\n            onUpdate(self);\n          }\n        }\n\n        if (markerEndSetter) {\n          var n = containerAnimation ? scroll / containerAnimation.duration() * (containerAnimation._caScrollDist || 0) : scroll;\n          markerStartSetter(n + (markerStartTrigger._isFlipped ? 1 : 0));\n          markerEndSetter(n);\n        }\n\n        caMarkerSetter && caMarkerSetter(-scroll / containerAnimation.duration() * (containerAnimation._caScrollDist || 0));\n      };\n\n      self.enable = function (reset, refresh) {\n        if (!self.enabled) {\n          self.enabled = true;\n\n          _addListener$1(scroller, \"resize\", _onResize);\n\n          _addListener$1(isViewport ? _doc$1 : scroller, \"scroll\", _onScroll$1);\n\n          onRefreshInit && _addListener$1(ScrollTrigger, \"refreshInit\", onRefreshInit);\n\n          if (reset !== false) {\n            self.progress = prevProgress = 0;\n            scroll1 = scroll2 = lastSnap = scrollFunc();\n          }\n\n          refresh !== false && self.refresh();\n        }\n      };\n\n      self.getTween = function (snap) {\n        return snap && tweenTo ? tweenTo.tween : scrubTween;\n      };\n\n      self.setPositions = function (newStart, newEnd) {\n        if (pin) {\n          pinStart += newStart - start;\n          pinChange += newEnd - newStart - change;\n        }\n\n        self.start = start = newStart;\n        self.end = end = newEnd;\n        change = newEnd - newStart;\n        self.update();\n      };\n\n      self.disable = function (reset, allowAnimation) {\n        if (self.enabled) {\n          reset !== false && self.revert();\n          self.enabled = self.isActive = false;\n          allowAnimation || scrubTween && scrubTween.pause();\n          prevScroll = 0;\n          pinCache && (pinCache.uncache = 1);\n          onRefreshInit && _removeListener$1(ScrollTrigger, \"refreshInit\", onRefreshInit);\n\n          if (snapDelayedCall) {\n            snapDelayedCall.pause();\n            tweenTo.tween && tweenTo.tween.kill() && (tweenTo.tween = 0);\n          }\n\n          if (!isViewport) {\n            var i = _triggers.length;\n\n            while (i--) {\n              if (_triggers[i].scroller === scroller && _triggers[i] !== self) {\n                return;\n              }\n            }\n\n            _removeListener$1(scroller, \"resize\", _onResize);\n\n            _removeListener$1(scroller, \"scroll\", _onScroll$1);\n          }\n        }\n      };\n\n      self.kill = function (revert, allowAnimation) {\n        self.disable(revert, allowAnimation);\n        scrubTween && !allowAnimation && scrubTween.kill();\n        id && delete _ids[id];\n\n        var i = _triggers.indexOf(self);\n\n        i >= 0 && _triggers.splice(i, 1);\n        i === _i && _direction > 0 && _i--;\n        i = 0;\n\n        _triggers.forEach(function (t) {\n          return t.scroller === self.scroller && (i = 1);\n        });\n\n        i || (self.scroll.rec = 0);\n\n        if (animation) {\n          animation.scrollTrigger = null;\n          revert && animation.render(-1);\n          allowAnimation || animation.kill();\n        }\n\n        markerStart && [markerStart, markerEnd, markerStartTrigger, markerEndTrigger].forEach(function (m) {\n          return m.parentNode && m.parentNode.removeChild(m);\n        });\n        _primary === self && (_primary = 0);\n\n        if (pin) {\n          pinCache && (pinCache.uncache = 1);\n          i = 0;\n\n          _triggers.forEach(function (t) {\n            return t.pin === pin && i++;\n          });\n\n          i || (pinCache.spacer = 0);\n        }\n\n        vars.onKill && vars.onKill(self);\n      };\n\n      self.enable(false, false);\n      customRevertReturn && customRevertReturn(self);\n      !animation || !animation.add || change ? self.refresh() : gsap$1.delayedCall(0.01, function () {\n        return start || end || self.refresh();\n      }) && (change = 0.01) && (start = end = 0);\n    };\n\n    ScrollTrigger.register = function register(core) {\n      if (!_coreInitted$1) {\n        gsap$1 = core || _getGSAP$1();\n        _windowExists() && window.document && ScrollTrigger.enable();\n        _coreInitted$1 = _enabled;\n      }\n\n      return _coreInitted$1;\n    };\n\n    ScrollTrigger.defaults = function defaults(config) {\n      if (config) {\n        for (var p in config) {\n          _defaults[p] = config[p];\n        }\n      }\n\n      return _defaults;\n    };\n\n    ScrollTrigger.disable = function disable(reset, kill) {\n      _enabled = 0;\n\n      _triggers.forEach(function (trigger) {\n        return trigger[kill ? \"kill\" : \"disable\"](reset);\n      });\n\n      _removeListener$1(_win$1, \"wheel\", _onScroll$1);\n\n      _removeListener$1(_doc$1, \"scroll\", _onScroll$1);\n\n      clearInterval(_syncInterval);\n\n      _removeListener$1(_doc$1, \"touchcancel\", _passThrough);\n\n      _removeListener$1(_body$1, \"touchstart\", _passThrough);\n\n      _multiListener(_removeListener$1, _doc$1, \"pointerdown,touchstart,mousedown\", _pointerDownHandler);\n\n      _multiListener(_removeListener$1, _doc$1, \"pointerup,touchend,mouseup\", _pointerUpHandler);\n\n      _resizeDelay.kill();\n\n      _iterateAutoRefresh(_removeListener$1);\n\n      for (var i = 0; i < _scrollers.length; i += 3) {\n        _wheelListener(_removeListener$1, _scrollers[i], _scrollers[i + 1]);\n\n        _wheelListener(_removeListener$1, _scrollers[i], _scrollers[i + 2]);\n      }\n    };\n\n    ScrollTrigger.enable = function enable() {\n      _win$1 = window;\n      _doc$1 = document;\n      _docEl$1 = _doc$1.documentElement;\n      _body$1 = _doc$1.body;\n\n      if (gsap$1) {\n        _toArray = gsap$1.utils.toArray;\n        _clamp$1 = gsap$1.utils.clamp;\n        _suppressOverwrites = gsap$1.core.suppressOverwrites || _passThrough;\n        gsap$1.core.globals(\"ScrollTrigger\", ScrollTrigger);\n\n        if (_body$1) {\n          _enabled = 1;\n          Observer.register(gsap$1);\n          ScrollTrigger.isTouch = Observer.isTouch;\n          _fixIOSBug = Observer.isTouch && /(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent);\n\n          _addListener$1(_win$1, \"wheel\", _onScroll$1);\n\n          _root$1 = [_win$1, _doc$1, _docEl$1, _body$1];\n          ScrollTrigger.matchMedia({\n            \"(orientation: portrait)\": function orientationPortrait() {\n              _setBaseDimensions();\n\n              return _setBaseDimensions;\n            }\n          });\n\n          _addListener$1(_doc$1, \"scroll\", _onScroll$1);\n\n          var bodyStyle = _body$1.style,\n              border = bodyStyle.borderTopStyle,\n              bounds,\n              i;\n          bodyStyle.borderTopStyle = \"solid\";\n          bounds = _getBounds(_body$1);\n          _vertical.m = Math.round(bounds.top + _vertical.sc()) || 0;\n          _horizontal.m = Math.round(bounds.left + _horizontal.sc()) || 0;\n          border ? bodyStyle.borderTopStyle = border : bodyStyle.removeProperty(\"border-top-style\");\n          _syncInterval = setInterval(_sync, 250);\n          gsap$1.delayedCall(0.5, function () {\n            return _startup$1 = 0;\n          });\n\n          _addListener$1(_doc$1, \"touchcancel\", _passThrough);\n\n          _addListener$1(_body$1, \"touchstart\", _passThrough);\n\n          _multiListener(_addListener$1, _doc$1, \"pointerdown,touchstart,mousedown\", _pointerDownHandler);\n\n          _multiListener(_addListener$1, _doc$1, \"pointerup,touchend,mouseup\", _pointerUpHandler);\n\n          _transformProp = gsap$1.utils.checkPrefix(\"transform\");\n\n          _stateProps.push(_transformProp);\n\n          _coreInitted$1 = _getTime$1();\n          _resizeDelay = gsap$1.delayedCall(0.2, _refreshAll).pause();\n          _autoRefresh = [_doc$1, \"visibilitychange\", function () {\n            var w = _win$1.innerWidth,\n                h = _win$1.innerHeight;\n\n            if (_doc$1.hidden) {\n              _prevWidth = w;\n              _prevHeight = h;\n            } else if (_prevWidth !== w || _prevHeight !== h) {\n              _onResize();\n            }\n          }, _doc$1, \"DOMContentLoaded\", _refreshAll, _win$1, \"load\", _refreshAll, _win$1, \"resize\", _onResize];\n\n          _iterateAutoRefresh(_addListener$1);\n\n          _triggers.forEach(function (trigger) {\n            return trigger.enable(0, 1);\n          });\n\n          for (i = 0; i < _scrollers.length; i += 3) {\n            _wheelListener(_removeListener$1, _scrollers[i], _scrollers[i + 1]);\n\n            _wheelListener(_removeListener$1, _scrollers[i], _scrollers[i + 2]);\n          }\n        }\n      }\n    };\n\n    ScrollTrigger.config = function config(vars) {\n      \"limitCallbacks\" in vars && (_limitCallbacks = !!vars.limitCallbacks);\n      var ms = vars.syncInterval;\n      ms && clearInterval(_syncInterval) || (_syncInterval = ms) && setInterval(_sync, ms);\n      \"ignoreMobileResize\" in vars && (_ignoreMobileResize = ScrollTrigger.isTouch === 1 && vars.ignoreMobileResize);\n\n      if (\"autoRefreshEvents\" in vars) {\n        _iterateAutoRefresh(_removeListener$1) || _iterateAutoRefresh(_addListener$1, vars.autoRefreshEvents || \"none\");\n        _ignoreResize = (vars.autoRefreshEvents + \"\").indexOf(\"resize\") === -1;\n      }\n    };\n\n    ScrollTrigger.scrollerProxy = function scrollerProxy(target, vars) {\n      var t = _getTarget(target),\n          i = _scrollers.indexOf(t),\n          isViewport = _isViewport$1(t);\n\n      if (~i) {\n        _scrollers.splice(i, isViewport ? 6 : 2);\n      }\n\n      if (vars) {\n        isViewport ? _proxies.unshift(_win$1, vars, _body$1, vars, _docEl$1, vars) : _proxies.unshift(t, vars);\n      }\n    };\n\n    ScrollTrigger.matchMedia = function matchMedia(vars) {\n      var mq, p, i, func, result;\n\n      for (p in vars) {\n        i = _media.indexOf(p);\n        func = vars[p];\n        _creatingMedia = p;\n\n        if (p === \"all\") {\n          func();\n        } else {\n          mq = _win$1.matchMedia(p);\n\n          if (mq) {\n            mq.matches && (result = func());\n\n            if (~i) {\n              _media[i + 1] = _combineFunc(_media[i + 1], func);\n              _media[i + 2] = _combineFunc(_media[i + 2], result);\n            } else {\n              i = _media.length;\n\n              _media.push(p, func, result);\n\n              mq.addListener ? mq.addListener(_onMediaChange) : mq.addEventListener(\"change\", _onMediaChange);\n            }\n\n            _media[i + 3] = mq.matches;\n          }\n        }\n\n        _creatingMedia = 0;\n      }\n\n      return _media;\n    };\n\n    ScrollTrigger.clearMatchMedia = function clearMatchMedia(query) {\n      query || (_media.length = 0);\n      query = _media.indexOf(query);\n      query >= 0 && _media.splice(query, 4);\n    };\n\n    ScrollTrigger.isInViewport = function isInViewport(element, ratio, horizontal) {\n      var bounds = (_isString(element) ? _getTarget(element) : element).getBoundingClientRect(),\n          offset = bounds[horizontal ? _width : _height] * ratio || 0;\n      return horizontal ? bounds.right - offset > 0 && bounds.left + offset < _win$1.innerWidth : bounds.bottom - offset > 0 && bounds.top + offset < _win$1.innerHeight;\n    };\n\n    ScrollTrigger.positionInViewport = function positionInViewport(element, referencePoint, horizontal) {\n      _isString(element) && (element = _getTarget(element));\n      var bounds = element.getBoundingClientRect(),\n          size = bounds[horizontal ? _width : _height],\n          offset = referencePoint == null ? size / 2 : referencePoint in _keywords ? _keywords[referencePoint] * size : ~referencePoint.indexOf(\"%\") ? parseFloat(referencePoint) * size / 100 : parseFloat(referencePoint) || 0;\n      return horizontal ? (bounds.left + offset) / _win$1.innerWidth : (bounds.top + offset) / _win$1.innerHeight;\n    };\n\n    return ScrollTrigger;\n  }();\n  ScrollTrigger$1.version = \"3.10.4\";\n\n  ScrollTrigger$1.saveStyles = function (targets) {\n    return targets ? _toArray(targets).forEach(function (target) {\n      if (target && target.style) {\n        var i = _savedStyles.indexOf(target);\n\n        i >= 0 && _savedStyles.splice(i, 5);\n\n        _savedStyles.push(target, target.style.cssText, target.getBBox && target.getAttribute(\"transform\"), gsap$1.core.getCache(target), _creatingMedia);\n      }\n    }) : _savedStyles;\n  };\n\n  ScrollTrigger$1.revert = function (soft, media) {\n    return _revertAll(!soft, media);\n  };\n\n  ScrollTrigger$1.create = function (vars, animation) {\n    return new ScrollTrigger$1(vars, animation);\n  };\n\n  ScrollTrigger$1.refresh = function (safe) {\n    return safe ? _onResize() : (_coreInitted$1 || ScrollTrigger$1.register()) && _refreshAll(true);\n  };\n\n  ScrollTrigger$1.update = _updateAll;\n  ScrollTrigger$1.clearScrollMemory = _clearScrollMemory;\n\n  ScrollTrigger$1.maxScroll = function (element, horizontal) {\n    return _maxScroll(element, horizontal ? _horizontal : _vertical);\n  };\n\n  ScrollTrigger$1.getScrollFunc = function (element, horizontal) {\n    return _getScrollFunc(_getTarget(element), horizontal ? _horizontal : _vertical);\n  };\n\n  ScrollTrigger$1.getById = function (id) {\n    return _ids[id];\n  };\n\n  ScrollTrigger$1.getAll = function () {\n    return _triggers.filter(function (t) {\n      return t.vars.id !== \"ScrollSmoother\";\n    });\n  };\n\n  ScrollTrigger$1.isScrolling = function () {\n    return !!_lastScrollTime;\n  };\n\n  ScrollTrigger$1.snapDirectional = _snapDirectional;\n\n  ScrollTrigger$1.addEventListener = function (type, callback) {\n    var a = _listeners[type] || (_listeners[type] = []);\n    ~a.indexOf(callback) || a.push(callback);\n  };\n\n  ScrollTrigger$1.removeEventListener = function (type, callback) {\n    var a = _listeners[type],\n        i = a && a.indexOf(callback);\n    i >= 0 && a.splice(i, 1);\n  };\n\n  ScrollTrigger$1.batch = function (targets, vars) {\n    var result = [],\n        varsCopy = {},\n        interval = vars.interval || 0.016,\n        batchMax = vars.batchMax || 1e9,\n        proxyCallback = function proxyCallback(type, callback) {\n      var elements = [],\n          triggers = [],\n          delay = gsap$1.delayedCall(interval, function () {\n        callback(elements, triggers);\n        elements = [];\n        triggers = [];\n      }).pause();\n      return function (self) {\n        elements.length || delay.restart(true);\n        elements.push(self.trigger);\n        triggers.push(self);\n        batchMax <= elements.length && delay.progress(1);\n      };\n    },\n        p;\n\n    for (p in vars) {\n      varsCopy[p] = p.substr(0, 2) === \"on\" && _isFunction(vars[p]) && p !== \"onRefreshInit\" ? proxyCallback(p, vars[p]) : vars[p];\n    }\n\n    if (_isFunction(batchMax)) {\n      batchMax = batchMax();\n\n      _addListener$1(ScrollTrigger$1, \"refresh\", function () {\n        return batchMax = vars.batchMax();\n      });\n    }\n\n    _toArray(targets).forEach(function (target) {\n      var config = {};\n\n      for (p in varsCopy) {\n        config[p] = varsCopy[p];\n      }\n\n      config.trigger = target;\n      result.push(ScrollTrigger$1.create(config));\n    });\n\n    return result;\n  };\n\n  var _clampScrollAndGetDurationMultiplier = function _clampScrollAndGetDurationMultiplier(scrollFunc, current, end, max) {\n    current > max ? scrollFunc(max) : current < 0 && scrollFunc(0);\n    return end > max ? (max - current) / (end - current) : end < 0 ? current / (current - end) : 1;\n  },\n      _allowNativePanning = function _allowNativePanning(target, direction) {\n    if (direction === true) {\n      target.style.removeProperty(\"touch-action\");\n    } else {\n      target.style.touchAction = direction === true ? \"auto\" : direction ? \"pan-\" + direction + (Observer.isTouch ? \" pinch-zoom\" : \"\") : \"none\";\n    }\n\n    target === _docEl$1 && _allowNativePanning(_body$1, direction);\n  },\n      _overflow = {\n    auto: 1,\n    scroll: 1\n  },\n      _nestedScroll = function _nestedScroll(_ref5) {\n    var event = _ref5.event,\n        target = _ref5.target,\n        axis = _ref5.axis;\n\n    var node = (event.changedTouches ? event.changedTouches[0] : event).target,\n        cache = node._gsap || gsap$1.core.getCache(node),\n        time = _getTime$1(),\n        cs;\n\n    if (!cache._isScrollT || time - cache._isScrollT > 2000) {\n      while (node && node.scrollHeight <= node.clientHeight) {\n        node = node.parentNode;\n      }\n\n      cache._isScroll = node && !_isViewport$1(node) && node !== target && (_overflow[(cs = _getComputedStyle(node)).overflowY] || _overflow[cs.overflowX]);\n      cache._isScrollT = time;\n    }\n\n    (cache._isScroll || axis === \"x\") && (event._gsapAllow = true);\n  },\n      _inputObserver = function _inputObserver(target, type, inputs, nested) {\n    return Observer.create({\n      target: target,\n      capture: true,\n      debounce: false,\n      lockAxis: true,\n      type: type,\n      onWheel: nested = nested && _nestedScroll,\n      onPress: nested,\n      onDrag: nested,\n      onScroll: nested,\n      onEnable: function onEnable() {\n        return inputs && _addListener$1(_doc$1, Observer.eventTypes[0], _captureInputs, false, true);\n      },\n      onDisable: function onDisable() {\n        return _removeListener$1(_doc$1, Observer.eventTypes[0], _captureInputs, true);\n      }\n    });\n  },\n      _inputExp = /(input|label|select|textarea)/i,\n      _inputIsFocused,\n      _captureInputs = function _captureInputs(e) {\n    var isInput = _inputExp.test(e.target.tagName);\n\n    if (isInput || _inputIsFocused) {\n      e._gsapAllow = true;\n      _inputIsFocused = isInput;\n    }\n  },\n      _getScrollNormalizer = function _getScrollNormalizer(vars) {\n    _isObject(vars) || (vars = {});\n    vars.preventDefault = vars.isNormalizer = vars.allowClicks = true;\n    vars.type || (vars.type = \"wheel,touch\");\n    vars.debounce = !!vars.debounce;\n    vars.id = vars.id || \"normalizer\";\n\n    var _vars2 = vars,\n        normalizeScrollX = _vars2.normalizeScrollX,\n        momentum = _vars2.momentum,\n        allowNestedScroll = _vars2.allowNestedScroll,\n        self,\n        maxY,\n        target = _getTarget(vars.target) || _docEl$1,\n        smoother = gsap$1.core.globals().ScrollSmoother,\n        content = _fixIOSBug && (vars.content && _getTarget(vars.content) || smoother && smoother.get() && smoother.get().content()),\n        scrollFuncY = _getScrollFunc(target, _vertical),\n        scrollFuncX = _getScrollFunc(target, _horizontal),\n        scale = 1,\n        initialScale = (Observer.isTouch && _win$1.visualViewport ? _win$1.visualViewport.scale * _win$1.visualViewport.width : _win$1.outerWidth) / _win$1.innerWidth,\n        wheelRefresh = 0,\n        resolveMomentumDuration = _isFunction(momentum) ? function () {\n      return momentum(self);\n    } : function () {\n      return momentum || 2.8;\n    },\n        skipTouchMove,\n        lastRefreshID,\n        inputObserver = _inputObserver(target, vars.type, true, allowNestedScroll),\n        resumeTouchMove = function resumeTouchMove() {\n      return skipTouchMove = false;\n    },\n        scrollClampX = _passThrough,\n        scrollClampY = _passThrough,\n        updateClamps = function updateClamps() {\n      maxY = _maxScroll(target, _vertical);\n      scrollClampY = _clamp$1(_fixIOSBug ? 1 : 0, maxY);\n      normalizeScrollX && (scrollClampX = _clamp$1(0, _maxScroll(target, _horizontal)));\n      lastRefreshID = _refreshID;\n    },\n        ignoreDrag = function ignoreDrag() {\n      if (skipTouchMove) {\n        requestAnimationFrame(resumeTouchMove);\n\n        var offset = _round(self.deltaY / 2),\n            scroll = scrollClampY(scrollFuncY.v - offset);\n\n        if (content && scroll !== scrollFuncY.v + scrollFuncY.offset) {\n          scrollFuncY.offset = scroll - scrollFuncY.v;\n          content.style.transform = \"translateY(\" + -scrollFuncY.offset + \"px)\";\n          content._gsap && (content._gsap.y = -scrollFuncY.offset + \"px\");\n          scrollFuncY.cacheID = _scrollers.cache;\n\n          _updateAll();\n        }\n\n        return true;\n      }\n\n      if (content) {\n        content.style.transform = \"translateY(0px)\";\n        scrollFuncY.offset = scrollFuncY.cacheID = 0;\n        content._gsap && (content._gsap.y = \"0px\");\n      }\n\n      skipTouchMove = true;\n    },\n        tween,\n        startScrollX,\n        startScrollY,\n        onStopDelayedCall,\n        onResize = function onResize() {\n      updateClamps();\n\n      if (tween.isActive() && tween.vars.scrollY > maxY) {\n        scrollFuncY() > maxY ? tween.progress(1) && scrollFuncY(maxY) : tween.resetTo(\"scrollY\", maxY);\n      }\n    };\n\n    vars.ignoreCheck = function (e) {\n      return _fixIOSBug && e.type === \"touchmove\" && ignoreDrag() || scale > 1.05 && e.type !== \"touchstart\" || self.isGesturing || e.touches && e.touches.length > 1;\n    };\n\n    vars.onPress = function () {\n      var prevScale = scale;\n      scale = _round((_win$1.visualViewport && _win$1.visualViewport.scale || 1) / initialScale);\n      tween.pause();\n      prevScale !== scale && _allowNativePanning(target, scale > 1.01 ? true : normalizeScrollX ? false : \"x\");\n      skipTouchMove = false;\n      startScrollX = scrollFuncX();\n      startScrollY = scrollFuncY();\n      updateClamps();\n      lastRefreshID = _refreshID;\n    };\n\n    vars.onRelease = vars.onGestureStart = function (self, wasDragging) {\n      if (content) {\n        content.style.transform = \"translateY(0px)\";\n        scrollFuncY.offset = scrollFuncY.cacheID = 0;\n        content._gsap && (content._gsap.y = \"0px\");\n      }\n\n      if (!wasDragging) {\n        onStopDelayedCall.restart(true);\n      } else {\n        _scrollers.cache++;\n        var dur = resolveMomentumDuration(),\n            currentScroll,\n            endScroll;\n\n        if (normalizeScrollX) {\n          currentScroll = scrollFuncX();\n          endScroll = currentScroll + dur * 0.05 * -self.velocityX / 0.227;\n          dur *= _clampScrollAndGetDurationMultiplier(scrollFuncX, currentScroll, endScroll, _maxScroll(target, _horizontal));\n          tween.vars.scrollX = scrollClampX(endScroll);\n        }\n\n        currentScroll = scrollFuncY();\n        endScroll = currentScroll + dur * 0.05 * -self.velocityY / 0.227;\n        dur *= _clampScrollAndGetDurationMultiplier(scrollFuncY, currentScroll, endScroll, _maxScroll(target, _vertical));\n        tween.vars.scrollY = scrollClampY(endScroll);\n        tween.invalidate().duration(dur).play(0.01);\n\n        if (_fixIOSBug && tween.vars.scrollY >= maxY || currentScroll >= maxY - 1) {\n          gsap$1.to({}, {\n            onUpdate: onResize,\n            duration: dur\n          });\n        }\n      }\n    };\n\n    vars.onWheel = function () {\n      tween._ts && tween.pause();\n\n      if (_getTime$1() - wheelRefresh > 1000) {\n        lastRefreshID = 0;\n        wheelRefresh = _getTime$1();\n      }\n    };\n\n    vars.onChange = function (self, dx, dy, xArray, yArray) {\n      _refreshID !== lastRefreshID && updateClamps();\n      dx && normalizeScrollX && scrollFuncX(scrollClampX(xArray[2] === dx ? startScrollX + (self.startX - self.x) : scrollFuncX() + dx - xArray[1]));\n      dy && scrollFuncY(scrollClampY(yArray[2] === dy ? startScrollY + (self.startY - self.y) : scrollFuncY() + dy - yArray[1]));\n\n      _updateAll();\n    };\n\n    vars.onEnable = function () {\n      _allowNativePanning(target, normalizeScrollX ? false : \"x\");\n\n      _addListener$1(_win$1, \"resize\", onResize);\n\n      inputObserver.enable();\n    };\n\n    vars.onDisable = function () {\n      _allowNativePanning(target, true);\n\n      _removeListener$1(_win$1, \"resize\", onResize);\n\n      inputObserver.kill();\n    };\n\n    self = new Observer(vars);\n    self.iOS = _fixIOSBug;\n    _fixIOSBug && !scrollFuncY() && scrollFuncY(1);\n    onStopDelayedCall = self._dc;\n    tween = gsap$1.to(self, {\n      ease: \"power4\",\n      paused: true,\n      scrollX: normalizeScrollX ? \"+=0.1\" : \"+=0\",\n      scrollY: \"+=0.1\",\n      onComplete: onStopDelayedCall.vars.onComplete\n    });\n    return self;\n  };\n\n  ScrollTrigger$1.sort = function (func) {\n    return _triggers.sort(func || function (a, b) {\n      return (a.vars.refreshPriority || 0) * -1e6 + a.start - (b.start + (b.vars.refreshPriority || 0) * -1e6);\n    });\n  };\n\n  ScrollTrigger$1.observe = function (vars) {\n    return new Observer(vars);\n  };\n\n  ScrollTrigger$1.normalizeScroll = function (vars) {\n    if (typeof vars === \"undefined\") {\n      return _normalizer$1;\n    }\n\n    if (vars === true && _normalizer$1) {\n      return _normalizer$1.enable();\n    }\n\n    if (vars === false) {\n      return _normalizer$1 && _normalizer$1.kill();\n    }\n\n    var normalizer = vars instanceof Observer ? vars : _getScrollNormalizer(vars);\n    _normalizer$1 && _normalizer$1.target === normalizer.target && _normalizer$1.kill();\n    _isViewport$1(normalizer.target) && (_normalizer$1 = normalizer);\n    return normalizer;\n  };\n\n  ScrollTrigger$1.core = {\n    _getVelocityProp: _getVelocityProp,\n    _inputObserver: _inputObserver,\n    _scrollers: _scrollers,\n    _proxies: _proxies,\n    bridge: {\n      ss: function ss() {\n        _lastScrollTime || _dispatch(\"scrollStart\");\n        _lastScrollTime = _getTime$1();\n      },\n      ref: function ref() {\n        return _refreshing;\n      }\n    }\n  };\n  _getGSAP$1() && gsap$1.registerPlugin(ScrollTrigger$1);\n\n  exports.ScrollTrigger = ScrollTrigger$1;\n  exports.default = ScrollTrigger$1;\n\n  if (typeof(window) === 'undefined' || window !== exports) {Object.defineProperty(exports, '__esModule', { value: true });} else {delete window.default;}\n\n})));\n","import gsap from \"gsap\";\nimport { SplitText } from \"gsap/dist/SplitText\";\nimport Swiper, { Navigation, Pagination } from \"swiper\";\nimport ThreeDSliderModels from \"./3dSliderModels\";\n\ngsap.registerPlugin(SplitText);\n\nexport default class ThreeDSlider {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-3d-slider-wrapper\",\n            slider: \".js-3d-slider\",\n            next: \".js-3d-slider-next\",\n            prev: \".js-3d-slider-prev\",\n            pagination: \".js-3d-slider-pagination\",\n            primaryTitle: \".js-slide-title-primary\",\n            secondaryTitle: \".js-slide-title-secondary\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n    }\n\n    init() {\n        if (!this.wrapper) return;\n        this.models = new ThreeDSliderModels(this.wrapper);\n\n        const slider = this.wrapper.querySelector(this.DOM.slider);\n        const next = this.wrapper.querySelector(this.DOM.next);\n        const prev = this.wrapper.querySelector(this.DOM.prev);\n        const pagination = this.wrapper.querySelector(this.DOM.pagination);\n\n        const swiper = new Swiper(slider, {\n            modules: [Navigation, Pagination],\n            loop: false,\n            pagination: {\n                el: pagination,\n                clickable: false,\n                renderBullet: (index, className) => {\n                    return `\n                        <span class=\"${className}\">\n                            <span>\n                                <svg class=\"u-icon\" viewBox=\"0 0 12 19\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M6.18029 18.7476C9.98524 18.7476 11.5688 15.6579 11.5688 10.0807V8.66682C11.5688 3.08968 9.98524 0 6.18029 0H5.38851C1.60556 0 0 3.0635 0 8.66682V10.0807C0 15.6841 1.60556 18.7476 5.38851 18.7476H6.18029ZM5.47649 16.3387C3.34308 16.3387 2.30936 14.4272 2.30936 10.6044V8.14315C2.30936 4.32032 3.34308 2.4089 5.47649 2.4089H6.11431C8.24772 2.4089 9.28143 4.32032 9.28143 8.14315V10.6044C9.28143 14.4272 8.24772 16.3387 6.11431 16.3387H5.47649Z\"/>\n                                </svg>\n                            </span>\n                            <span>\n                                <svg class=\"u-icon\" viewBox=\"0 0 8 19\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M2.6973 1.57724L0.851562 0H7.27867L5.43294 1.57724V16.7863L7.27867 18.3635H0.851562L2.6973 16.7863V1.57724Z\"/>\n                                </svg>\n                            </span>\n                        </span>`;\n                },\n            },\n            navigation: {\n                nextEl: next,\n                prevEl: prev,\n            },\n            on: {\n                slideChange: (swiper) => {\n                    this.animateTitles(swiper);\n\n                    this.models.changeSlide(swiper.activeIndex, swiper.previousIndex);\n                },\n                afterInit: (swiper) => {\n                    this.models.init();\n\n                    swiper.slides.forEach((slide, index) => this.models.initModel(slide, index));\n\n                    this.onScrollAnimation(swiper.slides[0], swiper);\n                },\n            },\n        });\n\n        swiper.slides.forEach((slide) => {\n            const titlePrimary = slide.querySelector(this.DOM.primaryTitle);\n            const titleSecondary = slide.querySelector(this.DOM.secondaryTitle);\n\n            const splitPrimary = new SplitText(titlePrimary, {\n                type: \"chars\",\n                charsClass: \"split-text-char\",\n            });\n\n            const splitSecondary = new SplitText(titleSecondary, {\n                type: \"chars\",\n                charsClass: \"split-text-char\",\n            });\n\n            gsap.set(splitPrimary.chars, {\n                visibility: \"hidden\",\n            });\n        });\n    }\n\n    animateTitles(swiper) {\n        this.animateTitleIn(swiper.slides[swiper.activeIndex]);\n\n        if (swiper.slides[swiper.previousIndex]) {\n            this.animateTitleOut(swiper.slides[swiper.previousIndex]);\n        }\n    }\n\n    animateTitleIn(slide) {\n        const titlePrimaryChars = slide.querySelector(this.DOM.primaryTitle).querySelectorAll(\".split-text-char\");\n        const titleSecondaryChars = slide.querySelector(this.DOM.secondaryTitle).querySelectorAll(\".split-text-char\");\n\n        gsap.to(titlePrimaryChars, {\n            visibility: \"visible\",\n            delay: 0.6,\n            duration: 0.2,\n            stagger: {\n                each: 0.05,\n                from: \"center\",\n            },\n        });\n\n        gsap.to(titleSecondaryChars, {\n            visibility: \"hidden\",\n            delay: 0.4,\n            duration: 0.2,\n            stagger: {\n                each: 0.05,\n                from: \"center\",\n            },\n        });\n    }\n\n    animateTitleOut(slide) {\n        const titlePrimaryChars = slide.querySelector(this.DOM.primaryTitle).querySelectorAll(\".split-text-char\");\n        const titleSecondaryChars = slide.querySelector(this.DOM.secondaryTitle).querySelectorAll(\".split-text-char\");\n\n        gsap.to(titlePrimaryChars, {\n            visibility: \"hidden\",\n        });\n\n        gsap.to(titleSecondaryChars, {\n            visibility: \"visible\",\n        });\n    }\n\n    onScrollAnimation(firstSlide, swiper) {\n        if (!firstSlide) return;\n\n        gsap.fromTo(\n            firstSlide,\n            {\n                x: \"100%\",\n                autoAlpha: 0,\n            },\n            {\n                x: \"0%\",\n                autoAlpha: 1,\n                ease: \"power4.out\",\n                duration: 1.2,\n                scrollTrigger: {\n                    trigger: this.wrapper,\n                    start: \"top 40%\",\n                    end: \"bottom bottom\",\n                },\n                onStart: () => this.animateTitles(swiper),\n            },\n        );\n    }\n}\n","import gsap from \"gsap\";\nimport * as THREE from \"three\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\nimport is from \"is_js\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class ThreeDSliderModels {\n    constructor(wrapper) {\n        this.DOM = {\n            models: \".js-3d-slider-models\",\n            slide: \".js-3d-slider-slide\",\n        };\n\n        this.models = wrapper.querySelector(this.DOM.models);\n\n        // config\n        this.config = {\n            modelOffset: 6,\n            modelScale: 1,\n        };\n    }\n\n    init() {\n        if (!this.models) return;\n\n        this.modelsArray = [];\n\n        this.modelsWrapper = new THREE.Object3D();\n\n        this.loader = new GLTFLoader();\n\n        // loader\n        const dracoLoader = new DRACOLoader();\n        dracoLoader.setDecoderPath(window.dracoPath);\n        dracoLoader.setDecoderConfig({\n            type: \"js\",\n        });\n        this.loader.setDRACOLoader(dracoLoader);\n\n        THREE.Cache.enabled = true;\n\n        this.resizeModels();\n\n        this.width = this.models.offsetWidth;\n        this.height = this.models.offsetHeight;\n\n        this.initCamera();\n        this.initScene();\n        this.initLights();\n        this.initRenderer();\n        this.animate();\n        this.onScrollAnimation();\n\n        if (!is.mobile()) {\n            this.mouseMove();\n        }\n\n        this.scene.add(this.modelsWrapper);\n\n        // handle resize\n        window.addEventListener(\"resize\", () => this.onWindowResize(), false);\n    }\n\n    onScrollAnimation() {\n        gsap.timeline({\n            scrollTrigger: {\n                trigger: this.models,\n                start: \"top 30%\",\n                end: \"bottom bottom\",\n            },\n        })\n            .add(\"start\")\n            .fromTo(\n                this.modelsWrapper.position,\n                {\n                    y: -3,\n                },\n                {\n                    y: 0,\n                    ease: \"power4.out\",\n                    duration: 1,\n                },\n                \"start\",\n            )\n            .fromTo(\n                this.modelsWrapper.rotation,\n                {\n                    x: -3,\n                },\n                {\n                    x: 0,\n                    ease: \"power4.out\",\n                    duration: 1,\n                },\n                \"start\",\n            );\n    }\n\n    resizeModels() {\n        ScrollTrigger.matchMedia({\n            \"(min-width: 1100px)\": () => {\n                if (this.config.modelScale !== 0.9) {\n                    this.config.modelScale = 0.9;\n                }\n            },\n            \"(max-width: 801px)\": () => {\n                if (this.config.modelScale !== 0.7) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n            \"(max-width: 600px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n            \"(max-width: 475px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n        });\n    }\n\n    mouseMove() {\n        const halfHeight = this.height / 2;\n        const singlePercentCoefficient = 0.05 / halfHeight;\n\n        window.addEventListener(\"mousemove\", (ev) => {\n            let mouseY = ev.clientY;\n\n            gsap.to(this.yellowLight.position, {\n                y: -1 - (mouseY - window.innerHeight) / 400,\n            });\n\n            gsap.to(this.blueLight.position, {\n                y: -(mouseY - window.innerHeight) / 400,\n            });\n\n            gsap.to(this.modelsWrapper.rotation, {\n                x: -singlePercentCoefficient * (halfHeight - ev.clientY),\n                delay: 0.1,\n            });\n        });\n    }\n\n    /**\n     * camera setup\n     */\n    initCamera() {\n        this.camera = new THREE.PerspectiveCamera(35, this.width / this.height, 0.5, 100);\n        this.camera.position.set(0, 0, 6);\n        this.camera.lookAt(0, 0, 0);\n    }\n\n    /**\n     * scene setup\n     */\n    initScene() {\n        this.scene = new THREE.Scene();\n    }\n\n    /**\n     * lights setup - because of performance > all in one object\n     */\n    initLights() {\n        const lightWrapper = new THREE.Object3D();\n\n        this.yellowLight = new THREE.PointLight(0xfeb301, 5, 4);\n        this.yellowLight.position.set(-1, 1, 2);\n\n        this.blueLight = new THREE.PointLight(0x2400ff, 5, 2);\n        this.blueLight.position.set(1, 0, 1);\n\n        lightWrapper.add(this.blueLight);\n        lightWrapper.add(this.yellowLight);\n\n        this.scene.add(lightWrapper);\n    }\n\n    /**\n     * renderer setup\n     */\n    initRenderer() {\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            powerPreference: \"high-performance\",\n            alpha: true,\n        });\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        this.renderer.setClearColor(0x000000, 0);\n        this.renderer.setPixelRatio(window.devicePixelRatio > 2 ? 2 : window.devicePixelRatio);\n        this.renderer.setSize(this.width, this.height);\n        this.renderer.physicallyCorrectLights = true;\n        this.models.appendChild(this.renderer.domElement);\n    }\n\n    /**\n     * model setup and load call\n     */\n    initModel(slide, index) {\n        if (!slide) return;\n\n        this.loader.load(\n            slide.dataset.model,\n            (gltf) => {\n                gltf.scene.rotation.y = -Math.PI / 2;\n\n                gltf.scene.position.x = index * this.config.modelOffset;\n\n                gltf.scene.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale);\n\n                gltf.scene.uuid = index;\n\n                this.modelsArray.push(gltf.scene);\n\n                this.modelsWrapper.add(gltf.scene);\n            },\n            (xhr) => {\n                // console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\n            },\n            (error) => {\n                // console.log(\"An error happened\");\n            },\n        );\n    }\n\n    /**\n     *\n     */\n    onWindowResize() {\n        this.resizeModels();\n\n        this.modelsWrapper.children.forEach((model) => model.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale));\n\n        this.camera.aspect = this.models.offsetWidth / this.models.offsetHeight;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize(this.models.offsetWidth, this.models.offsetHeight);\n    }\n\n    /**\n     * requestAnimationFrame\n     */\n    animate() {\n        let raf = null;\n\n        const animate = () => {\n            this.renderer.render(this.scene, this.camera);\n            if (this.renderer != null) {\n                raf = requestAnimationFrame(animate);\n            }\n        };\n\n        ScrollTrigger.create({\n            trigger: this.models,\n            start: \"top bottom\",\n            end: \"bottom top\",\n            onEnter: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeave: () => {\n                cancelAnimationFrame(raf);\n            },\n            onEnterBack: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeaveBack: () => {\n                cancelAnimationFrame(raf);\n            },\n        });\n    }\n\n    changeSlide(index, prevIndex) {\n        const model = this.modelsArray.find((model) => model.uuid === index);\n        const prevModel = this.modelsArray.find((model) => model.uuid === prevIndex);\n\n        const direction = prevIndex > index ? 1 : -1;\n\n        gsap.timeline()\n            .add(\"start\")\n            .to(\n                this.modelsWrapper.position,\n                {\n                    x: -index * this.config.modelOffset,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            )\n            .fromTo(\n                model.rotation,\n                {\n                    y: -Math.PI / 2 + 2.5 * direction,\n                },\n                {\n                    y: -Math.PI / 2,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            )\n            .fromTo(\n                prevModel.rotation,\n                {\n                    y: -Math.PI / 2,\n                },\n                {\n                    y: -Math.PI / 2 + -2.5 * direction,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            );\n    }\n}\n","import gsap from \"gsap\";\nimport * as THREE from \"three\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\nimport is from \"is_js\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class HeaderModel {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-contact-model-wrapper\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n        this.model = null;\n\n        // config\n        this.config = {\n            modelOffset: 6,\n            modelScale: 1,\n        };\n    }\n\n    init() {\n        if (!this.wrapper) return;\n\n        this.loader = new GLTFLoader();\n\n        // loader\n        const dracoLoader = new DRACOLoader();\n        dracoLoader.setDecoderPath(window.dracoPath);\n        dracoLoader.setDecoderConfig({\n            type: \"js\",\n        });\n        this.loader.setDRACOLoader(dracoLoader);\n\n        THREE.Cache.enabled = true;\n\n        this.resizeModels();\n\n        this.width = this.wrapper.offsetWidth;\n        this.height = this.wrapper.offsetHeight;\n\n        this.initCamera();\n        this.initScene();\n        this.initLights();\n        this.initRenderer();\n        this.animate();\n        if (!is.mobile()) {\n            this.mouseMove();\n        }\n        this.initModel();\n\n        // handle resize\n        window.addEventListener(\"resize\", () => this.onWindowResize(), false);\n    }\n\n    resizeModels() {\n        ScrollTrigger.matchMedia({\n            \"(min-width: 1100px)\": () => {\n                if (this.config.modelScale !== 0.9) {\n                    this.config.modelScale = 0.9;\n                }\n            },\n            \"(max-width: 801px)\": () => {\n                if (this.config.modelScale !== 0.7) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n            \"(max-width: 600px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.6;\n                }\n            },\n            \"(max-width: 475px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.6;\n                }\n            },\n        });\n    }\n\n    mouseMove() {\n        window.addEventListener(\"mousemove\", (ev) => {\n            let mouseY = ev.clientY;\n\n            gsap.to(this.yellowLight.position, {\n                y: -1 - (mouseY - window.innerHeight) / 400,\n            });\n\n            gsap.to(this.blueLight.position, {\n                y: -(mouseY - window.innerHeight) / 400,\n            });\n        });\n    }\n\n    /**\n     * camera setup\n     */\n    initCamera() {\n        this.camera = new THREE.PerspectiveCamera(35, this.width / this.height, 0.5, 100);\n        this.camera.position.set(0, -0.1, 3.5);\n        this.camera.lookAt(0, -0.1, 0);\n    }\n\n    /**\n     * scene setup\n     */\n    initScene() {\n        this.scene = new THREE.Scene();\n    }\n\n    /**\n     * lights setup - because of performance > all in one object\n     */\n    initLights() {\n        const lightWrapper = new THREE.Object3D();\n\n        this.yellowLight = new THREE.PointLight(0xfeb301, 5, 4);\n        this.yellowLight.position.set(-1, 1, 2);\n\n        this.blueLight = new THREE.PointLight(0x2400ff, 5, 2);\n        this.blueLight.position.set(1, 0, 1);\n\n        lightWrapper.add(this.blueLight);\n        lightWrapper.add(this.yellowLight);\n\n        this.scene.add(lightWrapper);\n    }\n\n    /**\n     * renderer setup\n     */\n    initRenderer() {\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            powerPreference: \"high-performance\",\n            alpha: true,\n        });\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        this.renderer.setClearColor(0x000000, 0);\n        this.renderer.setPixelRatio(window.devicePixelRatio > 2 ? 2 : window.devicePixelRatio);\n        this.renderer.setSize(this.width, this.height);\n        this.renderer.physicallyCorrectLights = true;\n        this.wrapper.appendChild(this.renderer.domElement);\n    }\n\n    /**\n     * model setup and load call\n     */\n    initModel() {\n        if (this.wrapper.dataset?.model === \"\" || this.wrapper.dataset?.model === null) return;\n\n        this.loader.load(\n            this.wrapper.dataset.model,\n            (gltf) => {\n                gltf.scene.rotation.y = -Math.PI / 2;\n\n                gltf.scene.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale);\n\n                this.model = gltf.scene;\n\n                this.scrollModelAnimation(gltf.scene);\n\n                this.scene.add(gltf.scene);\n            },\n            (xhr) => {\n                // console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\n            },\n            (error) => {\n                // console.log(\"An error happened\");\n            },\n        );\n    }\n\n    scrollModelAnimation(model) {\n        gsap.fromTo(\n            model.rotation,\n            {\n                y: \"+=0.25\",\n                x: \"-=0.1\",\n            },\n            {\n                y: \"-=0.5\",\n                x: \"+=0.2\",\n                scrollTrigger: {\n                    trigger: this.wrapper,\n                    start: \"top bottom\",\n                    end: \"top top\",\n                    scrub: 0.8,\n                },\n            },\n        );\n    }\n\n    /**\n     *\n     */\n    onWindowResize() {\n        this.resizeModels();\n\n        this.model.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale);\n\n        this.camera.aspect = this.wrapper.offsetWidth / this.wrapper.offsetHeight;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize(this.wrapper.offsetWidth, this.wrapper.offsetHeight);\n    }\n\n    /**\n     * requestAnimationFrame\n     */\n    animate() {\n        let raf = null;\n\n        const animate = () => {\n            this.renderer.render(this.scene, this.camera);\n            if (this.renderer != null) {\n                raf = requestAnimationFrame(animate);\n            }\n        };\n\n        ScrollTrigger.create({\n            trigger: this.wrapper,\n            start: \"top bottom\",\n            end: \"bottom top\",\n            onEnter: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeave: () => {\n                cancelAnimationFrame(raf);\n            },\n            onEnterBack: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeaveBack: () => {\n                cancelAnimationFrame(raf);\n            },\n        });\n    }\n}\n","import gsap from \"gsap\";\nimport is from \"is_js\";\n\nexport default class Cursor {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-cursor\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n        this.moved = false;\n    }\n\n    init() {\n        if (!this.wrapper || is.touchDevice()) return;\n\n        const offsetY = this.wrapper.offsetHeight * 0.5;\n        const offsetX = this.wrapper.offsetWidth * 0.05;\n\n        window.addEventListener(\"pointermove\", (ev) => {\n            if (!this.moved) {\n                this.moved = true;\n                this.wrapper.classList.add(\"is-moved\");\n            }\n\n            gsap.set(this.wrapper, {\n                x: ev.clientX - offsetX,\n                y: ev.clientY - offsetY,\n            });\n        });\n\n        window.addEventListener(\"mouseout\", (ev) => {\n            this.moved = false;\n            this.wrapper.classList.remove(\"is-moved\");\n        });\n\n        document.querySelectorAll(\"a\").forEach((link) => {\n            this.singleLink(link);\n        });\n\n        document.querySelectorAll(\".has-hover\").forEach((link) => {\n            this.singleLink(link);\n        });\n    }\n\n    singleLink(link) {\n        link.addEventListener(\"mouseenter\", () => {\n            this.wrapper.classList.add(\"is-active\");\n        });\n\n        link.addEventListener(\"mouseleave\", () => {\n            this.wrapper.classList.remove(\"is-active\");\n        });\n    }\n}\n","import gsap from \"gsap\";\nimport ScrollTrigger from \"gsap/dist/ScrollTrigger\";\nimport { SplitText } from \"gsap/dist/SplitText\";\n\ngsap.registerPlugin(ScrollTrigger, SplitText);\n\nexport default class FlickeringText {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-flickering-text\",\n        };\n\n        this.wrappers = document.querySelectorAll(this.DOM.wrapper);\n    }\n\n    init() {\n        if (this.wrappers.length < 1) return;\n\n        this.wrappers.forEach((wrapper) => this.singleWrapper(wrapper));\n    }\n\n    singleWrapper(wrapper) {\n        const split = new SplitText(wrapper, {\n            type: \"words\",\n            wordsClass: \"u-split-text-word\",\n        });\n\n        this.animateIn(split.words, wrapper);\n\n        const texts = wrapper.querySelectorAll(\"b\");\n\n        if (texts.length < 1) return;\n\n        texts.forEach((text) => {\n            gsap.timeline({\n                delay: 1,\n                scrollTrigger: {\n                    trigger: text,\n                    start: \"top 90%\",\n                },\n            })\n                .to(text, {\n                    classList: \"is-serif\",\n                    duration: 0.05,\n                })\n                .to(text, {\n                    classList: \"\",\n                    duration: 0.05,\n                })\n                .to(text, {\n                    classList: \"is-serif\",\n                    duration: 0.075,\n                })\n                .to(text, {\n                    classList: \"\",\n                    duration: 0.075,\n                })\n                .to(text, {\n                    classList: \"is-serif\",\n                    duration: 0.1,\n                });\n        });\n    }\n\n    animateIn(words, wrapper) {\n        gsap.set(words, {\n            autoAlpha: 0,\n        });\n\n        gsap.fromTo(\n            words,\n            {\n                y: \"20%\",\n                autoAlpha: 0,\n            },\n            {\n                y: \"0%\",\n                autoAlpha: 1,\n                ease: \"power4.out\",\n                stagger: 0.05,\n                duration: 0.5,\n                scrollTrigger: {\n                    trigger: wrapper,\n                    start: \"top 90%\",\n                    end: \"bottom top\",\n                },\n            },\n        );\n    }\n}\n","import gsap from \"gsap\";\nimport * as THREE from \"three\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\nimport is from \"is_js\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class HeaderModel {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-header-model-wrapper\",\n            header: \".js-header\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n        this.header = document.querySelector(this.DOM.header);\n        this.model = null;\n\n        // config\n        this.config = {\n            modelOffset: 6,\n            modelScale: 1,\n        };\n    }\n\n    init() {\n        if (!this.wrapper) return;\n\n        this.loader = new GLTFLoader();\n\n        // loader\n        const dracoLoader = new DRACOLoader();\n        dracoLoader.setDecoderPath(window.dracoPath);\n        dracoLoader.setDecoderConfig({\n            type: \"js\",\n        });\n        this.loader.setDRACOLoader(dracoLoader);\n\n        THREE.Cache.enabled = true;\n\n        this.resizeModels();\n\n        this.width = this.wrapper.offsetWidth;\n        this.height = this.wrapper.offsetHeight;\n\n        this.initCamera();\n        this.initScene();\n        this.initLights();\n        this.initRenderer();\n        this.animate();\n        if (!is.mobile()) {\n            this.mouseMove();\n        }\n        this.initModel();\n\n        // handle resize\n        window.addEventListener(\"resize\", () => this.onWindowResize(), false);\n    }\n\n    resizeModels() {\n        ScrollTrigger.matchMedia({\n            \"(min-width: 1100px)\": () => {\n                if (this.config.modelScale !== 0.9) {\n                    this.config.modelScale = 0.9;\n                }\n            },\n            \"(max-width: 801px)\": () => {\n                if (this.config.modelScale !== 0.7) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n            \"(max-width: 600px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.6;\n                }\n            },\n            \"(max-width: 475px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.6;\n                }\n            },\n        });\n    }\n\n    mouseMove() {\n        window.addEventListener(\"mousemove\", (ev) => {\n            let mouseY = ev.clientY;\n\n            gsap.to(this.yellowLight.position, {\n                y: -1 - (mouseY - window.innerHeight) / 400,\n            });\n\n            gsap.to(this.blueLight.position, {\n                y: -(mouseY - window.innerHeight) / 400,\n            });\n        });\n    }\n\n    /**\n     * camera setup\n     */\n    initCamera() {\n        this.camera = new THREE.PerspectiveCamera(35, this.width / this.height, 0.5, 100);\n        this.camera.position.set(0, 0, 6);\n        this.camera.lookAt(0, 0, 0);\n    }\n\n    /**\n     * scene setup\n     */\n    initScene() {\n        this.scene = new THREE.Scene();\n    }\n\n    /**\n     * lights setup - because of performance > all in one object\n     */\n    initLights() {\n        const lightWrapper = new THREE.Object3D();\n\n        this.yellowLight = new THREE.PointLight(0xfeb301, 5, 4);\n        this.yellowLight.position.set(-1, 1, 2);\n\n        this.blueLight = new THREE.PointLight(0x2400ff, 5, 2);\n        this.blueLight.position.set(1, 0, 1);\n\n        lightWrapper.add(this.blueLight);\n        lightWrapper.add(this.yellowLight);\n\n        this.scene.add(lightWrapper);\n    }\n\n    /**\n     * renderer setup\n     */\n    initRenderer() {\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            powerPreference: \"high-performance\",\n            alpha: true,\n        });\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        this.renderer.setClearColor(0x000000, 0);\n        this.renderer.setPixelRatio(window.devicePixelRatio > 2 ? 2 : window.devicePixelRatio);\n        this.renderer.setSize(this.width, this.height);\n        this.renderer.physicallyCorrectLights = true;\n        this.wrapper.appendChild(this.renderer.domElement);\n    }\n\n    /**\n     * model setup and load call\n     */\n    initModel() {\n        if (this.wrapper.dataset?.model === \"\" || this.wrapper.dataset?.model === null) return;\n\n        this.loader.load(\n            this.wrapper.dataset.model,\n            (gltf) => {\n                gltf.scene.rotation.y = -Math.PI / 2;\n\n                gltf.scene.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale);\n\n                this.model = gltf.scene;\n\n                this.scrollModelAnimation(gltf.scene);\n\n                this.scene.add(gltf.scene);\n            },\n            (xhr) => {\n                // console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\n            },\n            (error) => {\n                // console.log(\"An error happened\");\n            },\n        );\n    }\n\n    scrollModelAnimation(model) {\n        gsap.fromTo(\n            model.rotation,\n            {\n                y: \"+=0.25\",\n                x: \"-=0.1\",\n            },\n            {\n                y: \"-=0.5\",\n                x: \"+=0.2\",\n                scrollTrigger: {\n                    trigger: this.header,\n                    start: \"top top\",\n                    end: \"bottom top\",\n                    scrub: 0.8,\n                },\n            },\n        );\n    }\n\n    /**\n     *\n     */\n    onWindowResize() {\n        this.resizeModels();\n\n        this.model.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale);\n\n        this.camera.aspect = this.wrapper.offsetWidth / this.wrapper.offsetHeight;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize(this.wrapper.offsetWidth, this.wrapper.offsetHeight);\n    }\n\n    /**\n     * requestAnimationFrame\n     */\n    animate() {\n        let raf = null;\n\n        const animate = () => {\n            this.renderer.render(this.scene, this.camera);\n            if (this.renderer != null) {\n                raf = requestAnimationFrame(animate);\n            }\n        };\n\n        ScrollTrigger.create({\n            trigger: this.wrapper,\n            start: \"top bottom\",\n            end: \"bottom top\",\n            onEnter: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeave: () => {\n                cancelAnimationFrame(raf);\n            },\n            onEnterBack: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeaveBack: () => {\n                cancelAnimationFrame(raf);\n            },\n        });\n    }\n}\n","import gsap from \"gsap\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\n\ngsap.registerPlugin(ScrollTrigger);\n/**\n * Marquee Controller\n */\nexport default class Marquee {\n    constructor() {\n        this.DOM = {\n            item: \".js-scroll-marquee\",\n        };\n\n        this.items = document.querySelectorAll(this.DOM.item);\n    }\n\n    init() {\n        console.log(\"MarqueeController init()\");\n        if (this.items.length < 1) {\n            return;\n        }\n\n        this.items.forEach((item, index) => {\n            this.animateLine(item, index % 2 === 0);\n        });\n    }\n\n    /**\n     *\n     * @param line\n     * @param direction\n     */\n    animateLine(line, direction) {\n        let start = -window.innerWidth / 4;\n        let end = 0;\n\n        if (direction) {\n            start = 0;\n            end = -window.innerWidth / 4;\n        }\n\n        gsap.fromTo(\n            line,\n            {\n                x: start,\n            },\n            {\n                x: end,\n                scrollTrigger: {\n                    trigger: line,\n                    start: \"top bottom\",\n                    end: \"bottom top\",\n                    scrub: 0.2,\n                },\n                ease: \"none\",\n            },\n        );\n    }\n}\n","/**\n * Navigation controller\n * \"smart\" navigation which goes off screen when scrolling down for a better overview of content and UX\n * navigation appears when scrolling up\n */\nexport default class NavigationController {\n    constructor() {\n        /**\n         * Navigation DOM selectors\n         * Navigation DOM state CSS classes\n         * @type {{navigation: string, states: {navigationSlideUp: string, navigationScrolled: string, navigationFixed: string}}}\n         */\n        this.DOM = {\n            navigation: \".js-navigation\",\n            states: {\n                navigationScrolled: \"has-scrolled\",\n                navigationFixed: \"is-fixed\",\n                navigationSlideUp: \"slide-up\",\n            },\n        };\n\n        /**\n         * flag, state variable for scrolling event\n         * @type {boolean}\n         */\n        this.scrolling = false;\n        /**\n         * amount of pixels to scroll from top for adding \"has-scrolled\" state class\n         * @type {number}\n         */\n        this.scrollNavigationOffset = 200;\n        /**\n         * variable for storing amount of scroll from top position value\n         * @type {number}\n         */\n        this.previousTop = 0;\n        /**\n         * variable for storing current scroll position value\n         * @type {number}\n         */\n        this.currentTop = 0;\n        this.scrollDelta = 0;\n        this.scrollOffset = 0;\n\n        /**\n         * fetch navigation element DOM element\n         * @type {Element}\n         */\n        this.navigation = document.querySelector(this.DOM.navigation);\n    }\n\n    //region methods\n\n    /**\n     *\n     */\n    init() {\n        if (this.navigation !== null) {\n            console.log(\"Navigation init()\");\n            this.navigationController();\n        } else {\n            console.error(`${this.DOM.navigation} does not exist in the DOM!`);\n        }\n    }\n\n    /**\n     *\n     */\n    navigationController() {\n        document.addEventListener(\"scroll\", () => {\n            if (!this.scrolling) {\n                this.scrolling = true;\n\n                if (!window.requestAnimationFrame) {\n                    setTimeout(this.checkScroll(), 250);\n                } else {\n                    requestAnimationFrame(() => this.checkScroll());\n                }\n            }\n        });\n    }\n\n    /**\n     *\n     */\n    checkScroll() {\n        /**\n         *\n         * @type {number}\n         */\n        let currentTop = window.pageYOffset | document.body.scrollTop;\n\n        this.changeNavigationState(currentTop);\n\n        this.previousTop = currentTop;\n        this.scrolling = false;\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    changeNavigationState(currentTop) {\n        if (currentTop > this.scrollNavigationOffset) {\n            this.navigation.classList.add(this.DOM.states.navigationScrolled);\n        } else {\n            this.navigation.classList.remove(this.DOM.states.navigationScrolled);\n        }\n\n        if (this.previousTop >= currentTop) {\n            this.scrollingUp(currentTop);\n        } else {\n            this.scrollingDown(currentTop);\n        }\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    scrollingUp(currentTop) {\n        if (currentTop < this.scrollNavigationOffset) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        } else if (this.previousTop - currentTop > this.scrollDelta) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        }\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    scrollingDown(currentTop) {\n        if (currentTop > this.scrollNavigationOffset + this.scrollOffset) {\n            this.navigation.classList.add(this.DOM.states.navigationSlideUp);\n        } else if (currentTop > this.scrollNavigationOffset) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        }\n    }\n\n    //endregion\n}\n","/**\n * Grid helper\n * Show grid overlay when developing\n * Not included in production bundle JS file\n */\nexport default class GridHelper {\n    constructor() {\n        /**\n         * Grid DOM selector\n         * @type {{grid: string}}\n         */\n        this.DOM = {\n            grid: \"grid\",\n        };\n\n        /**\n         * Grid options\n         * @type {{\n         * gutterFixed: boolean,\n         * initialDisplay: string,\n         * gridFixed: boolean,\n         * gutterWidth: number,\n         * gridColor: string,\n         * columnCount: number,\n         * gridWidth: number,\n         * columnBgColor: string\n         * }}\n         */\n        this.gridOptions = {\n            initialDisplay: \"none\", // \"flex\" or \"none\" — initial display for the grid — string\n            columnCount: 24, // number of grid columns — integer\n            gridWidth: 1440, // base grid used in design; value in px — integer\n            gridFixed: false, // should grid width be restricted to gridWidth or it should go full width a nd behave fluidly across all screen sizes\n            gutterWidth: 0, // grid gutters value in px — integer\n            gutterFixed: false, // should grid gutter be a fixed value (px) or fluid — integer\n            gridColor: \"rgb(255, 0, 255, 0.15)\", // grid guides color — string of an rgba or hex value\n            columnBgColor: \"rgb(255, 0, 255, 0.025)\", // grid columns background color — string of an rgba or hex value\n        };\n\n        const consoleLogStyle = [\n            \"background-color: #a6a6a6\",\n            \"color: black\",\n            \"display: block\",\n            \"line-height: 24px\",\n            \"text-align: center\",\n            \"border: 1px solid #ffffff\",\n            \"font-weight: bold\",\n        ].join(\";\");\n\n        console.info(\"toggle grid: %c Alt/Option + G \", consoleLogStyle);\n\n        this.grid = null;\n\n        this.columnWidth =\n            (this.gridOptions.gridWidth - (this.gridOptions.columnCount - 1) * this.gridOptions.gutterWidth) / this.gridOptions.columnCount;\n\n        this.columnWidthPercentage = `${(this.columnWidth / this.gridOptions.gridWidth) * 100}%`;\n\n        this.gutterWidthPercentage = `${(this.gridOptions.gutterWidth / this.gridOptions.gridWidth) * 100}%`;\n    }\n\n    init() {\n        console.log(\"GridHelper init()\");\n        this.initGrid();\n        this.keyboardShortcut();\n    }\n\n    initGrid() {\n        // create grid overlay element\n        this.grid = document.createElement(\"div\");\n        this.grid.id = this.DOM.grid;\n\n        // style grid element\n        this.grid.style.cssText = `\n            pointer-events: none;\n            display: ${this.gridOptions.initialDisplay};\n            flex-direction: row;\n            width: 100%;\n            height: 100%;\n            position: fixed;\n            top: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            z-index: 999;\n        `;\n\n        if (this.gridOptions.gridFixed === true) {\n            this.grid.style.maxWidth = `${this.gridOptions.gridWidth}px`;\n        }\n\n        if (!this.gridOptions.gutterWidth > 0) {\n            this.grid.style.borderLeft = \"none\";\n        }\n\n        // add grid container to page\n        document.body.appendChild(this.grid);\n\n        // add columns to grid\n        for (var i = 0; i < this.gridOptions.columnCount; i++) {\n            var column = document.createElement(\"i\");\n            this.grid.appendChild(column);\n\n            column.style.cssText = `\n                height: auto;\n                flex-grow: 1;\n                background-color: ${this.gridOptions.columnBgColor};\n                border-left: 1px solid ${this.gridOptions.gridColor};\n            `;\n\n            if (this.gridOptions.gutterWidth > 0) {\n                column.style.borderRight = `1px solid ${this.gridOptions.gridColor}`;\n            } else {\n                this.grid.style.borderRight = `1px solid ${this.gridOptions.gridColor}`;\n            }\n\n            if (this.gridOptions.gutterFixed === true) {\n                column.style.marginRight = `${this.gridOptions.gutterWidth}px`;\n            } else {\n                column.style.marginRight = this.gutterWidthPercentage;\n                column.style.width = this.columnWidthPercentage;\n            }\n        }\n\n        this.grid.lastChild.style.marginRight = 0;\n    }\n\n    keyboardShortcut() {\n        document.addEventListener(\"keyup\", (ev) => {\n            if (ev.keyCode === 71 && ev.altKey) {\n                if (this.grid.style.display === \"none\") {\n                    this.grid.style.display = \"flex\";\n                } else {\n                    this.grid.style.display = \"none\";\n                }\n            }\n        });\n    }\n}\n","/**\n * MAIN JS FILE\n */\n\n/**\n * Helpers\n * Imports of helper functions are stripped out of bundle\n * Include them within \"start-strip-code\" and \"end-strip-code\" comments\n */\n/* start-strip-code */\nimport GridHelper from \"./helpers/GridHelper\";\n/* end-strip-code */\n/**\n * Components\n */\nimport NavigationController from \"./components/NavigationController\";\nimport Cursor from \"./components/Cursor\";\nimport ThreeDSlider from \"./components/3dSlider\";\nimport HeaderModel from \"./components/HeaderModel\";\nimport ContactModel from \"./components/ContactModel\";\nimport Marquee from \"./components/Marquee\";\nimport FlickeringText from \"./components/FlickeringText\";\n\n/**\n * Check if document is ready cross-browser\n * @param callback\n */\nconst ready = (callback) => {\n    if (document.readyState !== \"loading\") {\n        /**\n         * Document is already ready, call the callback directly\n         */\n        callback();\n    } else if (document.addEventListener) {\n        /**\n         * All modern browsers to register DOMContentLoaded\n         */\n        document.addEventListener(\"DOMContentLoaded\", callback);\n    } else {\n        /**\n         * Old IE browsers\n         */\n        document.attachEvent(\"onreadystatechange\", function () {\n            if (document.readyState === \"complete\") {\n                callback();\n            }\n        });\n    }\n};\n\n/**\n * Document ready callback\n */\nready(() => {\n    /**\n     * HELPERS INIT\n     * Only init helpers if they exist\n     * Will be undefined on production because of import stripping\n     */\n    if (typeof GridHelper == \"function\") {\n        const grid = new GridHelper();\n        grid.init();\n    }\n\n    const doc = document.documentElement;\n    doc.style.setProperty(\"--win-height\", `${window.innerHeight}px`);\n\n    /**\n     * COMPONENTS INIT\n     */\n\n    /**\n     * Navigation\n     * @type {NavigationController}\n     */\n    const navigation = new NavigationController();\n    navigation.init();\n\n    /**\n     * ThreeDSlider\n     * @type {ThreeDSlider}\n     */\n    const threeDSlider = new ThreeDSlider();\n    threeDSlider.init();\n\n    /**\n     * HeaderModel\n     * @type {HeaderModel}\n     */\n    const headerModel = new HeaderModel();\n    headerModel.init();\n\n    /**\n     * ContactModel\n     * @type {ContactModel}\n     */\n    const contactModel = new ContactModel();\n    contactModel.init();\n\n    const marquee = new Marquee();\n    marquee.init();\n\n    const flickeringText = new FlickeringText();\n    flickeringText.init();\n\n    setTimeout(() => {\n        /**\n         * Cursor\n         * @type {Cursor}\n         */\n        const cursor = new Cursor();\n        cursor.init();\n    }, 500);\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZ3NhcC9kaXN0L1Njcm9sbFRyaWdnZXIuanMiLCJzdGF0aWMvanMvY29tcG9uZW50cy8zZFNsaWRlci5qcyIsInN0YXRpYy9qcy9jb21wb25lbnRzLzNkU2xpZGVyTW9kZWxzLmpzIiwic3RhdGljL2pzL2NvbXBvbmVudHMvQ29udGFjdE1vZGVsLmpzIiwic3RhdGljL2pzL2NvbXBvbmVudHMvQ3Vyc29yLmpzIiwic3RhdGljL2pzL2NvbXBvbmVudHMvRmxpY2tlcmluZ1RleHQuanMiLCJzdGF0aWMvanMvY29tcG9uZW50cy9IZWFkZXJNb2RlbC5qcyIsInN0YXRpYy9qcy9jb21wb25lbnRzL01hcnF1ZWUuanMiLCJzdGF0aWMvanMvY29tcG9uZW50cy9OYXZpZ2F0aW9uQ29udHJvbGxlci5qcyIsInN0YXRpYy9qcy9oZWxwZXJzL0dyaWRIZWxwZXIuanMiLCJzdGF0aWMvanMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUNuMUZBO0FBQ0E7QUFDQTtBQUNBO0FBQWtEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVsRCxhQUFJLENBQUMsY0FBYyxDQUFDLG9CQUFTLENBQUM7QUFBQyxJQUVWLFlBQVk7RUFDN0Isd0JBQWM7SUFBQTtJQUNWLElBQUksQ0FBQyxHQUFHLEdBQUc7TUFDUCxPQUFPLEVBQUUsdUJBQXVCO01BQ2hDLE1BQU0sRUFBRSxlQUFlO01BQ3ZCLElBQUksRUFBRSxvQkFBb0I7TUFDMUIsSUFBSSxFQUFFLG9CQUFvQjtNQUMxQixVQUFVLEVBQUUsMEJBQTBCO01BQ3RDLFlBQVksRUFBRSx5QkFBeUI7TUFDdkMsY0FBYyxFQUFFO0lBQ3BCLENBQUM7SUFFRCxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7RUFDM0Q7RUFBQztJQUFBO0lBQUEsT0FFRCxnQkFBTztNQUFBO01BQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7TUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLHNCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7TUFFbEQsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7TUFDMUQsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7TUFDdEQsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7TUFDdEQsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUM7TUFFbEUsSUFBTSxNQUFNLEdBQUcsSUFBSSxlQUFNLENBQUMsTUFBTSxFQUFFO1FBQzlCLE9BQU8sRUFBRSxDQUFDLGtCQUFVLEVBQUUsa0JBQVUsQ0FBQztRQUNqQyxJQUFJLEVBQUUsS0FBSztRQUNYLFVBQVUsRUFBRTtVQUNSLEVBQUUsRUFBRSxVQUFVO1VBQ2QsU0FBUyxFQUFFLEtBQUs7VUFDaEIsWUFBWSxFQUFFLHNCQUFDLEtBQUssRUFBRSxTQUFTLEVBQUs7WUFDaEMseURBQ21CLFNBQVM7VUFZaEM7UUFDSixDQUFDO1FBQ0QsVUFBVSxFQUFFO1VBQ1IsTUFBTSxFQUFFLElBQUk7VUFDWixNQUFNLEVBQUU7UUFDWixDQUFDO1FBQ0QsRUFBRSxFQUFFO1VBQ0EsV0FBVyxFQUFFLHFCQUFDLE1BQU0sRUFBSztZQUNyQixLQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQztZQUUxQixLQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxhQUFhLENBQUM7VUFDckUsQ0FBQztVQUNELFNBQVMsRUFBRSxtQkFBQyxNQUFNLEVBQUs7WUFDbkIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFFbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFLLEVBQUUsS0FBSztjQUFBLE9BQUssS0FBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQztZQUFBLEVBQUM7WUFFNUUsS0FBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO1VBQ3BEO1FBQ0o7TUFDSixDQUFDLENBQUM7TUFFRixNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQUssRUFBSztRQUM3QixJQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDO1FBQy9ELElBQU0sY0FBYyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7UUFFbkUsSUFBTSxZQUFZLEdBQUcsSUFBSSxvQkFBUyxDQUFDLFlBQVksRUFBRTtVQUM3QyxJQUFJLEVBQUUsT0FBTztVQUNiLFVBQVUsRUFBRTtRQUNoQixDQUFDLENBQUM7UUFFRixJQUFNLGNBQWMsR0FBRyxJQUFJLG9CQUFTLENBQUMsY0FBYyxFQUFFO1VBQ2pELElBQUksRUFBRSxPQUFPO1VBQ2IsVUFBVSxFQUFFO1FBQ2hCLENBQUMsQ0FBQztRQUVGLGFBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRTtVQUN6QixVQUFVLEVBQUU7UUFDaEIsQ0FBQyxDQUFDO01BQ04sQ0FBQyxDQUFDO0lBQ047RUFBQztJQUFBO0lBQUEsT0FFRCx1QkFBYyxNQUFNLEVBQUU7TUFDbEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztNQUV0RCxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFFO1FBQ3JDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7TUFDN0Q7SUFDSjtFQUFDO0lBQUE7SUFBQSxPQUVELHdCQUFlLEtBQUssRUFBRTtNQUNsQixJQUFNLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQztNQUN6RyxJQUFNLG1CQUFtQixHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQztNQUU3RyxhQUFJLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFO1FBQ3ZCLFVBQVUsRUFBRSxTQUFTO1FBQ3JCLEtBQUssRUFBRSxHQUFHO1FBQ1YsUUFBUSxFQUFFLEdBQUc7UUFDYixPQUFPLEVBQUU7VUFDTCxJQUFJLEVBQUUsSUFBSTtVQUNWLElBQUksRUFBRTtRQUNWO01BQ0osQ0FBQyxDQUFDO01BRUYsYUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRTtRQUN6QixVQUFVLEVBQUUsUUFBUTtRQUNwQixLQUFLLEVBQUUsR0FBRztRQUNWLFFBQVEsRUFBRSxHQUFHO1FBQ2IsT0FBTyxFQUFFO1VBQ0wsSUFBSSxFQUFFLElBQUk7VUFDVixJQUFJLEVBQUU7UUFDVjtNQUNKLENBQUMsQ0FBQztJQUNOO0VBQUM7SUFBQTtJQUFBLE9BRUQseUJBQWdCLEtBQUssRUFBRTtNQUNuQixJQUFNLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQztNQUN6RyxJQUFNLG1CQUFtQixHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQztNQUU3RyxhQUFJLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFO1FBQ3ZCLFVBQVUsRUFBRTtNQUNoQixDQUFDLENBQUM7TUFFRixhQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFO1FBQ3pCLFVBQVUsRUFBRTtNQUNoQixDQUFDLENBQUM7SUFDTjtFQUFDO0lBQUE7SUFBQSxPQUVELDJCQUFrQixVQUFVLEVBQUUsTUFBTSxFQUFFO01BQUE7TUFDbEMsSUFBSSxDQUFDLFVBQVUsRUFBRTtNQUVqQixhQUFJLENBQUMsTUFBTSxDQUNQLFVBQVUsRUFDVjtRQUNJLENBQUMsRUFBRSxNQUFNO1FBQ1QsU0FBUyxFQUFFO01BQ2YsQ0FBQyxFQUNEO1FBQ0ksQ0FBQyxFQUFFLElBQUk7UUFDUCxTQUFTLEVBQUUsQ0FBQztRQUNaLElBQUksRUFBRSxZQUFZO1FBQ2xCLFFBQVEsRUFBRSxHQUFHO1FBQ2IsYUFBYSxFQUFFO1VBQ1gsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1VBQ3JCLEtBQUssRUFBRSxTQUFTO1VBQ2hCLEdBQUcsRUFBRTtRQUNULENBQUM7UUFDRCxPQUFPLEVBQUU7VUFBQSxPQUFNLE1BQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDO1FBQUE7TUFDN0MsQ0FBQyxDQUNKO0lBQ0w7RUFBQztFQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQ2pLTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBdUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRXZCLGFBQUksQ0FBQyxjQUFjLENBQUMsc0JBQWEsQ0FBQztBQUFDLElBRWQsa0JBQWtCO0VBQ25DLDRCQUFZLE9BQU8sRUFBRTtJQUFBO0lBQ2pCLElBQUksQ0FBQyxHQUFHLEdBQUc7TUFDUCxNQUFNLEVBQUUsc0JBQXNCO01BQzlCLEtBQUssRUFBRTtJQUNYLENBQUM7SUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7O0lBRXBEO0lBQ0EsSUFBSSxDQUFDLE1BQU0sR0FBRztNQUNWLFdBQVcsRUFBRSxDQUFDO01BQ2QsVUFBVSxFQUFFO0lBQ2hCLENBQUM7RUFDTDtFQUFDO0lBQUE7SUFBQSxPQUVELGdCQUFPO01BQUE7TUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtNQUVsQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUU7TUFFckIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUU7TUFFekMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLHNCQUFVLEVBQUU7O01BRTlCO01BQ0EsSUFBTSxXQUFXLEdBQUcsSUFBSSx3QkFBVyxFQUFFO01BQ3JDLFdBQVcsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztNQUM1QyxXQUFXLENBQUMsZ0JBQWdCLENBQUM7UUFDekIsSUFBSSxFQUFFO01BQ1YsQ0FBQyxDQUFDO01BQ0YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDO01BRXZDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUk7TUFFMUIsSUFBSSxDQUFDLFlBQVksRUFBRTtNQUVuQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVztNQUNwQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWTtNQUV0QyxJQUFJLENBQUMsVUFBVSxFQUFFO01BQ2pCLElBQUksQ0FBQyxTQUFTLEVBQUU7TUFDaEIsSUFBSSxDQUFDLFVBQVUsRUFBRTtNQUNqQixJQUFJLENBQUMsWUFBWSxFQUFFO01BQ25CLElBQUksQ0FBQyxPQUFPLEVBQUU7TUFDZCxJQUFJLENBQUMsaUJBQWlCLEVBQUU7TUFFeEIsSUFBSSxDQUFDLGNBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUNkLElBQUksQ0FBQyxTQUFTLEVBQUU7TUFDcEI7TUFFQSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDOztNQUVsQztNQUNBLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUU7UUFBQSxPQUFNLEtBQUksQ0FBQyxjQUFjLEVBQUU7TUFBQSxHQUFFLEtBQUssQ0FBQztJQUN6RTtFQUFDO0lBQUE7SUFBQSxPQUVELDZCQUFvQjtNQUNoQixhQUFJLENBQUMsUUFBUSxDQUFDO1FBQ1YsYUFBYSxFQUFFO1VBQ1gsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNO1VBQ3BCLEtBQUssRUFBRSxTQUFTO1VBQ2hCLEdBQUcsRUFBRTtRQUNUO01BQ0osQ0FBQyxDQUFDLENBQ0csR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUNaLE1BQU0sQ0FDSCxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsRUFDM0I7UUFDSSxDQUFDLEVBQUUsQ0FBQztNQUNSLENBQUMsRUFDRDtRQUNJLENBQUMsRUFBRSxDQUFDO1FBQ0osSUFBSSxFQUFFLFlBQVk7UUFDbEIsUUFBUSxFQUFFO01BQ2QsQ0FBQyxFQUNELE9BQU8sQ0FDVixDQUNBLE1BQU0sQ0FDSCxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsRUFDM0I7UUFDSSxDQUFDLEVBQUUsQ0FBQztNQUNSLENBQUMsRUFDRDtRQUNJLENBQUMsRUFBRSxDQUFDO1FBQ0osSUFBSSxFQUFFLFlBQVk7UUFDbEIsUUFBUSxFQUFFO01BQ2QsQ0FBQyxFQUNELE9BQU8sQ0FDVjtJQUNUO0VBQUM7SUFBQTtJQUFBLE9BRUQsd0JBQWU7TUFBQTtNQUNYLHNCQUFhLENBQUMsVUFBVSxDQUFDO1FBQ3JCLHFCQUFxQixFQUFFLDBCQUFNO1VBQ3pCLElBQUksTUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEtBQUssR0FBRyxFQUFFO1lBQ2hDLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLEdBQUc7VUFDaEM7UUFDSixDQUFDO1FBQ0Qsb0JBQW9CLEVBQUUseUJBQU07VUFDeEIsSUFBSSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsS0FBSyxHQUFHLEVBQUU7WUFDaEMsTUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRztVQUNoQztRQUNKLENBQUM7UUFDRCxvQkFBb0IsRUFBRSx5QkFBTTtVQUN4QixJQUFJLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEdBQUcsRUFBRTtZQUNoQyxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxHQUFHO1VBQ2hDO1FBQ0osQ0FBQztRQUNELG9CQUFvQixFQUFFLHlCQUFNO1VBQ3hCLElBQUksTUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEtBQUssR0FBRyxFQUFFO1lBQ2hDLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLEdBQUc7VUFDaEM7UUFDSjtNQUNKLENBQUMsQ0FBQztJQUNOO0VBQUM7SUFBQTtJQUFBLE9BRUQscUJBQVk7TUFBQTtNQUNSLElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQztNQUNsQyxJQUFNLHdCQUF3QixHQUFHLElBQUksR0FBRyxVQUFVO01BRWxELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsVUFBQyxFQUFFLEVBQUs7UUFDekMsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLE9BQU87UUFFdkIsYUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRTtVQUMvQixDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsSUFBSTtRQUM1QyxDQUFDLENBQUM7UUFFRixhQUFJLENBQUMsRUFBRSxDQUFDLE1BQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFO1VBQzdCLENBQUMsRUFBRSxFQUFFLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUc7UUFDeEMsQ0FBQyxDQUFDO1FBRUYsYUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsRUFBRTtVQUNqQyxDQUFDLEVBQUUsQ0FBQyx3QkFBd0IsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQztVQUN4RCxLQUFLLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDTixDQUFDLENBQUM7SUFDTjs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSxzQkFBYTtNQUNULElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO01BQ2pGLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztNQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQjs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSxxQkFBWTtNQUNSLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO0lBQ2xDOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLHNCQUFhO01BQ1QsSUFBTSxZQUFZLEdBQUcsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO01BRXpDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BQ3ZELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BRXZDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztNQUVwQyxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7TUFDaEMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO01BRWxDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQztJQUNoQzs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSx3QkFBZTtNQUNYLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDO1FBQ3BDLFNBQVMsRUFBRSxJQUFJO1FBQ2YsZUFBZSxFQUFFLGtCQUFrQjtRQUNuQyxLQUFLLEVBQUU7TUFDWCxDQUFDLENBQUM7TUFDRixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSTtNQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLGdCQUFnQjtNQUNyRCxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO01BQ3hDLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztNQUN0RixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUM7TUFDOUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsR0FBRyxJQUFJO01BQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDO0lBQ3JEOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLG1CQUFVLEtBQUssRUFBRSxLQUFLLEVBQUU7TUFBQTtNQUNwQixJQUFJLENBQUMsS0FBSyxFQUFFO01BRVosSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQ1osS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQ25CLFVBQUMsSUFBSSxFQUFLO1FBQ04sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBRXBDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsTUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXO1FBRXZELElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUU1RixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLO1FBRXZCLE1BQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFakMsTUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztNQUN0QyxDQUFDLEVBQ0QsVUFBQyxHQUFHLEVBQUs7UUFDTDtNQUNKLENBQUMsRUFDRCxVQUFDLEtBQUssRUFBSztRQUNQO01BQ0osQ0FBQyxDQUNKO0lBQ0w7O0lBRUE7QUFDSjtBQUNBO0VBRkk7SUFBQTtJQUFBLE9BR0EsMEJBQWlCO01BQUE7TUFDYixJQUFJLENBQUMsWUFBWSxFQUFFO01BRW5CLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEtBQUs7UUFBQSxPQUFLLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO01BQUEsRUFBQztNQUV2SSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVk7TUFDdkUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRTtNQUVwQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztJQUM1RTs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSxtQkFBVTtNQUFBO01BQ04sSUFBSSxHQUFHLEdBQUcsSUFBSTtNQUVkLElBQU0sT0FBTyxHQUFHLFNBQVYsT0FBTyxHQUFTO1FBQ2xCLE1BQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQUksQ0FBQyxLQUFLLEVBQUUsTUFBSSxDQUFDLE1BQU0sQ0FBQztRQUM3QyxJQUFJLE1BQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFFO1VBQ3ZCLEdBQUcsR0FBRyxxQkFBcUIsQ0FBQyxPQUFPLENBQUM7UUFDeEM7TUFDSixDQUFDO01BRUQsc0JBQWEsQ0FBQyxNQUFNLENBQUM7UUFDakIsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNO1FBQ3BCLEtBQUssRUFBRSxZQUFZO1FBQ25CLEdBQUcsRUFBRSxZQUFZO1FBQ2pCLE9BQU8sRUFBRSxtQkFBTTtVQUNYLEdBQUcsR0FBRyxxQkFBcUIsQ0FBQyxPQUFPLENBQUM7UUFDeEMsQ0FBQztRQUNELE9BQU8sRUFBRSxtQkFBTTtVQUNYLG9CQUFvQixDQUFDLEdBQUcsQ0FBQztRQUM3QixDQUFDO1FBQ0QsV0FBVyxFQUFFLHVCQUFNO1VBQ2YsR0FBRyxHQUFHLHFCQUFxQixDQUFDLE9BQU8sQ0FBQztRQUN4QyxDQUFDO1FBQ0QsV0FBVyxFQUFFLHVCQUFNO1VBQ2Ysb0JBQW9CLENBQUMsR0FBRyxDQUFDO1FBQzdCO01BQ0osQ0FBQyxDQUFDO0lBQ047RUFBQztJQUFBO0lBQUEsT0FFRCxxQkFBWSxLQUFLLEVBQUUsU0FBUyxFQUFFO01BQzFCLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFVBQUMsS0FBSztRQUFBLE9BQUssS0FBSyxDQUFDLElBQUksS0FBSyxLQUFLO01BQUEsRUFBQztNQUNwRSxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxVQUFDLEtBQUs7UUFBQSxPQUFLLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUztNQUFBLEVBQUM7TUFFNUUsSUFBTSxTQUFTLEdBQUcsU0FBUyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO01BRTVDLGFBQUksQ0FBQyxRQUFRLEVBQUUsQ0FDVixHQUFHLENBQUMsT0FBTyxDQUFDLENBQ1osRUFBRSxDQUNDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxFQUMzQjtRQUNJLENBQUMsRUFBRSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVc7UUFDbkMsUUFBUSxFQUFFLENBQUM7UUFDWCxJQUFJLEVBQUU7TUFDVixDQUFDLEVBQ0QsT0FBTyxDQUNWLENBQ0EsTUFBTSxDQUNILEtBQUssQ0FBQyxRQUFRLEVBQ2Q7UUFDSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUc7TUFDNUIsQ0FBQyxFQUNEO1FBQ0ksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBQ2YsUUFBUSxFQUFFLENBQUM7UUFDWCxJQUFJLEVBQUU7TUFDVixDQUFDLEVBQ0QsT0FBTyxDQUNWLENBQ0EsTUFBTSxDQUNILFNBQVMsQ0FBQyxRQUFRLEVBQ2xCO1FBQ0ksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRztNQUNsQixDQUFDLEVBQ0Q7UUFDSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxTQUFTO1FBQ2xDLFFBQVEsRUFBRSxDQUFDO1FBQ1gsSUFBSSxFQUFFO01BQ1YsQ0FBQyxFQUNELE9BQU8sQ0FDVjtJQUNUO0VBQUM7RUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUM3VEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQXVCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUV2QixhQUFJLENBQUMsY0FBYyxDQUFDLHNCQUFhLENBQUM7QUFBQyxJQUVkLFdBQVc7RUFDNUIsdUJBQWM7SUFBQTtJQUNWLElBQUksQ0FBQyxHQUFHLEdBQUc7TUFDUCxPQUFPLEVBQUU7SUFDYixDQUFDO0lBRUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDO0lBQ3ZELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSTs7SUFFakI7SUFDQSxJQUFJLENBQUMsTUFBTSxHQUFHO01BQ1YsV0FBVyxFQUFFLENBQUM7TUFDZCxVQUFVLEVBQUU7SUFDaEIsQ0FBQztFQUNMO0VBQUM7SUFBQTtJQUFBLE9BRUQsZ0JBQU87TUFBQTtNQUNILElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO01BRW5CLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxzQkFBVSxFQUFFOztNQUU5QjtNQUNBLElBQU0sV0FBVyxHQUFHLElBQUksd0JBQVcsRUFBRTtNQUNyQyxXQUFXLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7TUFDNUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDO1FBQ3pCLElBQUksRUFBRTtNQUNWLENBQUMsQ0FBQztNQUNGLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQztNQUV2QyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJO01BRTFCLElBQUksQ0FBQyxZQUFZLEVBQUU7TUFFbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7TUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVk7TUFFdkMsSUFBSSxDQUFDLFVBQVUsRUFBRTtNQUNqQixJQUFJLENBQUMsU0FBUyxFQUFFO01BQ2hCLElBQUksQ0FBQyxVQUFVLEVBQUU7TUFDakIsSUFBSSxDQUFDLFlBQVksRUFBRTtNQUNuQixJQUFJLENBQUMsT0FBTyxFQUFFO01BQ2QsSUFBSSxDQUFDLGNBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUNkLElBQUksQ0FBQyxTQUFTLEVBQUU7TUFDcEI7TUFDQSxJQUFJLENBQUMsU0FBUyxFQUFFOztNQUVoQjtNQUNBLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUU7UUFBQSxPQUFNLEtBQUksQ0FBQyxjQUFjLEVBQUU7TUFBQSxHQUFFLEtBQUssQ0FBQztJQUN6RTtFQUFDO0lBQUE7SUFBQSxPQUVELHdCQUFlO01BQUE7TUFDWCxzQkFBYSxDQUFDLFVBQVUsQ0FBQztRQUNyQixxQkFBcUIsRUFBRSwwQkFBTTtVQUN6QixJQUFJLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEdBQUcsRUFBRTtZQUNoQyxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxHQUFHO1VBQ2hDO1FBQ0osQ0FBQztRQUNELG9CQUFvQixFQUFFLHlCQUFNO1VBQ3hCLElBQUksTUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEtBQUssR0FBRyxFQUFFO1lBQ2hDLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLEdBQUc7VUFDaEM7UUFDSixDQUFDO1FBQ0Qsb0JBQW9CLEVBQUUseUJBQU07VUFDeEIsSUFBSSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsS0FBSyxHQUFHLEVBQUU7WUFDaEMsTUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRztVQUNoQztRQUNKLENBQUM7UUFDRCxvQkFBb0IsRUFBRSx5QkFBTTtVQUN4QixJQUFJLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEdBQUcsRUFBRTtZQUNoQyxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxHQUFHO1VBQ2hDO1FBQ0o7TUFDSixDQUFDLENBQUM7SUFDTjtFQUFDO0lBQUE7SUFBQSxPQUVELHFCQUFZO01BQUE7TUFDUixNQUFNLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLFVBQUMsRUFBRSxFQUFLO1FBQ3pDLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQyxPQUFPO1FBRXZCLGFBQUksQ0FBQyxFQUFFLENBQUMsTUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUU7VUFDL0IsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUFXLElBQUk7UUFDNUMsQ0FBQyxDQUFDO1FBRUYsYUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRTtVQUM3QixDQUFDLEVBQUUsRUFBRSxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHO1FBQ3hDLENBQUMsQ0FBQztNQUNOLENBQUMsQ0FBQztJQUNOOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLHNCQUFhO01BQ1QsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7TUFDakYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7TUFDdEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNsQzs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSxxQkFBWTtNQUNSLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO0lBQ2xDOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLHNCQUFhO01BQ1QsSUFBTSxZQUFZLEdBQUcsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO01BRXpDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BQ3ZELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BRXZDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztNQUVwQyxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7TUFDaEMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO01BRWxDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQztJQUNoQzs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSx3QkFBZTtNQUNYLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDO1FBQ3BDLFNBQVMsRUFBRSxJQUFJO1FBQ2YsZUFBZSxFQUFFLGtCQUFrQjtRQUNuQyxLQUFLLEVBQUU7TUFDWCxDQUFDLENBQUM7TUFDRixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSTtNQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLGdCQUFnQjtNQUNyRCxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO01BQ3hDLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztNQUN0RixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUM7TUFDOUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsR0FBRyxJQUFJO01BQzVDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDO0lBQ3REOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLHFCQUFZO01BQUE7UUFBQTtRQUFBO01BQ1IsSUFBSSw4QkFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLDBEQUFwQixzQkFBc0IsS0FBSyxNQUFLLEVBQUUsSUFBSSwrQkFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLDJEQUFwQix1QkFBc0IsS0FBSyxNQUFLLElBQUksRUFBRTtNQUVoRixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FDWixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQzFCLFVBQUMsSUFBSSxFQUFLO1FBQ04sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBRXBDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUU1RixNQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLO1FBRXZCLE1BQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBRXJDLE1BQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7TUFDOUIsQ0FBQyxFQUNELFVBQUMsR0FBRyxFQUFLO1FBQ0w7TUFDSixDQUFDLEVBQ0QsVUFBQyxLQUFLLEVBQUs7UUFDUDtNQUNKLENBQUMsQ0FDSjtJQUNMO0VBQUM7SUFBQTtJQUFBLE9BRUQsOEJBQXFCLEtBQUssRUFBRTtNQUN4QixhQUFJLENBQUMsTUFBTSxDQUNQLEtBQUssQ0FBQyxRQUFRLEVBQ2Q7UUFDSSxDQUFDLEVBQUUsUUFBUTtRQUNYLENBQUMsRUFBRTtNQUNQLENBQUMsRUFDRDtRQUNJLENBQUMsRUFBRSxPQUFPO1FBQ1YsQ0FBQyxFQUFFLE9BQU87UUFDVixhQUFhLEVBQUU7VUFDWCxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87VUFDckIsS0FBSyxFQUFFLFlBQVk7VUFDbkIsR0FBRyxFQUFFLFNBQVM7VUFDZCxLQUFLLEVBQUU7UUFDWDtNQUNKLENBQUMsQ0FDSjtJQUNMOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLDBCQUFpQjtNQUNiLElBQUksQ0FBQyxZQUFZLEVBQUU7TUFFbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO01BRTVGLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWTtNQUN6RSxJQUFJLENBQUMsTUFBTSxDQUFDLHNCQUFzQixFQUFFO01BRXBDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDO0lBQzlFOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLG1CQUFVO01BQUE7TUFDTixJQUFJLEdBQUcsR0FBRyxJQUFJO01BRWQsSUFBTSxPQUFPLEdBQUcsU0FBVixPQUFPLEdBQVM7UUFDbEIsTUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBSSxDQUFDLEtBQUssRUFBRSxNQUFJLENBQUMsTUFBTSxDQUFDO1FBQzdDLElBQUksTUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUU7VUFDdkIsR0FBRyxHQUFHLHFCQUFxQixDQUFDLE9BQU8sQ0FBQztRQUN4QztNQUNKLENBQUM7TUFFRCxzQkFBYSxDQUFDLE1BQU0sQ0FBQztRQUNqQixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87UUFDckIsS0FBSyxFQUFFLFlBQVk7UUFDbkIsR0FBRyxFQUFFLFlBQVk7UUFDakIsT0FBTyxFQUFFLG1CQUFNO1VBQ1gsR0FBRyxHQUFHLHFCQUFxQixDQUFDLE9BQU8sQ0FBQztRQUN4QyxDQUFDO1FBQ0QsT0FBTyxFQUFFLG1CQUFNO1VBQ1gsb0JBQW9CLENBQUMsR0FBRyxDQUFDO1FBQzdCLENBQUM7UUFDRCxXQUFXLEVBQUUsdUJBQU07VUFDZixHQUFHLEdBQUcscUJBQXFCLENBQUMsT0FBTyxDQUFDO1FBQ3hDLENBQUM7UUFDRCxXQUFXLEVBQUUsdUJBQU07VUFDZixvQkFBb0IsQ0FBQyxHQUFHLENBQUM7UUFDN0I7TUFDSixDQUFDLENBQUM7SUFDTjtFQUFDO0VBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7QUNsUEw7QUFDQTtBQUF1QjtBQUFBO0FBQUE7QUFBQTtBQUFBLElBRUYsTUFBTTtFQUN2QixrQkFBYztJQUFBO0lBQ1YsSUFBSSxDQUFDLEdBQUcsR0FBRztNQUNQLE9BQU8sRUFBRTtJQUNiLENBQUM7SUFFRCxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7SUFDdkQsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLO0VBQ3RCO0VBQUM7SUFBQTtJQUFBLE9BRUQsZ0JBQU87TUFBQTtNQUNILElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLGNBQUUsQ0FBQyxXQUFXLEVBQUUsRUFBRTtNQUV2QyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksR0FBRyxHQUFHO01BQy9DLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLElBQUk7TUFFL0MsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxVQUFDLEVBQUUsRUFBSztRQUMzQyxJQUFJLENBQUMsS0FBSSxDQUFDLEtBQUssRUFBRTtVQUNiLEtBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSTtVQUNqQixLQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDO1FBQzFDO1FBRUEsYUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFJLENBQUMsT0FBTyxFQUFFO1VBQ25CLENBQUMsRUFBRSxFQUFFLENBQUMsT0FBTyxHQUFHLE9BQU87VUFDdkIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxPQUFPLEdBQUc7UUFDcEIsQ0FBQyxDQUFDO01BQ04sQ0FBQyxDQUFDO01BRUYsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxVQUFDLEVBQUUsRUFBSztRQUN4QyxLQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7UUFDbEIsS0FBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztNQUM3QyxDQUFDLENBQUM7TUFFRixRQUFRLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUMsSUFBSSxFQUFLO1FBQzdDLEtBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDO01BQ3pCLENBQUMsQ0FBQztNQUVGLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFJLEVBQUs7UUFDdEQsS0FBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUM7TUFDekIsQ0FBQyxDQUFDO0lBQ047RUFBQztJQUFBO0lBQUEsT0FFRCxvQkFBVyxJQUFJLEVBQUU7TUFBQTtNQUNiLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsWUFBTTtRQUN0QyxNQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO01BQzNDLENBQUMsQ0FBQztNQUVGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsWUFBTTtRQUN0QyxNQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO01BQzlDLENBQUMsQ0FBQztJQUNOO0VBQUM7RUFBQTtBQUFBO0FBQUE7Ozs7Ozs7OztBQ3JETDtBQUNBO0FBQ0E7QUFBZ0Q7QUFBQTtBQUFBO0FBQUE7QUFFaEQsYUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBYSxFQUFFLG9CQUFTLENBQUM7QUFBQyxJQUV6QixjQUFjO0VBQy9CLDBCQUFjO0lBQUE7SUFDVixJQUFJLENBQUMsR0FBRyxHQUFHO01BQ1AsT0FBTyxFQUFFO0lBQ2IsQ0FBQztJQUVELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDO0VBQy9EO0VBQUM7SUFBQTtJQUFBLE9BRUQsZ0JBQU87TUFBQTtNQUNILElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BRTlCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQUMsT0FBTztRQUFBLE9BQUssS0FBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFBQSxFQUFDO0lBQ25FO0VBQUM7SUFBQTtJQUFBLE9BRUQsdUJBQWMsT0FBTyxFQUFFO01BQ25CLElBQU0sS0FBSyxHQUFHLElBQUksb0JBQVMsQ0FBQyxPQUFPLEVBQUU7UUFDakMsSUFBSSxFQUFFLE9BQU87UUFDYixVQUFVLEVBQUU7TUFDaEIsQ0FBQyxDQUFDO01BRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQztNQUVwQyxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDO01BRTNDLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFFdEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQUksRUFBSztRQUNwQixhQUFJLENBQUMsUUFBUSxDQUFDO1VBQ1YsS0FBSyxFQUFFLENBQUM7VUFDUixhQUFhLEVBQUU7WUFDWCxPQUFPLEVBQUUsSUFBSTtZQUNiLEtBQUssRUFBRTtVQUNYO1FBQ0osQ0FBQyxDQUFDLENBQ0csRUFBRSxDQUFDLElBQUksRUFBRTtVQUNOLFNBQVMsRUFBRSxVQUFVO1VBQ3JCLFFBQVEsRUFBRTtRQUNkLENBQUMsQ0FBQyxDQUNELEVBQUUsQ0FBQyxJQUFJLEVBQUU7VUFDTixTQUFTLEVBQUUsRUFBRTtVQUNiLFFBQVEsRUFBRTtRQUNkLENBQUMsQ0FBQyxDQUNELEVBQUUsQ0FBQyxJQUFJLEVBQUU7VUFDTixTQUFTLEVBQUUsVUFBVTtVQUNyQixRQUFRLEVBQUU7UUFDZCxDQUFDLENBQUMsQ0FDRCxFQUFFLENBQUMsSUFBSSxFQUFFO1VBQ04sU0FBUyxFQUFFLEVBQUU7VUFDYixRQUFRLEVBQUU7UUFDZCxDQUFDLENBQUMsQ0FDRCxFQUFFLENBQUMsSUFBSSxFQUFFO1VBQ04sU0FBUyxFQUFFLFVBQVU7VUFDckIsUUFBUSxFQUFFO1FBQ2QsQ0FBQyxDQUFDO01BQ1YsQ0FBQyxDQUFDO0lBQ047RUFBQztJQUFBO0lBQUEsT0FFRCxtQkFBVSxLQUFLLEVBQUUsT0FBTyxFQUFFO01BQ3RCLGFBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFO1FBQ1osU0FBUyxFQUFFO01BQ2YsQ0FBQyxDQUFDO01BRUYsYUFBSSxDQUFDLE1BQU0sQ0FDUCxLQUFLLEVBQ0w7UUFDSSxDQUFDLEVBQUUsS0FBSztRQUNSLFNBQVMsRUFBRTtNQUNmLENBQUMsRUFDRDtRQUNJLENBQUMsRUFBRSxJQUFJO1FBQ1AsU0FBUyxFQUFFLENBQUM7UUFDWixJQUFJLEVBQUUsWUFBWTtRQUNsQixPQUFPLEVBQUUsSUFBSTtRQUNiLFFBQVEsRUFBRSxHQUFHO1FBQ2IsYUFBYSxFQUFFO1VBQ1gsT0FBTyxFQUFFLE9BQU87VUFDaEIsS0FBSyxFQUFFLFNBQVM7VUFDaEIsR0FBRyxFQUFFO1FBQ1Q7TUFDSixDQUFDLENBQ0o7SUFDTDtFQUFDO0VBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FDeEZMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUF1QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFdkIsYUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBYSxDQUFDO0FBQUMsSUFFZCxXQUFXO0VBQzVCLHVCQUFjO0lBQUE7SUFDVixJQUFJLENBQUMsR0FBRyxHQUFHO01BQ1AsT0FBTyxFQUFFLDBCQUEwQjtNQUNuQyxNQUFNLEVBQUU7SUFDWixDQUFDO0lBRUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDO0lBQ3ZELElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztJQUNyRCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUk7O0lBRWpCO0lBQ0EsSUFBSSxDQUFDLE1BQU0sR0FBRztNQUNWLFdBQVcsRUFBRSxDQUFDO01BQ2QsVUFBVSxFQUFFO0lBQ2hCLENBQUM7RUFDTDtFQUFDO0lBQUE7SUFBQSxPQUVELGdCQUFPO01BQUE7TUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtNQUVuQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksc0JBQVUsRUFBRTs7TUFFOUI7TUFDQSxJQUFNLFdBQVcsR0FBRyxJQUFJLHdCQUFXLEVBQUU7TUFDckMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO01BQzVDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQztRQUN6QixJQUFJLEVBQUU7TUFDVixDQUFDLENBQUM7TUFDRixJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUM7TUFFdkMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSTtNQUUxQixJQUFJLENBQUMsWUFBWSxFQUFFO01BRW5CLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXO01BQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZO01BRXZDLElBQUksQ0FBQyxVQUFVLEVBQUU7TUFDakIsSUFBSSxDQUFDLFNBQVMsRUFBRTtNQUNoQixJQUFJLENBQUMsVUFBVSxFQUFFO01BQ2pCLElBQUksQ0FBQyxZQUFZLEVBQUU7TUFDbkIsSUFBSSxDQUFDLE9BQU8sRUFBRTtNQUNkLElBQUksQ0FBQyxjQUFFLENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDZCxJQUFJLENBQUMsU0FBUyxFQUFFO01BQ3BCO01BQ0EsSUFBSSxDQUFDLFNBQVMsRUFBRTs7TUFFaEI7TUFDQSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFO1FBQUEsT0FBTSxLQUFJLENBQUMsY0FBYyxFQUFFO01BQUEsR0FBRSxLQUFLLENBQUM7SUFDekU7RUFBQztJQUFBO0lBQUEsT0FFRCx3QkFBZTtNQUFBO01BQ1gsc0JBQWEsQ0FBQyxVQUFVLENBQUM7UUFDckIscUJBQXFCLEVBQUUsMEJBQU07VUFDekIsSUFBSSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsS0FBSyxHQUFHLEVBQUU7WUFDaEMsTUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRztVQUNoQztRQUNKLENBQUM7UUFDRCxvQkFBb0IsRUFBRSx5QkFBTTtVQUN4QixJQUFJLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEdBQUcsRUFBRTtZQUNoQyxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxHQUFHO1VBQ2hDO1FBQ0osQ0FBQztRQUNELG9CQUFvQixFQUFFLHlCQUFNO1VBQ3hCLElBQUksTUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEtBQUssR0FBRyxFQUFFO1lBQ2hDLE1BQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLEdBQUc7VUFDaEM7UUFDSixDQUFDO1FBQ0Qsb0JBQW9CLEVBQUUseUJBQU07VUFDeEIsSUFBSSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsS0FBSyxHQUFHLEVBQUU7WUFDaEMsTUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRztVQUNoQztRQUNKO01BQ0osQ0FBQyxDQUFDO0lBQ047RUFBQztJQUFBO0lBQUEsT0FFRCxxQkFBWTtNQUFBO01BQ1IsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxVQUFDLEVBQUUsRUFBSztRQUN6QyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsT0FBTztRQUV2QixhQUFJLENBQUMsRUFBRSxDQUFDLE1BQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFO1VBQy9CLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxJQUFJO1FBQzVDLENBQUMsQ0FBQztRQUVGLGFBQUksQ0FBQyxFQUFFLENBQUMsTUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUU7VUFDN0IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRztRQUN4QyxDQUFDLENBQUM7TUFDTixDQUFDLENBQUM7SUFDTjs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSxzQkFBYTtNQUNULElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO01BQ2pGLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztNQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQjs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSxxQkFBWTtNQUNSLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO0lBQ2xDOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLHNCQUFhO01BQ1QsSUFBTSxZQUFZLEdBQUcsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO01BRXpDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BQ3ZELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BRXZDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztNQUVwQyxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7TUFDaEMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO01BRWxDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQztJQUNoQzs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSx3QkFBZTtNQUNYLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDO1FBQ3BDLFNBQVMsRUFBRSxJQUFJO1FBQ2YsZUFBZSxFQUFFLGtCQUFrQjtRQUNuQyxLQUFLLEVBQUU7TUFDWCxDQUFDLENBQUM7TUFDRixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSTtNQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLGdCQUFnQjtNQUNyRCxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO01BQ3hDLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztNQUN0RixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUM7TUFDOUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsR0FBRyxJQUFJO01BQzVDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDO0lBQ3REOztJQUVBO0FBQ0o7QUFDQTtFQUZJO0lBQUE7SUFBQSxPQUdBLHFCQUFZO01BQUE7UUFBQTtRQUFBO01BQ1IsSUFBSSw4QkFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLDBEQUFwQixzQkFBc0IsS0FBSyxNQUFLLEVBQUUsSUFBSSwrQkFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLDJEQUFwQix1QkFBc0IsS0FBSyxNQUFLLElBQUksRUFBRTtNQUVoRixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FDWixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQzFCLFVBQUMsSUFBSSxFQUFLO1FBQ04sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBRXBDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUU1RixNQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLO1FBRXZCLE1BQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBRXJDLE1BQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7TUFDOUIsQ0FBQyxFQUNELFVBQUMsR0FBRyxFQUFLO1FBQ0w7TUFDSixDQUFDLEVBQ0QsVUFBQyxLQUFLLEVBQUs7UUFDUDtNQUNKLENBQUMsQ0FDSjtJQUNMO0VBQUM7SUFBQTtJQUFBLE9BRUQsOEJBQXFCLEtBQUssRUFBRTtNQUN4QixhQUFJLENBQUMsTUFBTSxDQUNQLEtBQUssQ0FBQyxRQUFRLEVBQ2Q7UUFDSSxDQUFDLEVBQUUsUUFBUTtRQUNYLENBQUMsRUFBRTtNQUNQLENBQUMsRUFDRDtRQUNJLENBQUMsRUFBRSxPQUFPO1FBQ1YsQ0FBQyxFQUFFLE9BQU87UUFDVixhQUFhLEVBQUU7VUFDWCxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU07VUFDcEIsS0FBSyxFQUFFLFNBQVM7VUFDaEIsR0FBRyxFQUFFLFlBQVk7VUFDakIsS0FBSyxFQUFFO1FBQ1g7TUFDSixDQUFDLENBQ0o7SUFDTDs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSwwQkFBaUI7TUFDYixJQUFJLENBQUMsWUFBWSxFQUFFO01BRW5CLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztNQUU1RixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVk7TUFDekUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRTtNQUVwQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztJQUM5RTs7SUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSxtQkFBVTtNQUFBO01BQ04sSUFBSSxHQUFHLEdBQUcsSUFBSTtNQUVkLElBQU0sT0FBTyxHQUFHLFNBQVYsT0FBTyxHQUFTO1FBQ2xCLE1BQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQUksQ0FBQyxLQUFLLEVBQUUsTUFBSSxDQUFDLE1BQU0sQ0FBQztRQUM3QyxJQUFJLE1BQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFFO1VBQ3ZCLEdBQUcsR0FBRyxxQkFBcUIsQ0FBQyxPQUFPLENBQUM7UUFDeEM7TUFDSixDQUFDO01BRUQsc0JBQWEsQ0FBQyxNQUFNLENBQUM7UUFDakIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1FBQ3JCLEtBQUssRUFBRSxZQUFZO1FBQ25CLEdBQUcsRUFBRSxZQUFZO1FBQ2pCLE9BQU8sRUFBRSxtQkFBTTtVQUNYLEdBQUcsR0FBRyxxQkFBcUIsQ0FBQyxPQUFPLENBQUM7UUFDeEMsQ0FBQztRQUNELE9BQU8sRUFBRSxtQkFBTTtVQUNYLG9CQUFvQixDQUFDLEdBQUcsQ0FBQztRQUM3QixDQUFDO1FBQ0QsV0FBVyxFQUFFLHVCQUFNO1VBQ2YsR0FBRyxHQUFHLHFCQUFxQixDQUFDLE9BQU8sQ0FBQztRQUN4QyxDQUFDO1FBQ0QsV0FBVyxFQUFFLHVCQUFNO1VBQ2Ysb0JBQW9CLENBQUMsR0FBRyxDQUFDO1FBQzdCO01BQ0osQ0FBQyxDQUFDO0lBQ047RUFBQztFQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7O0FDcFBMO0FBQ0E7QUFBK0M7QUFBQTtBQUFBO0FBQUE7QUFFL0MsYUFBSSxDQUFDLGNBQWMsQ0FBQyxzQkFBYSxDQUFDO0FBQ2xDO0FBQ0E7QUFDQTtBQUZBLElBR3FCLE9BQU87RUFDeEIsbUJBQWM7SUFBQTtJQUNWLElBQUksQ0FBQyxHQUFHLEdBQUc7TUFDUCxJQUFJLEVBQUU7SUFDVixDQUFDO0lBRUQsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7RUFDekQ7RUFBQztJQUFBO0lBQUEsT0FFRCxnQkFBTztNQUFBO01BQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQztNQUN2QyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN2QjtNQUNKO01BRUEsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFLO1FBQ2hDLEtBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLEtBQUssR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO01BQzNDLENBQUMsQ0FBQztJQUNOOztJQUVBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7RUFKSTtJQUFBO0lBQUEsT0FLQSxxQkFBWSxJQUFJLEVBQUUsU0FBUyxFQUFFO01BQ3pCLElBQUksS0FBSyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxDQUFDO01BQ2xDLElBQUksR0FBRyxHQUFHLENBQUM7TUFFWCxJQUFJLFNBQVMsRUFBRTtRQUNYLEtBQUssR0FBRyxDQUFDO1FBQ1QsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxDQUFDO01BQ2hDO01BRUEsYUFBSSxDQUFDLE1BQU0sQ0FDUCxJQUFJLEVBQ0o7UUFDSSxDQUFDLEVBQUU7TUFDUCxDQUFDLEVBQ0Q7UUFDSSxDQUFDLEVBQUUsR0FBRztRQUNOLGFBQWEsRUFBRTtVQUNYLE9BQU8sRUFBRSxJQUFJO1VBQ2IsS0FBSyxFQUFFLFlBQVk7VUFDbkIsR0FBRyxFQUFFLFlBQVk7VUFDakIsS0FBSyxFQUFFO1FBQ1gsQ0FBQztRQUNELElBQUksRUFBRTtNQUNWLENBQUMsQ0FDSjtJQUNMO0VBQUM7RUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7OztBQ3pETDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBSkEsSUFLcUIsb0JBQW9CO0VBQ3JDLGdDQUFjO0lBQUE7SUFDVjtBQUNSO0FBQ0E7QUFDQTtBQUNBO0lBQ1EsSUFBSSxDQUFDLEdBQUcsR0FBRztNQUNQLFVBQVUsRUFBRSxnQkFBZ0I7TUFDNUIsTUFBTSxFQUFFO1FBQ0osa0JBQWtCLEVBQUUsY0FBYztRQUNsQyxlQUFlLEVBQUUsVUFBVTtRQUMzQixpQkFBaUIsRUFBRTtNQUN2QjtJQUNKLENBQUM7O0lBRUQ7QUFDUjtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUs7SUFDdEI7QUFDUjtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUMsc0JBQXNCLEdBQUcsR0FBRztJQUNqQztBQUNSO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQztJQUNwQjtBQUNSO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQztJQUNuQixJQUFJLENBQUMsV0FBVyxHQUFHLENBQUM7SUFDcEIsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDOztJQUVyQjtBQUNSO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQyxVQUFVLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQztFQUNqRTs7RUFFQTs7RUFFQTtBQUNKO0FBQ0E7RUFGSTtJQUFBO0lBQUEsT0FHQSxnQkFBTztNQUNILElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxJQUFJLEVBQUU7UUFDMUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQztRQUNoQyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7TUFDL0IsQ0FBQyxNQUFNO1FBQ0gsT0FBTyxDQUFDLEtBQUssV0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsaUNBQThCO01BQ3RFO0lBQ0o7O0lBRUE7QUFDSjtBQUNBO0VBRkk7SUFBQTtJQUFBLE9BR0EsZ0NBQXVCO01BQUE7TUFDbkIsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxZQUFNO1FBQ3RDLElBQUksQ0FBQyxLQUFJLENBQUMsU0FBUyxFQUFFO1VBQ2pCLEtBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSTtVQUVyQixJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixFQUFFO1lBQy9CLFVBQVUsQ0FBQyxLQUFJLENBQUMsV0FBVyxFQUFFLEVBQUUsR0FBRyxDQUFDO1VBQ3ZDLENBQUMsTUFBTTtZQUNILHFCQUFxQixDQUFDO2NBQUEsT0FBTSxLQUFJLENBQUMsV0FBVyxFQUFFO1lBQUEsRUFBQztVQUNuRDtRQUNKO01BQ0osQ0FBQyxDQUFDO0lBQ047O0lBRUE7QUFDSjtBQUNBO0VBRkk7SUFBQTtJQUFBLE9BR0EsdUJBQWM7TUFDVjtBQUNSO0FBQ0E7QUFDQTtNQUNRLElBQUksVUFBVSxHQUFHLE1BQU0sQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTO01BRTdELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxVQUFVLENBQUM7TUFFdEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVO01BQzdCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSztJQUMxQjs7SUFFQTtBQUNKO0FBQ0E7QUFDQTtFQUhJO0lBQUE7SUFBQSxPQUlBLCtCQUFzQixVQUFVLEVBQUU7TUFDOUIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixFQUFFO1FBQzFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztNQUNyRSxDQUFDLE1BQU07UUFDSCxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUM7TUFDeEU7TUFFQSxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksVUFBVSxFQUFFO1FBQ2hDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDO01BQ2hDLENBQUMsTUFBTTtRQUNILElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDO01BQ2xDO0lBQ0o7O0lBRUE7QUFDSjtBQUNBO0FBQ0E7RUFISTtJQUFBO0lBQUEsT0FJQSxxQkFBWSxVQUFVLEVBQUU7TUFDcEIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixFQUFFO1FBQzFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztNQUN2RSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFO1FBQ3pELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztNQUN2RTtJQUNKOztJQUVBO0FBQ0o7QUFDQTtBQUNBO0VBSEk7SUFBQTtJQUFBLE9BSUEsdUJBQWMsVUFBVSxFQUFFO01BQ3RCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFO1FBQzlELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztNQUNwRSxDQUFDLE1BQU0sSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixFQUFFO1FBQ2pELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztNQUN2RTtJQUNKOztJQUVBO0VBQUE7RUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7OztBQzVJSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBSkEsSUFLcUIsVUFBVTtFQUMzQixzQkFBYztJQUFBO0lBQ1Y7QUFDUjtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUMsR0FBRyxHQUFHO01BQ1AsSUFBSSxFQUFFO0lBQ1YsQ0FBQzs7SUFFRDtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQyxXQUFXLEdBQUc7TUFDZixjQUFjLEVBQUUsTUFBTTtNQUFFO01BQ3hCLFdBQVcsRUFBRSxFQUFFO01BQUU7TUFDakIsU0FBUyxFQUFFLElBQUk7TUFBRTtNQUNqQixTQUFTLEVBQUUsS0FBSztNQUFFO01BQ2xCLFdBQVcsRUFBRSxDQUFDO01BQUU7TUFDaEIsV0FBVyxFQUFFLEtBQUs7TUFBRTtNQUNwQixTQUFTLEVBQUUsd0JBQXdCO01BQUU7TUFDckMsYUFBYSxFQUFFLHlCQUF5QixDQUFFO0lBQzlDLENBQUM7O0lBRUQsSUFBTSxlQUFlLEdBQUcsQ0FDcEIsMkJBQTJCLEVBQzNCLGNBQWMsRUFDZCxnQkFBZ0IsRUFDaEIsbUJBQW1CLEVBQ25CLG9CQUFvQixFQUNwQiwyQkFBMkIsRUFDM0IsbUJBQW1CLENBQ3RCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUVYLE9BQU8sQ0FBQyxJQUFJLENBQUMsaUNBQWlDLEVBQUUsZUFBZSxDQUFDO0lBRWhFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSTtJQUVoQixJQUFJLENBQUMsV0FBVyxHQUNaLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXO0lBRW5JLElBQUksQ0FBQyxxQkFBcUIsYUFBTyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxHQUFJLEdBQUcsTUFBRztJQUV4RixJQUFJLENBQUMscUJBQXFCLGFBQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEdBQUksR0FBRyxNQUFHO0VBQ3hHO0VBQUM7SUFBQTtJQUFBLE9BRUQsZ0JBQU87TUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDO01BQ2hDLElBQUksQ0FBQyxRQUFRLEVBQUU7TUFDZixJQUFJLENBQUMsZ0JBQWdCLEVBQUU7SUFDM0I7RUFBQztJQUFBO0lBQUEsT0FFRCxvQkFBVztNQUNQO01BQ0EsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQztNQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUk7O01BRTVCO01BQ0EsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyx1RUFFUixJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsdVBBUzdDO01BRUQsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsS0FBSyxJQUFJLEVBQUU7UUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxhQUFNLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxPQUFJO01BQ2hFO01BRUEsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxHQUFHLENBQUMsRUFBRTtRQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsTUFBTTtNQUN2Qzs7TUFFQTtNQUNBLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7O01BRXBDO01BQ0EsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ25ELElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQztRQUU3QixNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sK0dBR0ksSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLHVEQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsb0JBQ3REO1FBRUQsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsR0FBRyxDQUFDLEVBQUU7VUFDbEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLHVCQUFnQixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBRTtRQUN4RSxDQUFDLE1BQU07VUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLHVCQUFnQixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBRTtRQUMzRTtRQUVBLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEtBQUssSUFBSSxFQUFFO1VBQ3ZDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxhQUFNLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxPQUFJO1FBQ2xFLENBQUMsTUFBTTtVQUNILE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxxQkFBcUI7VUFDckQsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLHFCQUFxQjtRQUNuRDtNQUNKO01BRUEsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDO0lBQzdDO0VBQUM7SUFBQTtJQUFBLE9BRUQsNEJBQW1CO01BQUE7TUFDZixRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQUMsRUFBRSxFQUFLO1FBQ3ZDLElBQUksRUFBRSxDQUFDLE9BQU8sS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRTtVQUNoQyxJQUFJLEtBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sS0FBSyxNQUFNLEVBQUU7WUFDcEMsS0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU07VUFDcEMsQ0FBQyxNQUFNO1lBQ0gsS0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU07VUFDcEM7UUFDSjtNQUNKLENBQUMsQ0FBQztJQUNOO0VBQUM7RUFBQTtBQUFBO0FBQUE7Ozs7O0FDOUhMO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBeUQ7QUFyQnpEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNLEtBQUssR0FBRyxTQUFSLEtBQUssQ0FBSSxRQUFRLEVBQUs7RUFDeEIsSUFBSSxRQUFRLENBQUMsVUFBVSxLQUFLLFNBQVMsRUFBRTtJQUNuQztBQUNSO0FBQ0E7SUFDUSxRQUFRLEVBQUU7RUFDZCxDQUFDLE1BQU0sSUFBSSxRQUFRLENBQUMsZ0JBQWdCLEVBQUU7SUFDbEM7QUFDUjtBQUNBO0lBQ1EsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLFFBQVEsQ0FBQztFQUMzRCxDQUFDLE1BQU07SUFDSDtBQUNSO0FBQ0E7SUFDUSxRQUFRLENBQUMsV0FBVyxDQUFDLG9CQUFvQixFQUFFLFlBQVk7TUFDbkQsSUFBSSxRQUFRLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRTtRQUNwQyxRQUFRLEVBQUU7TUFDZDtJQUNKLENBQUMsQ0FBQztFQUNOO0FBQ0osQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxLQUFLLENBQUMsWUFBTTtFQUNSO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7RUFDSSxJQUFJLE9BQU8sbUJBQVUsSUFBSSxVQUFVLEVBQUU7SUFDakMsSUFBTSxJQUFJLEdBQUcsSUFBSSxtQkFBVSxFQUFFO0lBQzdCLElBQUksQ0FBQyxJQUFJLEVBQUU7RUFDZjtFQUVBLElBQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxlQUFlO0VBQ3BDLEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLGNBQWMsWUFBSyxNQUFNLENBQUMsV0FBVyxRQUFLOztFQUVoRTtBQUNKO0FBQ0E7O0VBRUk7QUFDSjtBQUNBO0FBQ0E7RUFDSSxJQUFNLFVBQVUsR0FBRyxJQUFJLDZCQUFvQixFQUFFO0VBQzdDLFVBQVUsQ0FBQyxJQUFJLEVBQUU7O0VBRWpCO0FBQ0o7QUFDQTtBQUNBO0VBQ0ksSUFBTSxZQUFZLEdBQUcsSUFBSSxnQkFBWSxFQUFFO0VBQ3ZDLFlBQVksQ0FBQyxJQUFJLEVBQUU7O0VBRW5CO0FBQ0o7QUFDQTtBQUNBO0VBQ0ksSUFBTSxXQUFXLEdBQUcsSUFBSSxvQkFBVyxFQUFFO0VBQ3JDLFdBQVcsQ0FBQyxJQUFJLEVBQUU7O0VBRWxCO0FBQ0o7QUFDQTtBQUNBO0VBQ0ksSUFBTSxZQUFZLEdBQUcsSUFBSSxxQkFBWSxFQUFFO0VBQ3ZDLFlBQVksQ0FBQyxJQUFJLEVBQUU7RUFFbkIsSUFBTSxPQUFPLEdBQUcsSUFBSSxnQkFBTyxFQUFFO0VBQzdCLE9BQU8sQ0FBQyxJQUFJLEVBQUU7RUFFZCxJQUFNLGNBQWMsR0FBRyxJQUFJLHVCQUFjLEVBQUU7RUFDM0MsY0FBYyxDQUFDLElBQUksRUFBRTtFQUVyQixVQUFVLENBQUMsWUFBTTtJQUNiO0FBQ1I7QUFDQTtBQUNBO0lBQ1EsSUFBTSxNQUFNLEdBQUcsSUFBSSxlQUFNLEVBQUU7SUFDM0IsTUFBTSxDQUFDLElBQUksRUFBRTtFQUNqQixDQUFDLEVBQUUsR0FBRyxDQUFDO0FBQ1gsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLndpbmRvdyA9IGdsb2JhbC53aW5kb3cgfHwge30pKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICAvKiFcbiAgICogT2JzZXJ2ZXIgMy4xMC40XG4gICAqIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbVxuICAgKlxuICAgKiBAbGljZW5zZSBDb3B5cmlnaHQgMjAwOC0yMDIyLCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9zdGFuZGFyZC1saWNlbnNlIG9yIGZvclxuICAgKiBDbHViIEdyZWVuU29jayBtZW1iZXJzLCB0aGUgYWdyZWVtZW50IGlzc3VlZCB3aXRoIHRoYXQgbWVtYmVyc2hpcC5cbiAgICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tXG4gICovXG4gIHZhciBnc2FwLFxuICAgICAgX2NvcmVJbml0dGVkLFxuICAgICAgX2NsYW1wLFxuICAgICAgX3dpbixcbiAgICAgIF9kb2MsXG4gICAgICBfZG9jRWwsXG4gICAgICBfYm9keSxcbiAgICAgIF9pc1RvdWNoLFxuICAgICAgX3BvaW50ZXJUeXBlLFxuICAgICAgU2Nyb2xsVHJpZ2dlcixcbiAgICAgIF9yb290LFxuICAgICAgX25vcm1hbGl6ZXIsXG4gICAgICBfZXZlbnRUeXBlcyxcbiAgICAgIF9nZXRHU0FQID0gZnVuY3Rpb24gX2dldEdTQVAoKSB7XG4gICAgcmV0dXJuIGdzYXAgfHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAoZ3NhcCA9IHdpbmRvdy5nc2FwKSAmJiBnc2FwLnJlZ2lzdGVyUGx1Z2luICYmIGdzYXA7XG4gIH0sXG4gICAgICBfc3RhcnR1cCA9IDEsXG4gICAgICBfb2JzZXJ2ZXJzID0gW10sXG4gICAgICBfc2Nyb2xsZXJzID0gW10sXG4gICAgICBfcHJveGllcyA9IFtdLFxuICAgICAgX2dldFRpbWUgPSBEYXRlLm5vdyxcbiAgICAgIF9icmlkZ2UgPSBmdW5jdGlvbiBfYnJpZGdlKG5hbWUsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICAgICAgX2ludGVncmF0ZSA9IGZ1bmN0aW9uIF9pbnRlZ3JhdGUoKSB7XG4gICAgdmFyIGNvcmUgPSBTY3JvbGxUcmlnZ2VyLmNvcmUsXG4gICAgICAgIGRhdGEgPSBjb3JlLmJyaWRnZSB8fCB7fSxcbiAgICAgICAgc2Nyb2xsZXJzID0gY29yZS5fc2Nyb2xsZXJzLFxuICAgICAgICBwcm94aWVzID0gY29yZS5fcHJveGllcztcbiAgICBzY3JvbGxlcnMucHVzaC5hcHBseShzY3JvbGxlcnMsIF9zY3JvbGxlcnMpO1xuICAgIHByb3hpZXMucHVzaC5hcHBseShwcm94aWVzLCBfcHJveGllcyk7XG4gICAgX3Njcm9sbGVycyA9IHNjcm9sbGVycztcbiAgICBfcHJveGllcyA9IHByb3hpZXM7XG5cbiAgICBfYnJpZGdlID0gZnVuY3Rpb24gX2JyaWRnZShuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGRhdGFbbmFtZV0odmFsdWUpO1xuICAgIH07XG4gIH0sXG4gICAgICBfZ2V0UHJveHlQcm9wID0gZnVuY3Rpb24gX2dldFByb3h5UHJvcChlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgIHJldHVybiB+X3Byb3hpZXMuaW5kZXhPZihlbGVtZW50KSAmJiBfcHJveGllc1tfcHJveGllcy5pbmRleE9mKGVsZW1lbnQpICsgMV1bcHJvcGVydHldO1xuICB9LFxuICAgICAgX2lzVmlld3BvcnQgPSBmdW5jdGlvbiBfaXNWaWV3cG9ydChlbCkge1xuICAgIHJldHVybiAhIX5fcm9vdC5pbmRleE9mKGVsKTtcbiAgfSxcbiAgICAgIF9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIF9hZGRMaXN0ZW5lcihlbGVtZW50LCB0eXBlLCBmdW5jLCBub25QYXNzaXZlLCBjYXB0dXJlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jLCB7XG4gICAgICBwYXNzaXZlOiAhbm9uUGFzc2l2ZSxcbiAgICAgIGNhcHR1cmU6ICEhY2FwdHVyZVxuICAgIH0pO1xuICB9LFxuICAgICAgX3JlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gX3JlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGZ1bmMsIGNhcHR1cmUpIHtcbiAgICByZXR1cm4gZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMsICEhY2FwdHVyZSk7XG4gIH0sXG4gICAgICBfc2Nyb2xsTGVmdCA9IFwic2Nyb2xsTGVmdFwiLFxuICAgICAgX3Njcm9sbFRvcCA9IFwic2Nyb2xsVG9wXCIsXG4gICAgICBfb25TY3JvbGwgPSBmdW5jdGlvbiBfb25TY3JvbGwoKSB7XG4gICAgcmV0dXJuIF9ub3JtYWxpemVyICYmIF9ub3JtYWxpemVyLmlzUHJlc3NlZCB8fCBfc2Nyb2xsZXJzLmNhY2hlKys7XG4gIH0sXG4gICAgICBfc2Nyb2xsQ2FjaGVGdW5jID0gZnVuY3Rpb24gX3Njcm9sbENhY2hlRnVuYyhmLCBkb05vdENhY2hlKSB7XG4gICAgdmFyIGNhY2hpbmdGdW5jID0gZnVuY3Rpb24gY2FjaGluZ0Z1bmModmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCkge1xuICAgICAgICBfc3RhcnR1cCAmJiAoX3dpbi5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJtYW51YWxcIik7XG4gICAgICAgIHZhciBpc05vcm1hbGl6aW5nID0gX25vcm1hbGl6ZXIgJiYgX25vcm1hbGl6ZXIuaXNQcmVzc2VkO1xuICAgICAgICB2YWx1ZSA9IGNhY2hpbmdGdW5jLnYgPSBNYXRoLnJvdW5kKHZhbHVlKSB8fCAoX25vcm1hbGl6ZXIgJiYgX25vcm1hbGl6ZXIuaU9TID8gMSA6IDApO1xuICAgICAgICBmKHZhbHVlKTtcbiAgICAgICAgY2FjaGluZ0Z1bmMuY2FjaGVJRCA9IF9zY3JvbGxlcnMuY2FjaGU7XG4gICAgICAgIGlzTm9ybWFsaXppbmcgJiYgX2JyaWRnZShcInNzXCIsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoZG9Ob3RDYWNoZSB8fCBfc2Nyb2xsZXJzLmNhY2hlICE9PSBjYWNoaW5nRnVuYy5jYWNoZUlEIHx8IF9icmlkZ2UoXCJyZWZcIikpIHtcbiAgICAgICAgY2FjaGluZ0Z1bmMuY2FjaGVJRCA9IF9zY3JvbGxlcnMuY2FjaGU7XG4gICAgICAgIGNhY2hpbmdGdW5jLnYgPSBmKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWNoaW5nRnVuYy52ICsgY2FjaGluZ0Z1bmMub2Zmc2V0O1xuICAgIH07XG5cbiAgICBjYWNoaW5nRnVuYy5vZmZzZXQgPSAwO1xuICAgIHJldHVybiBmICYmIGNhY2hpbmdGdW5jO1xuICB9LFxuICAgICAgX2hvcml6b250YWwgPSB7XG4gICAgczogX3Njcm9sbExlZnQsXG4gICAgcDogXCJsZWZ0XCIsXG4gICAgcDI6IFwiTGVmdFwiLFxuICAgIG9zOiBcInJpZ2h0XCIsXG4gICAgb3MyOiBcIlJpZ2h0XCIsXG4gICAgZDogXCJ3aWR0aFwiLFxuICAgIGQyOiBcIldpZHRoXCIsXG4gICAgYTogXCJ4XCIsXG4gICAgc2M6IF9zY3JvbGxDYWNoZUZ1bmMoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IF93aW4uc2Nyb2xsVG8odmFsdWUsIF92ZXJ0aWNhbC5zYygpKSA6IF93aW4ucGFnZVhPZmZzZXQgfHwgX2RvY1tfc2Nyb2xsTGVmdF0gfHwgX2RvY0VsW19zY3JvbGxMZWZ0XSB8fCBfYm9keVtfc2Nyb2xsTGVmdF0gfHwgMDtcbiAgICB9KVxuICB9LFxuICAgICAgX3ZlcnRpY2FsID0ge1xuICAgIHM6IF9zY3JvbGxUb3AsXG4gICAgcDogXCJ0b3BcIixcbiAgICBwMjogXCJUb3BcIixcbiAgICBvczogXCJib3R0b21cIixcbiAgICBvczI6IFwiQm90dG9tXCIsXG4gICAgZDogXCJoZWlnaHRcIixcbiAgICBkMjogXCJIZWlnaHRcIixcbiAgICBhOiBcInlcIixcbiAgICBvcDogX2hvcml6b250YWwsXG4gICAgc2M6IF9zY3JvbGxDYWNoZUZ1bmMoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IF93aW4uc2Nyb2xsVG8oX2hvcml6b250YWwuc2MoKSwgdmFsdWUpIDogX3dpbi5wYWdlWU9mZnNldCB8fCBfZG9jW19zY3JvbGxUb3BdIHx8IF9kb2NFbFtfc2Nyb2xsVG9wXSB8fCBfYm9keVtfc2Nyb2xsVG9wXSB8fCAwO1xuICAgIH0pXG4gIH0sXG4gICAgICBfZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gX2dldFRhcmdldCh0KSB7XG4gICAgcmV0dXJuIGdzYXAudXRpbHMudG9BcnJheSh0KVswXSB8fCAodHlwZW9mIHQgPT09IFwic3RyaW5nXCIgJiYgZ3NhcC5jb25maWcoKS5udWxsVGFyZ2V0V2FybiAhPT0gZmFsc2UgPyBjb25zb2xlLndhcm4oXCJFbGVtZW50IG5vdCBmb3VuZDpcIiwgdCkgOiBudWxsKTtcbiAgfSxcbiAgICAgIF9nZXRTY3JvbGxGdW5jID0gZnVuY3Rpb24gX2dldFNjcm9sbEZ1bmMoZWxlbWVudCwgX3JlZikge1xuICAgIHZhciBzID0gX3JlZi5zLFxuICAgICAgICBzYyA9IF9yZWYuc2M7XG5cbiAgICB2YXIgaSA9IF9zY3JvbGxlcnMuaW5kZXhPZihlbGVtZW50KSxcbiAgICAgICAgb2Zmc2V0ID0gc2MgPT09IF92ZXJ0aWNhbC5zYyA/IDEgOiAyO1xuXG4gICAgIX5pICYmIChpID0gX3Njcm9sbGVycy5wdXNoKGVsZW1lbnQpIC0gMSk7XG4gICAgcmV0dXJuIF9zY3JvbGxlcnNbaSArIG9mZnNldF0gfHwgKF9zY3JvbGxlcnNbaSArIG9mZnNldF0gPSBfc2Nyb2xsQ2FjaGVGdW5jKF9nZXRQcm94eVByb3AoZWxlbWVudCwgcyksIHRydWUpIHx8IChfaXNWaWV3cG9ydChlbGVtZW50KSA/IHNjIDogX3Njcm9sbENhY2hlRnVuYyhmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gZWxlbWVudFtzXSA9IHZhbHVlIDogZWxlbWVudFtzXTtcbiAgICB9KSkpO1xuICB9LFxuICAgICAgX2dldFZlbG9jaXR5UHJvcCA9IGZ1bmN0aW9uIF9nZXRWZWxvY2l0eVByb3AodmFsdWUsIG1pblRpbWVSZWZyZXNoLCB1c2VEZWx0YSkge1xuICAgIHZhciB2MSA9IHZhbHVlLFxuICAgICAgICB2MiA9IHZhbHVlLFxuICAgICAgICB0MSA9IF9nZXRUaW1lKCksXG4gICAgICAgIHQyID0gdDEsXG4gICAgICAgIG1pbiA9IG1pblRpbWVSZWZyZXNoIHx8IDUwLFxuICAgICAgICBkcm9wVG9aZXJvVGltZSA9IE1hdGgubWF4KDUwMCwgbWluICogMyksXG4gICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSh2YWx1ZSwgZm9yY2UpIHtcbiAgICAgIHZhciB0ID0gX2dldFRpbWUoKTtcblxuICAgICAgaWYgKGZvcmNlIHx8IHQgLSB0MSA+IG1pbikge1xuICAgICAgICB2MiA9IHYxO1xuICAgICAgICB2MSA9IHZhbHVlO1xuICAgICAgICB0MiA9IHQxO1xuICAgICAgICB0MSA9IHQ7XG4gICAgICB9IGVsc2UgaWYgKHVzZURlbHRhKSB7XG4gICAgICAgIHYxICs9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdjEgPSB2MiArICh2YWx1ZSAtIHYyKSAvICh0IC0gdDIpICogKHQxIC0gdDIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgICAgIHJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICB2MiA9IHYxID0gdXNlRGVsdGEgPyAwIDogdjE7XG4gICAgICB0MiA9IHQxID0gMDtcbiAgICB9LFxuICAgICAgICBnZXRWZWxvY2l0eSA9IGZ1bmN0aW9uIGdldFZlbG9jaXR5KGxhdGVzdFZhbHVlKSB7XG4gICAgICB2YXIgdE9sZCA9IHQyLFxuICAgICAgICAgIHZPbGQgPSB2MixcbiAgICAgICAgICB0ID0gX2dldFRpbWUoKTtcblxuICAgICAgKGxhdGVzdFZhbHVlIHx8IGxhdGVzdFZhbHVlID09PSAwKSAmJiBsYXRlc3RWYWx1ZSAhPT0gdjEgJiYgdXBkYXRlKGxhdGVzdFZhbHVlKTtcbiAgICAgIHJldHVybiB0MSA9PT0gdDIgfHwgdCAtIHQyID4gZHJvcFRvWmVyb1RpbWUgPyAwIDogKHYxICsgKHVzZURlbHRhID8gdk9sZCA6IC12T2xkKSkgLyAoKHVzZURlbHRhID8gdCA6IHQxKSAtIHRPbGQpICogMTAwMDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgICAgcmVzZXQ6IHJlc2V0LFxuICAgICAgZ2V0VmVsb2NpdHk6IGdldFZlbG9jaXR5XG4gICAgfTtcbiAgfSxcbiAgICAgIF9nZXRFdmVudCA9IGZ1bmN0aW9uIF9nZXRFdmVudChlLCBwcmV2ZW50RGVmYXVsdCkge1xuICAgIHByZXZlbnREZWZhdWx0ICYmICFlLl9nc2FwQWxsb3cgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBlLmNoYW5nZWRUb3VjaGVzID8gZS5jaGFuZ2VkVG91Y2hlc1swXSA6IGU7XG4gIH0sXG4gICAgICBfZ2V0QWJzb2x1dGVNYXggPSBmdW5jdGlvbiBfZ2V0QWJzb2x1dGVNYXgoYSkge1xuICAgIHZhciBtYXggPSBNYXRoLm1heC5hcHBseShNYXRoLCBhKSxcbiAgICAgICAgbWluID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgYSk7XG4gICAgcmV0dXJuIE1hdGguYWJzKG1heCkgPj0gTWF0aC5hYnMobWluKSA/IG1heCA6IG1pbjtcbiAgfSxcbiAgICAgIF9zZXRTY3JvbGxUcmlnZ2VyID0gZnVuY3Rpb24gX3NldFNjcm9sbFRyaWdnZXIoKSB7XG4gICAgU2Nyb2xsVHJpZ2dlciA9IGdzYXAuY29yZS5nbG9iYWxzKCkuU2Nyb2xsVHJpZ2dlcjtcbiAgICBTY3JvbGxUcmlnZ2VyICYmIFNjcm9sbFRyaWdnZXIuY29yZSAmJiBfaW50ZWdyYXRlKCk7XG4gIH0sXG4gICAgICBfaW5pdENvcmUgPSBmdW5jdGlvbiBfaW5pdENvcmUoY29yZSkge1xuICAgIGdzYXAgPSBjb3JlIHx8IF9nZXRHU0FQKCk7XG5cbiAgICBpZiAoZ3NhcCAmJiB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnQuYm9keSkge1xuICAgICAgX3dpbiA9IHdpbmRvdztcbiAgICAgIF9kb2MgPSBkb2N1bWVudDtcbiAgICAgIF9kb2NFbCA9IF9kb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgX2JvZHkgPSBfZG9jLmJvZHk7XG4gICAgICBfcm9vdCA9IFtfd2luLCBfZG9jLCBfZG9jRWwsIF9ib2R5XTtcbiAgICAgIF9jbGFtcCA9IGdzYXAudXRpbHMuY2xhbXA7XG4gICAgICBfcG9pbnRlclR5cGUgPSBcIm9ucG9pbnRlcmVudGVyXCIgaW4gX2JvZHkgPyBcInBvaW50ZXJcIiA6IFwibW91c2VcIjtcbiAgICAgIF9pc1RvdWNoID0gT2JzZXJ2ZXIuaXNUb3VjaCA9IF93aW4ubWF0Y2hNZWRpYSAmJiBfd2luLm1hdGNoTWVkaWEoXCIoaG92ZXI6IG5vbmUpLCAocG9pbnRlcjogY29hcnNlKVwiKS5tYXRjaGVzID8gMSA6IFwib250b3VjaHN0YXJ0XCIgaW4gX3dpbiB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwIHx8IG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCA/IDIgOiAwO1xuICAgICAgX2V2ZW50VHlwZXMgPSBPYnNlcnZlci5ldmVudFR5cGVzID0gKFwib250b3VjaHN0YXJ0XCIgaW4gX2RvY0VsID8gXCJ0b3VjaHN0YXJ0LHRvdWNobW92ZSx0b3VjaGNhbmNlbCx0b3VjaGVuZFwiIDogIShcIm9ucG9pbnRlcmRvd25cIiBpbiBfZG9jRWwpID8gXCJtb3VzZWRvd24sbW91c2Vtb3ZlLG1vdXNldXAsbW91c2V1cFwiIDogXCJwb2ludGVyZG93bixwb2ludGVybW92ZSxwb2ludGVyY2FuY2VsLHBvaW50ZXJ1cFwiKS5zcGxpdChcIixcIik7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9zdGFydHVwID0gMDtcbiAgICAgIH0sIDUwMCk7XG5cbiAgICAgIF9zZXRTY3JvbGxUcmlnZ2VyKCk7XG5cbiAgICAgIF9jb3JlSW5pdHRlZCA9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jb3JlSW5pdHRlZDtcbiAgfTtcblxuICBfaG9yaXpvbnRhbC5vcCA9IF92ZXJ0aWNhbDtcbiAgX3Njcm9sbGVycy5jYWNoZSA9IDA7XG4gIHZhciBPYnNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZlcih2YXJzKSB7XG4gICAgICB0aGlzLmluaXQodmFycyk7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IE9ic2VydmVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5pbml0ID0gZnVuY3Rpb24gaW5pdCh2YXJzKSB7XG4gICAgICBfY29yZUluaXR0ZWQgfHwgX2luaXRDb3JlKGdzYXApIHx8IGNvbnNvbGUud2FybihcIlBsZWFzZSBnc2FwLnJlZ2lzdGVyUGx1Z2luKE9ic2VydmVyKVwiKTtcbiAgICAgIFNjcm9sbFRyaWdnZXIgfHwgX3NldFNjcm9sbFRyaWdnZXIoKTtcbiAgICAgIHZhciB0b2xlcmFuY2UgPSB2YXJzLnRvbGVyYW5jZSxcbiAgICAgICAgICBkcmFnTWluaW11bSA9IHZhcnMuZHJhZ01pbmltdW0sXG4gICAgICAgICAgdHlwZSA9IHZhcnMudHlwZSxcbiAgICAgICAgICB0YXJnZXQgPSB2YXJzLnRhcmdldCxcbiAgICAgICAgICBsaW5lSGVpZ2h0ID0gdmFycy5saW5lSGVpZ2h0LFxuICAgICAgICAgIGRlYm91bmNlID0gdmFycy5kZWJvdW5jZSxcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IHZhcnMucHJldmVudERlZmF1bHQsXG4gICAgICAgICAgb25TdG9wID0gdmFycy5vblN0b3AsXG4gICAgICAgICAgb25TdG9wRGVsYXkgPSB2YXJzLm9uU3RvcERlbGF5LFxuICAgICAgICAgIGlnbm9yZSA9IHZhcnMuaWdub3JlLFxuICAgICAgICAgIHdoZWVsU3BlZWQgPSB2YXJzLndoZWVsU3BlZWQsXG4gICAgICAgICAgZXZlbnQgPSB2YXJzLmV2ZW50LFxuICAgICAgICAgIG9uRHJhZ1N0YXJ0ID0gdmFycy5vbkRyYWdTdGFydCxcbiAgICAgICAgICBvbkRyYWdFbmQgPSB2YXJzLm9uRHJhZ0VuZCxcbiAgICAgICAgICBvbkRyYWcgPSB2YXJzLm9uRHJhZyxcbiAgICAgICAgICBvblByZXNzID0gdmFycy5vblByZXNzLFxuICAgICAgICAgIG9uUmVsZWFzZSA9IHZhcnMub25SZWxlYXNlLFxuICAgICAgICAgIG9uUmlnaHQgPSB2YXJzLm9uUmlnaHQsXG4gICAgICAgICAgb25MZWZ0ID0gdmFycy5vbkxlZnQsXG4gICAgICAgICAgb25VcCA9IHZhcnMub25VcCxcbiAgICAgICAgICBvbkRvd24gPSB2YXJzLm9uRG93bixcbiAgICAgICAgICBvbkNoYW5nZVggPSB2YXJzLm9uQ2hhbmdlWCxcbiAgICAgICAgICBvbkNoYW5nZVkgPSB2YXJzLm9uQ2hhbmdlWSxcbiAgICAgICAgICBvbkNoYW5nZSA9IHZhcnMub25DaGFuZ2UsXG4gICAgICAgICAgb25Ub2dnbGVYID0gdmFycy5vblRvZ2dsZVgsXG4gICAgICAgICAgb25Ub2dnbGVZID0gdmFycy5vblRvZ2dsZVksXG4gICAgICAgICAgb25Ib3ZlciA9IHZhcnMub25Ib3ZlcixcbiAgICAgICAgICBvbkhvdmVyRW5kID0gdmFycy5vbkhvdmVyRW5kLFxuICAgICAgICAgIG9uTW92ZSA9IHZhcnMub25Nb3ZlLFxuICAgICAgICAgIGlnbm9yZUNoZWNrID0gdmFycy5pZ25vcmVDaGVjayxcbiAgICAgICAgICBpc05vcm1hbGl6ZXIgPSB2YXJzLmlzTm9ybWFsaXplcixcbiAgICAgICAgICBvbkdlc3R1cmVTdGFydCA9IHZhcnMub25HZXN0dXJlU3RhcnQsXG4gICAgICAgICAgb25HZXN0dXJlRW5kID0gdmFycy5vbkdlc3R1cmVFbmQsXG4gICAgICAgICAgb25XaGVlbCA9IHZhcnMub25XaGVlbCxcbiAgICAgICAgICBvbkVuYWJsZSA9IHZhcnMub25FbmFibGUsXG4gICAgICAgICAgb25EaXNhYmxlID0gdmFycy5vbkRpc2FibGUsXG4gICAgICAgICAgb25DbGljayA9IHZhcnMub25DbGljayxcbiAgICAgICAgICBzY3JvbGxTcGVlZCA9IHZhcnMuc2Nyb2xsU3BlZWQsXG4gICAgICAgICAgY2FwdHVyZSA9IHZhcnMuY2FwdHVyZSxcbiAgICAgICAgICBhbGxvd0NsaWNrcyA9IHZhcnMuYWxsb3dDbGlja3MsXG4gICAgICAgICAgbG9ja0F4aXMgPSB2YXJzLmxvY2tBeGlzLFxuICAgICAgICAgIG9uTG9ja0F4aXMgPSB2YXJzLm9uTG9ja0F4aXM7XG4gICAgICB0aGlzLnRhcmdldCA9IHRhcmdldCA9IF9nZXRUYXJnZXQodGFyZ2V0KSB8fCBfZG9jRWw7XG4gICAgICB0aGlzLnZhcnMgPSB2YXJzO1xuICAgICAgaWdub3JlICYmIChpZ25vcmUgPSBnc2FwLnV0aWxzLnRvQXJyYXkoaWdub3JlKSk7XG4gICAgICB0b2xlcmFuY2UgPSB0b2xlcmFuY2UgfHwgMDtcbiAgICAgIGRyYWdNaW5pbXVtID0gZHJhZ01pbmltdW0gfHwgMDtcbiAgICAgIHdoZWVsU3BlZWQgPSB3aGVlbFNwZWVkIHx8IDE7XG4gICAgICBzY3JvbGxTcGVlZCA9IHNjcm9sbFNwZWVkIHx8IDE7XG4gICAgICB0eXBlID0gdHlwZSB8fCBcIndoZWVsLHRvdWNoLHBvaW50ZXJcIjtcbiAgICAgIGRlYm91bmNlID0gZGVib3VuY2UgIT09IGZhbHNlO1xuICAgICAgbGluZUhlaWdodCB8fCAobGluZUhlaWdodCA9IHBhcnNlRmxvYXQoX3dpbi5nZXRDb21wdXRlZFN0eWxlKF9ib2R5KS5saW5lSGVpZ2h0KSB8fCAyMik7XG5cbiAgICAgIHZhciBpZCxcbiAgICAgICAgICBvblN0b3BEZWxheWVkQ2FsbCxcbiAgICAgICAgICBkcmFnZ2VkLFxuICAgICAgICAgIG1vdmVkLFxuICAgICAgICAgIHdoZWVsZWQsXG4gICAgICAgICAgbG9ja2VkLFxuICAgICAgICAgIGF4aXMsXG4gICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgcHJldkRlbHRhWCA9IDAsXG4gICAgICAgICAgcHJldkRlbHRhWSA9IDAsXG4gICAgICAgICAgc2Nyb2xsRnVuY1ggPSBfZ2V0U2Nyb2xsRnVuYyh0YXJnZXQsIF9ob3Jpem9udGFsKSxcbiAgICAgICAgICBzY3JvbGxGdW5jWSA9IF9nZXRTY3JvbGxGdW5jKHRhcmdldCwgX3ZlcnRpY2FsKSxcbiAgICAgICAgICBzY3JvbGxYID0gc2Nyb2xsRnVuY1goKSxcbiAgICAgICAgICBzY3JvbGxZID0gc2Nyb2xsRnVuY1koKSxcbiAgICAgICAgICBsaW1pdFRvVG91Y2ggPSB+dHlwZS5pbmRleE9mKFwidG91Y2hcIikgJiYgIX50eXBlLmluZGV4T2YoXCJwb2ludGVyXCIpICYmIF9ldmVudFR5cGVzWzBdID09PSBcInBvaW50ZXJkb3duXCIsXG4gICAgICAgICAgaXNWaWV3cG9ydCA9IF9pc1ZpZXdwb3J0KHRhcmdldCksXG4gICAgICAgICAgb3duZXJEb2MgPSB0YXJnZXQub3duZXJEb2N1bWVudCB8fCBfZG9jLFxuICAgICAgICAgIGRlbHRhWCA9IFswLCAwLCAwXSxcbiAgICAgICAgICBkZWx0YVkgPSBbMCwgMCwgMF0sXG4gICAgICAgICAgb25DbGlja1RpbWUgPSAwLFxuICAgICAgICAgIGNsaWNrQ2FwdHVyZSA9IGZ1bmN0aW9uIGNsaWNrQ2FwdHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIG9uQ2xpY2tUaW1lID0gX2dldFRpbWUoKTtcbiAgICAgIH0sXG4gICAgICAgICAgX2lnbm9yZUNoZWNrID0gZnVuY3Rpb24gX2lnbm9yZUNoZWNrKGUsIGlzUG9pbnRlck9yVG91Y2gpIHtcbiAgICAgICAgcmV0dXJuIChzZWxmLmV2ZW50ID0gZSkgJiYgaWdub3JlICYmIH5pZ25vcmUuaW5kZXhPZihlLnRhcmdldCkgfHwgaXNQb2ludGVyT3JUb3VjaCAmJiBsaW1pdFRvVG91Y2ggJiYgZS5wb2ludGVyVHlwZSAhPT0gXCJ0b3VjaFwiIHx8IGlnbm9yZUNoZWNrICYmIGlnbm9yZUNoZWNrKGUsIGlzUG9pbnRlck9yVG91Y2gpO1xuICAgICAgfSxcbiAgICAgICAgICBvblN0b3BGdW5jID0gZnVuY3Rpb24gb25TdG9wRnVuYygpIHtcbiAgICAgICAgc2VsZi5fdngucmVzZXQoKTtcblxuICAgICAgICBzZWxmLl92eS5yZXNldCgpO1xuXG4gICAgICAgIG9uU3RvcERlbGF5ZWRDYWxsLnBhdXNlKCk7XG4gICAgICAgIG9uU3RvcCAmJiBvblN0b3Aoc2VsZik7XG4gICAgICB9LFxuICAgICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgdmFyIGR4ID0gc2VsZi5kZWx0YVggPSBfZ2V0QWJzb2x1dGVNYXgoZGVsdGFYKSxcbiAgICAgICAgICAgIGR5ID0gc2VsZi5kZWx0YVkgPSBfZ2V0QWJzb2x1dGVNYXgoZGVsdGFZKSxcbiAgICAgICAgICAgIGNoYW5nZWRYID0gTWF0aC5hYnMoZHgpID49IHRvbGVyYW5jZSxcbiAgICAgICAgICAgIGNoYW5nZWRZID0gTWF0aC5hYnMoZHkpID49IHRvbGVyYW5jZTtcblxuICAgICAgICBvbkNoYW5nZSAmJiAoY2hhbmdlZFggfHwgY2hhbmdlZFkpICYmIG9uQ2hhbmdlKHNlbGYsIGR4LCBkeSwgZGVsdGFYLCBkZWx0YVkpO1xuXG4gICAgICAgIGlmIChjaGFuZ2VkWCkge1xuICAgICAgICAgIG9uUmlnaHQgJiYgc2VsZi5kZWx0YVggPiAwICYmIG9uUmlnaHQoc2VsZik7XG4gICAgICAgICAgb25MZWZ0ICYmIHNlbGYuZGVsdGFYIDwgMCAmJiBvbkxlZnQoc2VsZik7XG4gICAgICAgICAgb25DaGFuZ2VYICYmIG9uQ2hhbmdlWChzZWxmKTtcbiAgICAgICAgICBvblRvZ2dsZVggJiYgc2VsZi5kZWx0YVggPCAwICE9PSBwcmV2RGVsdGFYIDwgMCAmJiBvblRvZ2dsZVgoc2VsZik7XG4gICAgICAgICAgcHJldkRlbHRhWCA9IHNlbGYuZGVsdGFYO1xuICAgICAgICAgIGRlbHRhWFswXSA9IGRlbHRhWFsxXSA9IGRlbHRhWFsyXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlZFkpIHtcbiAgICAgICAgICBvbkRvd24gJiYgc2VsZi5kZWx0YVkgPiAwICYmIG9uRG93bihzZWxmKTtcbiAgICAgICAgICBvblVwICYmIHNlbGYuZGVsdGFZIDwgMCAmJiBvblVwKHNlbGYpO1xuICAgICAgICAgIG9uQ2hhbmdlWSAmJiBvbkNoYW5nZVkoc2VsZik7XG4gICAgICAgICAgb25Ub2dnbGVZICYmIHNlbGYuZGVsdGFZIDwgMCAhPT0gcHJldkRlbHRhWSA8IDAgJiYgb25Ub2dnbGVZKHNlbGYpO1xuICAgICAgICAgIHByZXZEZWx0YVkgPSBzZWxmLmRlbHRhWTtcbiAgICAgICAgICBkZWx0YVlbMF0gPSBkZWx0YVlbMV0gPSBkZWx0YVlbMl0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vdmVkIHx8IGRyYWdnZWQpIHtcbiAgICAgICAgICBvbk1vdmUgJiYgb25Nb3ZlKHNlbGYpO1xuICAgICAgICAgIG9uTG9ja0F4aXMgJiYgbG9ja2VkICYmIG9uTG9ja0F4aXMoc2VsZik7XG5cbiAgICAgICAgICBpZiAoZHJhZ2dlZCkge1xuICAgICAgICAgICAgb25EcmFnKHNlbGYpO1xuICAgICAgICAgICAgZHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1vdmVkID0gbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2hlZWxlZCkge1xuICAgICAgICAgIG9uV2hlZWwoc2VsZik7XG4gICAgICAgICAgd2hlZWxlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWQgPSAwO1xuICAgICAgfSxcbiAgICAgICAgICBvbkRlbHRhID0gZnVuY3Rpb24gb25EZWx0YSh4LCB5LCBpbmRleCkge1xuICAgICAgICBkZWx0YVhbaW5kZXhdICs9IHg7XG4gICAgICAgIGRlbHRhWVtpbmRleF0gKz0geTtcblxuICAgICAgICBzZWxmLl92eC51cGRhdGUoeCk7XG5cbiAgICAgICAgc2VsZi5fdnkudXBkYXRlKHkpO1xuXG4gICAgICAgIGRlYm91bmNlID8gaWQgfHwgKGlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSkpIDogdXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgICAgIG9uVG91Y2hPclBvaW50ZXJEZWx0YSA9IGZ1bmN0aW9uIG9uVG91Y2hPclBvaW50ZXJEZWx0YSh4LCB5KSB7XG4gICAgICAgIGlmIChheGlzICE9PSBcInlcIikge1xuICAgICAgICAgIGRlbHRhWFsyXSArPSB4O1xuXG4gICAgICAgICAgc2VsZi5fdngudXBkYXRlKHgsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF4aXMgIT09IFwieFwiKSB7XG4gICAgICAgICAgZGVsdGFZWzJdICs9IHk7XG5cbiAgICAgICAgICBzZWxmLl92eS51cGRhdGUoeSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9ja0F4aXMgJiYgIWF4aXMpIHtcbiAgICAgICAgICBzZWxmLmF4aXMgPSBheGlzID0gTWF0aC5hYnMoeCkgPiBNYXRoLmFicyh5KSA/IFwieFwiIDogXCJ5XCI7XG4gICAgICAgICAgbG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlYm91bmNlID8gaWQgfHwgKGlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSkpIDogdXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgICAgIF9vbkRyYWcgPSBmdW5jdGlvbiBfb25EcmFnKGUpIHtcbiAgICAgICAgaWYgKF9pZ25vcmVDaGVjayhlLCAxKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGUgPSBfZ2V0RXZlbnQoZSwgcHJldmVudERlZmF1bHQpO1xuICAgICAgICB2YXIgeCA9IGUuY2xpZW50WCxcbiAgICAgICAgICAgIHkgPSBlLmNsaWVudFksXG4gICAgICAgICAgICBkeCA9IHggLSBzZWxmLngsXG4gICAgICAgICAgICBkeSA9IHkgLSBzZWxmLnksXG4gICAgICAgICAgICBpc0RyYWdnaW5nID0gc2VsZi5pc0RyYWdnaW5nO1xuICAgICAgICBzZWxmLnggPSB4O1xuICAgICAgICBzZWxmLnkgPSB5O1xuXG4gICAgICAgIGlmIChpc0RyYWdnaW5nIHx8IE1hdGguYWJzKHNlbGYuc3RhcnRYIC0geCkgPj0gZHJhZ01pbmltdW0gfHwgTWF0aC5hYnMoc2VsZi5zdGFydFkgLSB5KSA+PSBkcmFnTWluaW11bSkge1xuICAgICAgICAgIG9uRHJhZyAmJiAoZHJhZ2dlZCA9IHRydWUpO1xuICAgICAgICAgIGlzRHJhZ2dpbmcgfHwgKHNlbGYuaXNEcmFnZ2luZyA9IHRydWUpO1xuICAgICAgICAgIG9uVG91Y2hPclBvaW50ZXJEZWx0YShkeCwgZHkpO1xuICAgICAgICAgIGlzRHJhZ2dpbmcgfHwgb25EcmFnU3RhcnQgJiYgb25EcmFnU3RhcnQoc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAgICAgX29uUHJlc3MgPSBzZWxmLm9uUHJlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoX2lnbm9yZUNoZWNrKGUsIDEpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5heGlzID0gYXhpcyA9IG51bGw7XG4gICAgICAgIG9uU3RvcERlbGF5ZWRDYWxsLnBhdXNlKCk7XG4gICAgICAgIHNlbGYuaXNQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgZSA9IF9nZXRFdmVudChlKTtcbiAgICAgICAgcHJldkRlbHRhWCA9IHByZXZEZWx0YVkgPSAwO1xuICAgICAgICBzZWxmLnN0YXJ0WCA9IHNlbGYueCA9IGUuY2xpZW50WDtcbiAgICAgICAgc2VsZi5zdGFydFkgPSBzZWxmLnkgPSBlLmNsaWVudFk7XG5cbiAgICAgICAgc2VsZi5fdngucmVzZXQoKTtcblxuICAgICAgICBzZWxmLl92eS5yZXNldCgpO1xuXG4gICAgICAgIF9hZGRMaXN0ZW5lcihpc05vcm1hbGl6ZXIgPyB0YXJnZXQgOiBvd25lckRvYywgX2V2ZW50VHlwZXNbMV0sIF9vbkRyYWcsIHByZXZlbnREZWZhdWx0LCB0cnVlKTtcblxuICAgICAgICBzZWxmLmRlbHRhWCA9IHNlbGYuZGVsdGFZID0gMDtcbiAgICAgICAgb25QcmVzcyAmJiBvblByZXNzKHNlbGYpO1xuICAgICAgfSxcbiAgICAgICAgICBfb25SZWxlYXNlID0gZnVuY3Rpb24gX29uUmVsZWFzZShlKSB7XG4gICAgICAgIGlmIChfaWdub3JlQ2hlY2soZSwgMSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfcmVtb3ZlTGlzdGVuZXIoaXNOb3JtYWxpemVyID8gdGFyZ2V0IDogb3duZXJEb2MsIF9ldmVudFR5cGVzWzFdLCBfb25EcmFnLCB0cnVlKTtcblxuICAgICAgICB2YXIgd2FzRHJhZ2dpbmcgPSBzZWxmLmlzRHJhZ2dpbmcgJiYgKE1hdGguYWJzKHNlbGYueCAtIHNlbGYuc3RhcnRYKSA+IDMgfHwgTWF0aC5hYnMoc2VsZi55IC0gc2VsZi5zdGFydFkpID4gMyksXG4gICAgICAgICAgICBldmVudERhdGEgPSBfZ2V0RXZlbnQoZSk7XG5cbiAgICAgICAgaWYgKCF3YXNEcmFnZ2luZykge1xuICAgICAgICAgIHNlbGYuX3Z4LnJlc2V0KCk7XG5cbiAgICAgICAgICBzZWxmLl92eS5yZXNldCgpO1xuXG4gICAgICAgICAgaWYgKHByZXZlbnREZWZhdWx0ICYmIGFsbG93Q2xpY2tzKSB7XG4gICAgICAgICAgICBnc2FwLmRlbGF5ZWRDYWxsKDAuMDgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKF9nZXRUaW1lKCkgLSBvbkNsaWNrVGltZSA+IDMwMCAmJiAhZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGljaygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3duZXJEb2MuY3JlYXRlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBzeW50aGV0aWNFdmVudCA9IG93bmVyRG9jLmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7XG4gICAgICAgICAgICAgICAgICBzeW50aGV0aWNFdmVudC5pbml0TW91c2VFdmVudChcImNsaWNrXCIsIHRydWUsIHRydWUsIF93aW4sIDEsIGV2ZW50RGF0YS5zY3JlZW5YLCBldmVudERhdGEuc2NyZWVuWSwgZXZlbnREYXRhLmNsaWVudFgsIGV2ZW50RGF0YS5jbGllbnRZLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICBlLnRhcmdldC5kaXNwYXRjaEV2ZW50KHN5bnRoZXRpY0V2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuaXNEcmFnZ2luZyA9IHNlbGYuaXNHZXN0dXJpbmcgPSBzZWxmLmlzUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICBvblN0b3AgJiYgIWlzTm9ybWFsaXplciAmJiBvblN0b3BEZWxheWVkQ2FsbC5yZXN0YXJ0KHRydWUpO1xuICAgICAgICBvbkRyYWdFbmQgJiYgd2FzRHJhZ2dpbmcgJiYgb25EcmFnRW5kKHNlbGYpO1xuICAgICAgICBvblJlbGVhc2UgJiYgb25SZWxlYXNlKHNlbGYsIHdhc0RyYWdnaW5nKTtcbiAgICAgIH0sXG4gICAgICAgICAgX29uR2VzdHVyZVN0YXJ0ID0gZnVuY3Rpb24gX29uR2VzdHVyZVN0YXJ0KGUpIHtcbiAgICAgICAgcmV0dXJuIGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSAmJiAoc2VsZi5pc0dlc3R1cmluZyA9IHRydWUpICYmIG9uR2VzdHVyZVN0YXJ0KGUsIHNlbGYuaXNEcmFnZ2luZyk7XG4gICAgICB9LFxuICAgICAgICAgIF9vbkdlc3R1cmVFbmQgPSBmdW5jdGlvbiBfb25HZXN0dXJlRW5kKCkge1xuICAgICAgICByZXR1cm4gKHNlbGYuaXNHZXN0dXJpbmcgPSBmYWxzZSkgfHwgb25HZXN0dXJlRW5kKHNlbGYpO1xuICAgICAgfSxcbiAgICAgICAgICBvblNjcm9sbCA9IGZ1bmN0aW9uIG9uU2Nyb2xsKGUpIHtcbiAgICAgICAgaWYgKF9pZ25vcmVDaGVjayhlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4ID0gc2Nyb2xsRnVuY1goKSxcbiAgICAgICAgICAgIHkgPSBzY3JvbGxGdW5jWSgpO1xuICAgICAgICBvbkRlbHRhKCh4IC0gc2Nyb2xsWCkgKiBzY3JvbGxTcGVlZCwgKHkgLSBzY3JvbGxZKSAqIHNjcm9sbFNwZWVkLCAxKTtcbiAgICAgICAgc2Nyb2xsWCA9IHg7XG4gICAgICAgIHNjcm9sbFkgPSB5O1xuICAgICAgICBvblN0b3AgJiYgb25TdG9wRGVsYXllZENhbGwucmVzdGFydCh0cnVlKTtcbiAgICAgIH0sXG4gICAgICAgICAgX29uV2hlZWwgPSBmdW5jdGlvbiBfb25XaGVlbChlKSB7XG4gICAgICAgIGlmIChfaWdub3JlQ2hlY2soZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlID0gX2dldEV2ZW50KGUsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgb25XaGVlbCAmJiAod2hlZWxlZCA9IHRydWUpO1xuICAgICAgICB2YXIgbXVsdGlwbGllciA9IChlLmRlbHRhTW9kZSA9PT0gMSA/IGxpbmVIZWlnaHQgOiBlLmRlbHRhTW9kZSA9PT0gMiA/IF93aW4uaW5uZXJIZWlnaHQgOiAxKSAqIHdoZWVsU3BlZWQ7XG4gICAgICAgIG9uRGVsdGEoZS5kZWx0YVggKiBtdWx0aXBsaWVyLCBlLmRlbHRhWSAqIG11bHRpcGxpZXIsIDApO1xuICAgICAgICBvblN0b3AgJiYgIWlzTm9ybWFsaXplciAmJiBvblN0b3BEZWxheWVkQ2FsbC5yZXN0YXJ0KHRydWUpO1xuICAgICAgfSxcbiAgICAgICAgICBfb25Nb3ZlID0gZnVuY3Rpb24gX29uTW92ZShlKSB7XG4gICAgICAgIGlmIChfaWdub3JlQ2hlY2soZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeCA9IGUuY2xpZW50WCxcbiAgICAgICAgICAgIHkgPSBlLmNsaWVudFksXG4gICAgICAgICAgICBkeCA9IHggLSBzZWxmLngsXG4gICAgICAgICAgICBkeSA9IHkgLSBzZWxmLnk7XG4gICAgICAgIHNlbGYueCA9IHg7XG4gICAgICAgIHNlbGYueSA9IHk7XG4gICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgKGR4IHx8IGR5KSAmJiBvblRvdWNoT3JQb2ludGVyRGVsdGEoZHgsIGR5KTtcbiAgICAgIH0sXG4gICAgICAgICAgX29uSG92ZXIgPSBmdW5jdGlvbiBfb25Ib3ZlcihlKSB7XG4gICAgICAgIHNlbGYuZXZlbnQgPSBlO1xuICAgICAgICBvbkhvdmVyKHNlbGYpO1xuICAgICAgfSxcbiAgICAgICAgICBfb25Ib3ZlckVuZCA9IGZ1bmN0aW9uIF9vbkhvdmVyRW5kKGUpIHtcbiAgICAgICAgc2VsZi5ldmVudCA9IGU7XG4gICAgICAgIG9uSG92ZXJFbmQoc2VsZik7XG4gICAgICB9LFxuICAgICAgICAgIF9vbkNsaWNrID0gZnVuY3Rpb24gX29uQ2xpY2soZSkge1xuICAgICAgICByZXR1cm4gX2lnbm9yZUNoZWNrKGUpIHx8IF9nZXRFdmVudChlLCBwcmV2ZW50RGVmYXVsdCkgJiYgb25DbGljayhzZWxmKTtcbiAgICAgIH07XG5cbiAgICAgIG9uU3RvcERlbGF5ZWRDYWxsID0gc2VsZi5fZGMgPSBnc2FwLmRlbGF5ZWRDYWxsKG9uU3RvcERlbGF5IHx8IDAuMjUsIG9uU3RvcEZ1bmMpLnBhdXNlKCk7XG4gICAgICBzZWxmLmRlbHRhWCA9IHNlbGYuZGVsdGFZID0gMDtcbiAgICAgIHNlbGYuX3Z4ID0gX2dldFZlbG9jaXR5UHJvcCgwLCA1MCwgdHJ1ZSk7XG4gICAgICBzZWxmLl92eSA9IF9nZXRWZWxvY2l0eVByb3AoMCwgNTAsIHRydWUpO1xuICAgICAgc2VsZi5zY3JvbGxYID0gc2Nyb2xsRnVuY1g7XG4gICAgICBzZWxmLnNjcm9sbFkgPSBzY3JvbGxGdW5jWTtcbiAgICAgIHNlbGYuaXNEcmFnZ2luZyA9IHNlbGYuaXNHZXN0dXJpbmcgPSBzZWxmLmlzUHJlc3NlZCA9IGZhbHNlO1xuXG4gICAgICBzZWxmLmVuYWJsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghc2VsZi5pc0VuYWJsZWQpIHtcbiAgICAgICAgICBfYWRkTGlzdGVuZXIoaXNWaWV3cG9ydCA/IG93bmVyRG9jIDogdGFyZ2V0LCBcInNjcm9sbFwiLCBfb25TY3JvbGwpO1xuXG4gICAgICAgICAgdHlwZS5pbmRleE9mKFwic2Nyb2xsXCIpID49IDAgJiYgX2FkZExpc3RlbmVyKGlzVmlld3BvcnQgPyBvd25lckRvYyA6IHRhcmdldCwgXCJzY3JvbGxcIiwgb25TY3JvbGwsIHByZXZlbnREZWZhdWx0LCBjYXB0dXJlKTtcbiAgICAgICAgICB0eXBlLmluZGV4T2YoXCJ3aGVlbFwiKSA+PSAwICYmIF9hZGRMaXN0ZW5lcih0YXJnZXQsIFwid2hlZWxcIiwgX29uV2hlZWwsIHByZXZlbnREZWZhdWx0LCBjYXB0dXJlKTtcblxuICAgICAgICAgIGlmICh0eXBlLmluZGV4T2YoXCJ0b3VjaFwiKSA+PSAwICYmIF9pc1RvdWNoIHx8IHR5cGUuaW5kZXhPZihcInBvaW50ZXJcIikgPj0gMCkge1xuICAgICAgICAgICAgX2FkZExpc3RlbmVyKHRhcmdldCwgX2V2ZW50VHlwZXNbMF0sIF9vblByZXNzLCBwcmV2ZW50RGVmYXVsdCwgY2FwdHVyZSk7XG5cbiAgICAgICAgICAgIF9hZGRMaXN0ZW5lcihvd25lckRvYywgX2V2ZW50VHlwZXNbMl0sIF9vblJlbGVhc2UpO1xuXG4gICAgICAgICAgICBfYWRkTGlzdGVuZXIob3duZXJEb2MsIF9ldmVudFR5cGVzWzNdLCBfb25SZWxlYXNlKTtcblxuICAgICAgICAgICAgYWxsb3dDbGlja3MgJiYgX2FkZExpc3RlbmVyKHRhcmdldCwgXCJjbGlja1wiLCBjbGlja0NhcHR1cmUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIG9uQ2xpY2sgJiYgX2FkZExpc3RlbmVyKHRhcmdldCwgXCJjbGlja1wiLCBfb25DbGljayk7XG4gICAgICAgICAgICBvbkdlc3R1cmVTdGFydCAmJiBfYWRkTGlzdGVuZXIob3duZXJEb2MsIFwiZ2VzdHVyZXN0YXJ0XCIsIF9vbkdlc3R1cmVTdGFydCk7XG4gICAgICAgICAgICBvbkdlc3R1cmVFbmQgJiYgX2FkZExpc3RlbmVyKG93bmVyRG9jLCBcImdlc3R1cmVlbmRcIiwgX29uR2VzdHVyZUVuZCk7XG4gICAgICAgICAgICBvbkhvdmVyICYmIF9hZGRMaXN0ZW5lcih0YXJnZXQsIF9wb2ludGVyVHlwZSArIFwiZW50ZXJcIiwgX29uSG92ZXIpO1xuICAgICAgICAgICAgb25Ib3ZlckVuZCAmJiBfYWRkTGlzdGVuZXIodGFyZ2V0LCBfcG9pbnRlclR5cGUgKyBcImxlYXZlXCIsIF9vbkhvdmVyRW5kKTtcbiAgICAgICAgICAgIG9uTW92ZSAmJiBfYWRkTGlzdGVuZXIodGFyZ2V0LCBfcG9pbnRlclR5cGUgKyBcIm1vdmVcIiwgX29uTW92ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGUgJiYgZS50eXBlICYmIF9vblByZXNzKGUpO1xuICAgICAgICAgIG9uRW5hYmxlICYmIG9uRW5hYmxlKHNlbGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzZWxmLmlzRW5hYmxlZCkge1xuICAgICAgICAgIF9vYnNlcnZlcnMuZmlsdGVyKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICByZXR1cm4gbyAhPT0gc2VsZiAmJiBfaXNWaWV3cG9ydChvLnRhcmdldCk7XG4gICAgICAgICAgfSkubGVuZ3RoIHx8IF9yZW1vdmVMaXN0ZW5lcihpc1ZpZXdwb3J0ID8gb3duZXJEb2MgOiB0YXJnZXQsIFwic2Nyb2xsXCIsIF9vblNjcm9sbCk7XG5cbiAgICAgICAgICBpZiAoc2VsZi5pc1ByZXNzZWQpIHtcbiAgICAgICAgICAgIHNlbGYuX3Z4LnJlc2V0KCk7XG5cbiAgICAgICAgICAgIHNlbGYuX3Z5LnJlc2V0KCk7XG5cbiAgICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcihpc05vcm1hbGl6ZXIgPyB0YXJnZXQgOiBvd25lckRvYywgX2V2ZW50VHlwZXNbMV0sIF9vbkRyYWcsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcihpc1ZpZXdwb3J0ID8gb3duZXJEb2MgOiB0YXJnZXQsIFwic2Nyb2xsXCIsIG9uU2Nyb2xsLCBjYXB0dXJlKTtcblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcih0YXJnZXQsIFwid2hlZWxcIiwgX29uV2hlZWwsIGNhcHR1cmUpO1xuXG4gICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKHRhcmdldCwgX2V2ZW50VHlwZXNbMF0sIF9vblByZXNzLCBjYXB0dXJlKTtcblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcihvd25lckRvYywgX2V2ZW50VHlwZXNbMl0sIF9vblJlbGVhc2UpO1xuXG4gICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKG93bmVyRG9jLCBfZXZlbnRUeXBlc1szXSwgX29uUmVsZWFzZSk7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIodGFyZ2V0LCBcImNsaWNrXCIsIGNsaWNrQ2FwdHVyZSwgdHJ1ZSk7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIodGFyZ2V0LCBcImNsaWNrXCIsIF9vbkNsaWNrKTtcblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcihvd25lckRvYywgXCJnZXN0dXJlc3RhcnRcIiwgX29uR2VzdHVyZVN0YXJ0KTtcblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcihvd25lckRvYywgXCJnZXN0dXJlZW5kXCIsIF9vbkdlc3R1cmVFbmQpO1xuXG4gICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKHRhcmdldCwgX3BvaW50ZXJUeXBlICsgXCJlbnRlclwiLCBfb25Ib3Zlcik7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIodGFyZ2V0LCBfcG9pbnRlclR5cGUgKyBcImxlYXZlXCIsIF9vbkhvdmVyRW5kKTtcblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcih0YXJnZXQsIF9wb2ludGVyVHlwZSArIFwibW92ZVwiLCBfb25Nb3ZlKTtcblxuICAgICAgICAgIHNlbGYuaXNFbmFibGVkID0gc2VsZi5pc1ByZXNzZWQgPSBzZWxmLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICBvbkRpc2FibGUgJiYgb25EaXNhYmxlKHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmtpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuZGlzYWJsZSgpO1xuXG4gICAgICAgIHZhciBpID0gX29ic2VydmVycy5pbmRleE9mKHNlbGYpO1xuXG4gICAgICAgIGkgPj0gMCAmJiBfb2JzZXJ2ZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgX25vcm1hbGl6ZXIgPT09IHNlbGYgJiYgKF9ub3JtYWxpemVyID0gMCk7XG4gICAgICB9O1xuXG4gICAgICBfb2JzZXJ2ZXJzLnB1c2goc2VsZik7XG5cbiAgICAgIGlzTm9ybWFsaXplciAmJiBfaXNWaWV3cG9ydCh0YXJnZXQpICYmIChfbm9ybWFsaXplciA9IHNlbGYpO1xuICAgICAgc2VsZi5lbmFibGUoZXZlbnQpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoT2JzZXJ2ZXIsIFt7XG4gICAgICBrZXk6IFwidmVsb2NpdHlYXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Z4LmdldFZlbG9jaXR5KCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInZlbG9jaXR5WVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92eS5nZXRWZWxvY2l0eSgpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBPYnNlcnZlcjtcbiAgfSgpO1xuICBPYnNlcnZlci52ZXJzaW9uID0gXCIzLjEwLjRcIjtcblxuICBPYnNlcnZlci5jcmVhdGUgPSBmdW5jdGlvbiAodmFycykge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2ZXIodmFycyk7XG4gIH07XG5cbiAgT2JzZXJ2ZXIucmVnaXN0ZXIgPSBfaW5pdENvcmU7XG5cbiAgT2JzZXJ2ZXIuZ2V0QWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gIH07XG5cbiAgT2JzZXJ2ZXIuZ2V0QnlJZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiBfb2JzZXJ2ZXJzLmZpbHRlcihmdW5jdGlvbiAobykge1xuICAgICAgcmV0dXJuIG8udmFycy5pZCA9PT0gaWQ7XG4gICAgfSlbMF07XG4gIH07XG5cbiAgX2dldEdTQVAoKSAmJiBnc2FwLnJlZ2lzdGVyUGx1Z2luKE9ic2VydmVyKTtcblxuICAvKiFcbiAgICogU2Nyb2xsVHJpZ2dlciAzLjEwLjRcbiAgICogaHR0cHM6Ly9ncmVlbnNvY2suY29tXG4gICAqXG4gICAqIEBsaWNlbnNlIENvcHlyaWdodCAyMDA4LTIwMjIsIEdyZWVuU29jay4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgICogU3ViamVjdCB0byB0aGUgdGVybXMgYXQgaHR0cHM6Ly9ncmVlbnNvY2suY29tL3N0YW5kYXJkLWxpY2Vuc2Ugb3IgZm9yXG4gICAqIENsdWIgR3JlZW5Tb2NrIG1lbWJlcnMsIHRoZSBhZ3JlZW1lbnQgaXNzdWVkIHdpdGggdGhhdCBtZW1iZXJzaGlwLlxuICAgKiBAYXV0aG9yOiBKYWNrIERveWxlLCBqYWNrQGdyZWVuc29jay5jb21cbiAgKi9cblxuICB2YXIgZ3NhcCQxLFxuICAgICAgX2NvcmVJbml0dGVkJDEsXG4gICAgICBfd2luJDEsXG4gICAgICBfZG9jJDEsXG4gICAgICBfZG9jRWwkMSxcbiAgICAgIF9ib2R5JDEsXG4gICAgICBfcm9vdCQxLFxuICAgICAgX3Jlc2l6ZURlbGF5LFxuICAgICAgX3RvQXJyYXksXG4gICAgICBfY2xhbXAkMSxcbiAgICAgIF90aW1lMixcbiAgICAgIF9zeW5jSW50ZXJ2YWwsXG4gICAgICBfcmVmcmVzaGluZyxcbiAgICAgIF9wb2ludGVySXNEb3duLFxuICAgICAgX3RyYW5zZm9ybVByb3AsXG4gICAgICBfaSxcbiAgICAgIF9wcmV2V2lkdGgsXG4gICAgICBfcHJldkhlaWdodCxcbiAgICAgIF9hdXRvUmVmcmVzaCxcbiAgICAgIF9zb3J0LFxuICAgICAgX3N1cHByZXNzT3ZlcndyaXRlcyxcbiAgICAgIF9pZ25vcmVSZXNpemUsXG4gICAgICBfbm9ybWFsaXplciQxLFxuICAgICAgX2lnbm9yZU1vYmlsZVJlc2l6ZSxcbiAgICAgIF9iYXNlU2NyZWVuSGVpZ2h0LFxuICAgICAgX2Jhc2VTY3JlZW5XaWR0aCxcbiAgICAgIF9maXhJT1NCdWcsXG4gICAgICBfbGltaXRDYWxsYmFja3MsXG4gICAgICBfc3RhcnR1cCQxID0gMSxcbiAgICAgIF9nZXRUaW1lJDEgPSBEYXRlLm5vdyxcbiAgICAgIF90aW1lMSA9IF9nZXRUaW1lJDEoKSxcbiAgICAgIF9sYXN0U2Nyb2xsVGltZSA9IDAsXG4gICAgICBfZW5hYmxlZCA9IDAsXG4gICAgICBfcG9pbnRlckRvd25IYW5kbGVyID0gZnVuY3Rpb24gX3BvaW50ZXJEb3duSGFuZGxlcigpIHtcbiAgICByZXR1cm4gX3BvaW50ZXJJc0Rvd24gPSAxO1xuICB9LFxuICAgICAgX3BvaW50ZXJVcEhhbmRsZXIgPSBmdW5jdGlvbiBfcG9pbnRlclVwSGFuZGxlcigpIHtcbiAgICByZXR1cm4gX3BvaW50ZXJJc0Rvd24gPSAwO1xuICB9LFxuICAgICAgX3Bhc3NUaHJvdWdoID0gZnVuY3Rpb24gX3Bhc3NUaHJvdWdoKHYpIHtcbiAgICByZXR1cm4gdjtcbiAgfSxcbiAgICAgIF9yb3VuZCA9IGZ1bmN0aW9uIF9yb3VuZCh2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogMTAwMDAwKSAvIDEwMDAwMCB8fCAwO1xuICB9LFxuICAgICAgX3dpbmRvd0V4aXN0cyA9IGZ1bmN0aW9uIF93aW5kb3dFeGlzdHMoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG4gIH0sXG4gICAgICBfZ2V0R1NBUCQxID0gZnVuY3Rpb24gX2dldEdTQVAoKSB7XG4gICAgcmV0dXJuIGdzYXAkMSB8fCBfd2luZG93RXhpc3RzKCkgJiYgKGdzYXAkMSA9IHdpbmRvdy5nc2FwKSAmJiBnc2FwJDEucmVnaXN0ZXJQbHVnaW4gJiYgZ3NhcCQxO1xuICB9LFxuICAgICAgX2lzVmlld3BvcnQkMSA9IGZ1bmN0aW9uIF9pc1ZpZXdwb3J0KGUpIHtcbiAgICByZXR1cm4gISF+X3Jvb3QkMS5pbmRleE9mKGUpO1xuICB9LFxuICAgICAgX2dldEJvdW5kc0Z1bmMgPSBmdW5jdGlvbiBfZ2V0Qm91bmRzRnVuYyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIF9nZXRQcm94eVByb3AoZWxlbWVudCwgXCJnZXRCb3VuZGluZ0NsaWVudFJlY3RcIikgfHwgKF9pc1ZpZXdwb3J0JDEoZWxlbWVudCkgPyBmdW5jdGlvbiAoKSB7XG4gICAgICBfd2luT2Zmc2V0cy53aWR0aCA9IF93aW4kMS5pbm5lcldpZHRoO1xuICAgICAgX3dpbk9mZnNldHMuaGVpZ2h0ID0gX3dpbiQxLmlubmVySGVpZ2h0O1xuICAgICAgcmV0dXJuIF93aW5PZmZzZXRzO1xuICAgIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX2dldEJvdW5kcyhlbGVtZW50KTtcbiAgICB9KTtcbiAgfSxcbiAgICAgIF9nZXRTaXplRnVuYyA9IGZ1bmN0aW9uIF9nZXRTaXplRnVuYyhzY3JvbGxlciwgaXNWaWV3cG9ydCwgX3JlZikge1xuICAgIHZhciBkID0gX3JlZi5kLFxuICAgICAgICBkMiA9IF9yZWYuZDIsXG4gICAgICAgIGEgPSBfcmVmLmE7XG4gICAgcmV0dXJuIChhID0gX2dldFByb3h5UHJvcChzY3JvbGxlciwgXCJnZXRCb3VuZGluZ0NsaWVudFJlY3RcIikpID8gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoKVtkXTtcbiAgICB9IDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChpc1ZpZXdwb3J0ID8gX3dpbiQxW1wiaW5uZXJcIiArIGQyXSA6IHNjcm9sbGVyW1wiY2xpZW50XCIgKyBkMl0pIHx8IDA7XG4gICAgfTtcbiAgfSxcbiAgICAgIF9nZXRPZmZzZXRzRnVuYyA9IGZ1bmN0aW9uIF9nZXRPZmZzZXRzRnVuYyhlbGVtZW50LCBpc1ZpZXdwb3J0KSB7XG4gICAgcmV0dXJuICFpc1ZpZXdwb3J0IHx8IH5fcHJveGllcy5pbmRleE9mKGVsZW1lbnQpID8gX2dldEJvdW5kc0Z1bmMoZWxlbWVudCkgOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3dpbk9mZnNldHM7XG4gICAgfTtcbiAgfSxcbiAgICAgIF9tYXhTY3JvbGwgPSBmdW5jdGlvbiBfbWF4U2Nyb2xsKGVsZW1lbnQsIF9yZWYyKSB7XG4gICAgdmFyIHMgPSBfcmVmMi5zLFxuICAgICAgICBkMiA9IF9yZWYyLmQyLFxuICAgICAgICBkID0gX3JlZjIuZCxcbiAgICAgICAgYSA9IF9yZWYyLmE7XG4gICAgcmV0dXJuIChzID0gXCJzY3JvbGxcIiArIGQyKSAmJiAoYSA9IF9nZXRQcm94eVByb3AoZWxlbWVudCwgcykpID8gYSgpIC0gX2dldEJvdW5kc0Z1bmMoZWxlbWVudCkoKVtkXSA6IF9pc1ZpZXdwb3J0JDEoZWxlbWVudCkgPyAoX2RvY0VsJDFbc10gfHwgX2JvZHkkMVtzXSkgLSAoX3dpbiQxW1wiaW5uZXJcIiArIGQyXSB8fCBfZG9jRWwkMVtcImNsaWVudFwiICsgZDJdIHx8IF9ib2R5JDFbXCJjbGllbnRcIiArIGQyXSkgOiBlbGVtZW50W3NdIC0gZWxlbWVudFtcIm9mZnNldFwiICsgZDJdO1xuICB9LFxuICAgICAgX2l0ZXJhdGVBdXRvUmVmcmVzaCA9IGZ1bmN0aW9uIF9pdGVyYXRlQXV0b1JlZnJlc2goZnVuYywgZXZlbnRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfYXV0b1JlZnJlc2gubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICghZXZlbnRzIHx8IH5ldmVudHMuaW5kZXhPZihfYXV0b1JlZnJlc2hbaSArIDFdKSkgJiYgZnVuYyhfYXV0b1JlZnJlc2hbaV0sIF9hdXRvUmVmcmVzaFtpICsgMV0sIF9hdXRvUmVmcmVzaFtpICsgMl0pO1xuICAgIH1cbiAgfSxcbiAgICAgIF9pc1N0cmluZyA9IGZ1bmN0aW9uIF9pc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCI7XG4gIH0sXG4gICAgICBfaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIF9pc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiO1xuICB9LFxuICAgICAgX2lzTnVtYmVyID0gZnVuY3Rpb24gX2lzTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIjtcbiAgfSxcbiAgICAgIF9pc09iamVjdCA9IGZ1bmN0aW9uIF9pc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG4gIH0sXG4gICAgICBfY2FsbElmRnVuYyA9IGZ1bmN0aW9uIF9jYWxsSWZGdW5jKHZhbHVlKSB7XG4gICAgcmV0dXJuIF9pc0Z1bmN0aW9uKHZhbHVlKSAmJiB2YWx1ZSgpO1xuICB9LFxuICAgICAgX2NvbWJpbmVGdW5jID0gZnVuY3Rpb24gX2NvbWJpbmVGdW5jKGYxLCBmMikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0MSA9IF9jYWxsSWZGdW5jKGYxKSxcbiAgICAgICAgICByZXN1bHQyID0gX2NhbGxJZkZ1bmMoZjIpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfY2FsbElmRnVuYyhyZXN1bHQxKTtcblxuICAgICAgICBfY2FsbElmRnVuYyhyZXN1bHQyKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfSxcbiAgICAgIF9lbmRBbmltYXRpb24gPSBmdW5jdGlvbiBfZW5kQW5pbWF0aW9uKGFuaW1hdGlvbiwgcmV2ZXJzZWQsIHBhdXNlKSB7XG4gICAgcmV0dXJuIGFuaW1hdGlvbiAmJiBhbmltYXRpb24ucHJvZ3Jlc3MocmV2ZXJzZWQgPyAwIDogMSkgJiYgcGF1c2UgJiYgYW5pbWF0aW9uLnBhdXNlKCk7XG4gIH0sXG4gICAgICBfY2FsbGJhY2sgPSBmdW5jdGlvbiBfY2FsbGJhY2soc2VsZiwgZnVuYykge1xuICAgIGlmIChzZWxmLmVuYWJsZWQpIHtcbiAgICAgIHZhciByZXN1bHQgPSBmdW5jKHNlbGYpO1xuICAgICAgcmVzdWx0ICYmIHJlc3VsdC50b3RhbFRpbWUgJiYgKHNlbGYuY2FsbGJhY2tBbmltYXRpb24gPSByZXN1bHQpO1xuICAgIH1cbiAgfSxcbiAgICAgIF9hYnMgPSBNYXRoLmFicyxcbiAgICAgIF9sZWZ0ID0gXCJsZWZ0XCIsXG4gICAgICBfdG9wID0gXCJ0b3BcIixcbiAgICAgIF9yaWdodCA9IFwicmlnaHRcIixcbiAgICAgIF9ib3R0b20gPSBcImJvdHRvbVwiLFxuICAgICAgX3dpZHRoID0gXCJ3aWR0aFwiLFxuICAgICAgX2hlaWdodCA9IFwiaGVpZ2h0XCIsXG4gICAgICBfUmlnaHQgPSBcIlJpZ2h0XCIsXG4gICAgICBfTGVmdCA9IFwiTGVmdFwiLFxuICAgICAgX1RvcCA9IFwiVG9wXCIsXG4gICAgICBfQm90dG9tID0gXCJCb3R0b21cIixcbiAgICAgIF9wYWRkaW5nID0gXCJwYWRkaW5nXCIsXG4gICAgICBfbWFyZ2luID0gXCJtYXJnaW5cIixcbiAgICAgIF9XaWR0aCA9IFwiV2lkdGhcIixcbiAgICAgIF9IZWlnaHQgPSBcIkhlaWdodFwiLFxuICAgICAgX3B4ID0gXCJweFwiLFxuICAgICAgX2dldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbiBfZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gICAgcmV0dXJuIF93aW4kMS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB9LFxuICAgICAgX21ha2VQb3NpdGlvbmFibGUgPSBmdW5jdGlvbiBfbWFrZVBvc2l0aW9uYWJsZShlbGVtZW50KSB7XG4gICAgdmFyIHBvc2l0aW9uID0gX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb247XG5cbiAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gcG9zaXRpb24gOiBcInJlbGF0aXZlXCI7XG4gIH0sXG4gICAgICBfc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiBfc2V0RGVmYXVsdHMob2JqLCBkZWZhdWx0cykge1xuICAgIGZvciAodmFyIHAgaW4gZGVmYXVsdHMpIHtcbiAgICAgIHAgaW4gb2JqIHx8IChvYmpbcF0gPSBkZWZhdWx0c1twXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgICAgIF9nZXRCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Qm91bmRzKGVsZW1lbnQsIHdpdGhvdXRUcmFuc2Zvcm1zKSB7XG4gICAgdmFyIHR3ZWVuID0gd2l0aG91dFRyYW5zZm9ybXMgJiYgX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudClbX3RyYW5zZm9ybVByb3BdICE9PSBcIm1hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKVwiICYmIGdzYXAkMS50byhlbGVtZW50LCB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHhQZXJjZW50OiAwLFxuICAgICAgeVBlcmNlbnQ6IDAsXG4gICAgICByb3RhdGlvbjogMCxcbiAgICAgIHJvdGF0aW9uWDogMCxcbiAgICAgIHJvdGF0aW9uWTogMCxcbiAgICAgIHNjYWxlOiAxLFxuICAgICAgc2tld1g6IDAsXG4gICAgICBza2V3WTogMFxuICAgIH0pLnByb2dyZXNzKDEpLFxuICAgICAgICBib3VuZHMgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHR3ZWVuICYmIHR3ZWVuLnByb2dyZXNzKDApLmtpbGwoKTtcbiAgICByZXR1cm4gYm91bmRzO1xuICB9LFxuICAgICAgX2dldFNpemUgPSBmdW5jdGlvbiBfZ2V0U2l6ZShlbGVtZW50LCBfcmVmMykge1xuICAgIHZhciBkMiA9IF9yZWYzLmQyO1xuICAgIHJldHVybiBlbGVtZW50W1wib2Zmc2V0XCIgKyBkMl0gfHwgZWxlbWVudFtcImNsaWVudFwiICsgZDJdIHx8IDA7XG4gIH0sXG4gICAgICBfZ2V0TGFiZWxSYXRpb0FycmF5ID0gZnVuY3Rpb24gX2dldExhYmVsUmF0aW9BcnJheSh0aW1lbGluZSkge1xuICAgIHZhciBhID0gW10sXG4gICAgICAgIGxhYmVscyA9IHRpbWVsaW5lLmxhYmVscyxcbiAgICAgICAgZHVyYXRpb24gPSB0aW1lbGluZS5kdXJhdGlvbigpLFxuICAgICAgICBwO1xuXG4gICAgZm9yIChwIGluIGxhYmVscykge1xuICAgICAgYS5wdXNoKGxhYmVsc1twXSAvIGR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfSxcbiAgICAgIF9nZXRDbG9zZXN0TGFiZWwgPSBmdW5jdGlvbiBfZ2V0Q2xvc2VzdExhYmVsKGFuaW1hdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBnc2FwJDEudXRpbHMuc25hcChfZ2V0TGFiZWxSYXRpb0FycmF5KGFuaW1hdGlvbiksIHZhbHVlKTtcbiAgICB9O1xuICB9LFxuICAgICAgX3NuYXBEaXJlY3Rpb25hbCA9IGZ1bmN0aW9uIF9zbmFwRGlyZWN0aW9uYWwoc25hcEluY3JlbWVudE9yQXJyYXkpIHtcbiAgICB2YXIgc25hcCA9IGdzYXAkMS51dGlscy5zbmFwKHNuYXBJbmNyZW1lbnRPckFycmF5KSxcbiAgICAgICAgYSA9IEFycmF5LmlzQXJyYXkoc25hcEluY3JlbWVudE9yQXJyYXkpICYmIHNuYXBJbmNyZW1lbnRPckFycmF5LnNsaWNlKDApLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhIC0gYjtcbiAgICB9KTtcbiAgICByZXR1cm4gYSA/IGZ1bmN0aW9uICh2YWx1ZSwgZGlyZWN0aW9uLCB0aHJlc2hvbGQpIHtcbiAgICAgIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJlc2hvbGQgPSAxZS0zO1xuICAgICAgfVxuXG4gICAgICB2YXIgaTtcblxuICAgICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHNuYXAodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xuICAgICAgICB2YWx1ZSAtPSB0aHJlc2hvbGQ7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoYVtpXSA+PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFbaSAtIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IGEubGVuZ3RoO1xuICAgICAgICB2YWx1ZSArPSB0aHJlc2hvbGQ7XG5cbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIGlmIChhW2ldIDw9IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYVtpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFbMF07XG4gICAgfSA6IGZ1bmN0aW9uICh2YWx1ZSwgZGlyZWN0aW9uLCB0aHJlc2hvbGQpIHtcbiAgICAgIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJlc2hvbGQgPSAxZS0zO1xuICAgICAgfVxuXG4gICAgICB2YXIgc25hcHBlZCA9IHNuYXAodmFsdWUpO1xuICAgICAgcmV0dXJuICFkaXJlY3Rpb24gfHwgTWF0aC5hYnMoc25hcHBlZCAtIHZhbHVlKSA8IHRocmVzaG9sZCB8fCBzbmFwcGVkIC0gdmFsdWUgPCAwID09PSBkaXJlY3Rpb24gPCAwID8gc25hcHBlZCA6IHNuYXAoZGlyZWN0aW9uIDwgMCA/IHZhbHVlIC0gc25hcEluY3JlbWVudE9yQXJyYXkgOiB2YWx1ZSArIHNuYXBJbmNyZW1lbnRPckFycmF5KTtcbiAgICB9O1xuICB9LFxuICAgICAgX2dldExhYmVsQXREaXJlY3Rpb24gPSBmdW5jdGlvbiBfZ2V0TGFiZWxBdERpcmVjdGlvbih0aW1lbGluZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUsIHN0KSB7XG4gICAgICByZXR1cm4gX3NuYXBEaXJlY3Rpb25hbChfZ2V0TGFiZWxSYXRpb0FycmF5KHRpbWVsaW5lKSkodmFsdWUsIHN0LmRpcmVjdGlvbik7XG4gICAgfTtcbiAgfSxcbiAgICAgIF9tdWx0aUxpc3RlbmVyID0gZnVuY3Rpb24gX211bHRpTGlzdGVuZXIoZnVuYywgZWxlbWVudCwgdHlwZXMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHR5cGVzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICByZXR1cm4gZnVuYyhlbGVtZW50LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH0sXG4gICAgICBfYWRkTGlzdGVuZXIkMSA9IGZ1bmN0aW9uIF9hZGRMaXN0ZW5lcihlbGVtZW50LCB0eXBlLCBmdW5jLCBub25QYXNzaXZlLCBjYXB0dXJlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jLCB7XG4gICAgICBwYXNzaXZlOiAhbm9uUGFzc2l2ZSxcbiAgICAgIGNhcHR1cmU6ICEhY2FwdHVyZVxuICAgIH0pO1xuICB9LFxuICAgICAgX3JlbW92ZUxpc3RlbmVyJDEgPSBmdW5jdGlvbiBfcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgZnVuYywgY2FwdHVyZSkge1xuICAgIHJldHVybiBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZnVuYywgISFjYXB0dXJlKTtcbiAgfSxcbiAgICAgIF93aGVlbExpc3RlbmVyID0gZnVuY3Rpb24gX3doZWVsTGlzdGVuZXIoZnVuYywgZWwsIHNjcm9sbEZ1bmMpIHtcbiAgICByZXR1cm4gc2Nyb2xsRnVuYyAmJiBzY3JvbGxGdW5jLndoZWVsSGFuZGxlciAmJiBmdW5jKGVsLCBcIndoZWVsXCIsIHNjcm9sbEZ1bmMpO1xuICB9LFxuICAgICAgX21hcmtlckRlZmF1bHRzID0ge1xuICAgIHN0YXJ0Q29sb3I6IFwiZ3JlZW5cIixcbiAgICBlbmRDb2xvcjogXCJyZWRcIixcbiAgICBpbmRlbnQ6IDAsXG4gICAgZm9udFNpemU6IFwiMTZweFwiLFxuICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCJcbiAgfSxcbiAgICAgIF9kZWZhdWx0cyA9IHtcbiAgICB0b2dnbGVBY3Rpb25zOiBcInBsYXlcIixcbiAgICBhbnRpY2lwYXRlUGluOiAwXG4gIH0sXG4gICAgICBfa2V5d29yZHMgPSB7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgY2VudGVyOiAwLjUsXG4gICAgYm90dG9tOiAxLFxuICAgIHJpZ2h0OiAxXG4gIH0sXG4gICAgICBfb2Zmc2V0VG9QeCA9IGZ1bmN0aW9uIF9vZmZzZXRUb1B4KHZhbHVlLCBzaXplKSB7XG4gICAgaWYgKF9pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgIHZhciBlcUluZGV4ID0gdmFsdWUuaW5kZXhPZihcIj1cIiksXG4gICAgICAgICAgcmVsYXRpdmUgPSB+ZXFJbmRleCA/ICsodmFsdWUuY2hhckF0KGVxSW5kZXggLSAxKSArIDEpICogcGFyc2VGbG9hdCh2YWx1ZS5zdWJzdHIoZXFJbmRleCArIDEpKSA6IDA7XG5cbiAgICAgIGlmICh+ZXFJbmRleCkge1xuICAgICAgICB2YWx1ZS5pbmRleE9mKFwiJVwiKSA+IGVxSW5kZXggJiYgKHJlbGF0aXZlICo9IHNpemUgLyAxMDApO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cigwLCBlcUluZGV4IC0gMSk7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gcmVsYXRpdmUgKyAodmFsdWUgaW4gX2tleXdvcmRzID8gX2tleXdvcmRzW3ZhbHVlXSAqIHNpemUgOiB+dmFsdWUuaW5kZXhPZihcIiVcIikgPyBwYXJzZUZsb2F0KHZhbHVlKSAqIHNpemUgLyAxMDAgOiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gICAgICBfY3JlYXRlTWFya2VyID0gZnVuY3Rpb24gX2NyZWF0ZU1hcmtlcih0eXBlLCBuYW1lLCBjb250YWluZXIsIGRpcmVjdGlvbiwgX3JlZjQsIG9mZnNldCwgbWF0Y2hXaWR0aEVsLCBjb250YWluZXJBbmltYXRpb24pIHtcbiAgICB2YXIgc3RhcnRDb2xvciA9IF9yZWY0LnN0YXJ0Q29sb3IsXG4gICAgICAgIGVuZENvbG9yID0gX3JlZjQuZW5kQ29sb3IsXG4gICAgICAgIGZvbnRTaXplID0gX3JlZjQuZm9udFNpemUsXG4gICAgICAgIGluZGVudCA9IF9yZWY0LmluZGVudCxcbiAgICAgICAgZm9udFdlaWdodCA9IF9yZWY0LmZvbnRXZWlnaHQ7XG5cbiAgICB2YXIgZSA9IF9kb2MkMS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICB1c2VGaXhlZFBvc2l0aW9uID0gX2lzVmlld3BvcnQkMShjb250YWluZXIpIHx8IF9nZXRQcm94eVByb3AoY29udGFpbmVyLCBcInBpblR5cGVcIikgPT09IFwiZml4ZWRcIixcbiAgICAgICAgaXNTY3JvbGxlciA9IHR5cGUuaW5kZXhPZihcInNjcm9sbGVyXCIpICE9PSAtMSxcbiAgICAgICAgcGFyZW50ID0gdXNlRml4ZWRQb3NpdGlvbiA/IF9ib2R5JDEgOiBjb250YWluZXIsXG4gICAgICAgIGlzU3RhcnQgPSB0eXBlLmluZGV4T2YoXCJzdGFydFwiKSAhPT0gLTEsXG4gICAgICAgIGNvbG9yID0gaXNTdGFydCA/IHN0YXJ0Q29sb3IgOiBlbmRDb2xvcixcbiAgICAgICAgY3NzID0gXCJib3JkZXItY29sb3I6XCIgKyBjb2xvciArIFwiO2ZvbnQtc2l6ZTpcIiArIGZvbnRTaXplICsgXCI7Y29sb3I6XCIgKyBjb2xvciArIFwiO2ZvbnQtd2VpZ2h0OlwiICsgZm9udFdlaWdodCArIFwiO3BvaW50ZXItZXZlbnRzOm5vbmU7d2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWYsQXJpYWw7ei1pbmRleDoxMDAwO3BhZGRpbmc6NHB4IDhweDtib3JkZXItd2lkdGg6MDtib3JkZXItc3R5bGU6c29saWQ7XCI7XG5cbiAgICBjc3MgKz0gXCJwb3NpdGlvbjpcIiArICgoaXNTY3JvbGxlciB8fCBjb250YWluZXJBbmltYXRpb24pICYmIHVzZUZpeGVkUG9zaXRpb24gPyBcImZpeGVkO1wiIDogXCJhYnNvbHV0ZTtcIik7XG4gICAgKGlzU2Nyb2xsZXIgfHwgY29udGFpbmVyQW5pbWF0aW9uIHx8ICF1c2VGaXhlZFBvc2l0aW9uKSAmJiAoY3NzICs9IChkaXJlY3Rpb24gPT09IF92ZXJ0aWNhbCA/IF9yaWdodCA6IF9ib3R0b20pICsgXCI6XCIgKyAob2Zmc2V0ICsgcGFyc2VGbG9hdChpbmRlbnQpKSArIFwicHg7XCIpO1xuICAgIG1hdGNoV2lkdGhFbCAmJiAoY3NzICs9IFwiYm94LXNpemluZzpib3JkZXItYm94O3RleHQtYWxpZ246bGVmdDt3aWR0aDpcIiArIG1hdGNoV2lkdGhFbC5vZmZzZXRXaWR0aCArIFwicHg7XCIpO1xuICAgIGUuX2lzU3RhcnQgPSBpc1N0YXJ0O1xuICAgIGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJnc2FwLW1hcmtlci1cIiArIHR5cGUgKyAobmFtZSA/IFwiIG1hcmtlci1cIiArIG5hbWUgOiBcIlwiKSk7XG4gICAgZS5zdHlsZS5jc3NUZXh0ID0gY3NzO1xuICAgIGUuaW5uZXJUZXh0ID0gbmFtZSB8fCBuYW1lID09PSAwID8gdHlwZSArIFwiLVwiICsgbmFtZSA6IHR5cGU7XG4gICAgcGFyZW50LmNoaWxkcmVuWzBdID8gcGFyZW50Lmluc2VydEJlZm9yZShlLCBwYXJlbnQuY2hpbGRyZW5bMF0pIDogcGFyZW50LmFwcGVuZENoaWxkKGUpO1xuICAgIGUuX29mZnNldCA9IGVbXCJvZmZzZXRcIiArIGRpcmVjdGlvbi5vcC5kMl07XG5cbiAgICBfcG9zaXRpb25NYXJrZXIoZSwgMCwgZGlyZWN0aW9uLCBpc1N0YXJ0KTtcblxuICAgIHJldHVybiBlO1xuICB9LFxuICAgICAgX3Bvc2l0aW9uTWFya2VyID0gZnVuY3Rpb24gX3Bvc2l0aW9uTWFya2VyKG1hcmtlciwgc3RhcnQsIGRpcmVjdGlvbiwgZmxpcHBlZCkge1xuICAgIHZhciB2YXJzID0ge1xuICAgICAgZGlzcGxheTogXCJibG9ja1wiXG4gICAgfSxcbiAgICAgICAgc2lkZSA9IGRpcmVjdGlvbltmbGlwcGVkID8gXCJvczJcIiA6IFwicDJcIl0sXG4gICAgICAgIG9wcG9zaXRlU2lkZSA9IGRpcmVjdGlvbltmbGlwcGVkID8gXCJwMlwiIDogXCJvczJcIl07XG4gICAgbWFya2VyLl9pc0ZsaXBwZWQgPSBmbGlwcGVkO1xuICAgIHZhcnNbZGlyZWN0aW9uLmEgKyBcIlBlcmNlbnRcIl0gPSBmbGlwcGVkID8gLTEwMCA6IDA7XG4gICAgdmFyc1tkaXJlY3Rpb24uYV0gPSBmbGlwcGVkID8gXCIxcHhcIiA6IDA7XG4gICAgdmFyc1tcImJvcmRlclwiICsgc2lkZSArIF9XaWR0aF0gPSAxO1xuICAgIHZhcnNbXCJib3JkZXJcIiArIG9wcG9zaXRlU2lkZSArIF9XaWR0aF0gPSAwO1xuICAgIHZhcnNbZGlyZWN0aW9uLnBdID0gc3RhcnQgKyBcInB4XCI7XG4gICAgZ3NhcCQxLnNldChtYXJrZXIsIHZhcnMpO1xuICB9LFxuICAgICAgX3RyaWdnZXJzID0gW10sXG4gICAgICBfaWRzID0ge30sXG4gICAgICBfcmFmSUQsXG4gICAgICBfc3luYyA9IGZ1bmN0aW9uIF9zeW5jKCkge1xuICAgIHJldHVybiBfZ2V0VGltZSQxKCkgLSBfbGFzdFNjcm9sbFRpbWUgPiAzNCAmJiBfdXBkYXRlQWxsKCk7XG4gIH0sXG4gICAgICBfb25TY3JvbGwkMSA9IGZ1bmN0aW9uIF9vblNjcm9sbCgpIHtcbiAgICBpZiAoIV9ub3JtYWxpemVyJDEgfHwgIV9ub3JtYWxpemVyJDEuaXNQcmVzc2VkIHx8IF9ub3JtYWxpemVyJDEuc3RhcnRYID4gX2JvZHkkMS5jbGllbnRXaWR0aCkge1xuICAgICAgX3Njcm9sbGVycy5jYWNoZSsrO1xuICAgICAgX3JhZklEIHx8IChfcmFmSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3VwZGF0ZUFsbCkpO1xuICAgICAgX2xhc3RTY3JvbGxUaW1lIHx8IF9kaXNwYXRjaChcInNjcm9sbFN0YXJ0XCIpO1xuICAgICAgX2xhc3RTY3JvbGxUaW1lID0gX2dldFRpbWUkMSgpO1xuICAgIH1cbiAgfSxcbiAgICAgIF9zZXRCYXNlRGltZW5zaW9ucyA9IGZ1bmN0aW9uIF9zZXRCYXNlRGltZW5zaW9ucygpIHtcbiAgICBfYmFzZVNjcmVlbldpZHRoID0gX3dpbiQxLmlubmVyV2lkdGg7XG4gICAgX2Jhc2VTY3JlZW5IZWlnaHQgPSBfd2luJDEuaW5uZXJIZWlnaHQ7XG4gIH0sXG4gICAgICBfb25SZXNpemUgPSBmdW5jdGlvbiBfb25SZXNpemUoKSB7XG4gICAgX3Njcm9sbGVycy5jYWNoZSsrO1xuICAgICFfcmVmcmVzaGluZyAmJiAhX2lnbm9yZVJlc2l6ZSAmJiAhX2RvYyQxLmZ1bGxzY3JlZW5FbGVtZW50ICYmICFfZG9jJDEud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgJiYgKCFfaWdub3JlTW9iaWxlUmVzaXplIHx8IF9iYXNlU2NyZWVuV2lkdGggIT09IF93aW4kMS5pbm5lcldpZHRoIHx8IE1hdGguYWJzKF93aW4kMS5pbm5lckhlaWdodCAtIF9iYXNlU2NyZWVuSGVpZ2h0KSA+IF93aW4kMS5pbm5lckhlaWdodCAqIDAuMjUpICYmIF9yZXNpemVEZWxheS5yZXN0YXJ0KHRydWUpO1xuICB9LFxuICAgICAgX2xpc3RlbmVycyA9IHt9LFxuICAgICAgX2VtcHR5QXJyYXkgPSBbXSxcbiAgICAgIF9tZWRpYSA9IFtdLFxuICAgICAgX2NyZWF0aW5nTWVkaWEsXG4gICAgICBfbGFzdE1lZGlhVGljayxcbiAgICAgIF9vbk1lZGlhQ2hhbmdlID0gZnVuY3Rpb24gX29uTWVkaWFDaGFuZ2UoZSkge1xuICAgIHZhciB0aWNrID0gZ3NhcCQxLnRpY2tlci5mcmFtZSxcbiAgICAgICAgbWF0Y2hlcyA9IFtdLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgaW5kZXg7XG5cbiAgICBpZiAoX2xhc3RNZWRpYVRpY2sgIT09IHRpY2sgfHwgX3N0YXJ0dXAkMSkge1xuICAgICAgX3JldmVydEFsbCgpO1xuXG4gICAgICBmb3IgKDsgaSA8IF9tZWRpYS5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICBpbmRleCA9IF93aW4kMS5tYXRjaE1lZGlhKF9tZWRpYVtpXSkubWF0Y2hlcztcblxuICAgICAgICBpZiAoaW5kZXggIT09IF9tZWRpYVtpICsgM10pIHtcbiAgICAgICAgICBfbWVkaWFbaSArIDNdID0gaW5kZXg7XG4gICAgICAgICAgaW5kZXggPyBtYXRjaGVzLnB1c2goaSkgOiBfcmV2ZXJ0QWxsKDEsIF9tZWRpYVtpXSkgfHwgX2lzRnVuY3Rpb24oX21lZGlhW2kgKyAyXSkgJiYgX21lZGlhW2kgKyAyXSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF9yZXZlcnRSZWNvcmRlZCgpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbmRleCA9IG1hdGNoZXNbaV07XG4gICAgICAgIF9jcmVhdGluZ01lZGlhID0gX21lZGlhW2luZGV4XTtcbiAgICAgICAgX21lZGlhW2luZGV4ICsgMl0gPSBfbWVkaWFbaW5kZXggKyAxXShlKTtcbiAgICAgIH1cblxuICAgICAgX2NyZWF0aW5nTWVkaWEgPSAwO1xuICAgICAgX2NvcmVJbml0dGVkJDEgJiYgX3JlZnJlc2hBbGwoMCwgMSk7XG4gICAgICBfbGFzdE1lZGlhVGljayA9IHRpY2s7XG5cbiAgICAgIF9kaXNwYXRjaChcIm1hdGNoTWVkaWFcIik7XG4gICAgfVxuICB9LFxuICAgICAgX3NvZnRSZWZyZXNoID0gZnVuY3Rpb24gX3NvZnRSZWZyZXNoKCkge1xuICAgIHJldHVybiBfcmVtb3ZlTGlzdGVuZXIkMShTY3JvbGxUcmlnZ2VyJDEsIFwic2Nyb2xsRW5kXCIsIF9zb2Z0UmVmcmVzaCkgfHwgX3JlZnJlc2hBbGwodHJ1ZSk7XG4gIH0sXG4gICAgICBfZGlzcGF0Y2ggPSBmdW5jdGlvbiBfZGlzcGF0Y2godHlwZSkge1xuICAgIHJldHVybiBfbGlzdGVuZXJzW3R5cGVdICYmIF9saXN0ZW5lcnNbdHlwZV0ubWFwKGZ1bmN0aW9uIChmKSB7XG4gICAgICByZXR1cm4gZigpO1xuICAgIH0pIHx8IF9lbXB0eUFycmF5O1xuICB9LFxuICAgICAgX3NhdmVkU3R5bGVzID0gW10sXG4gICAgICBfcmV2ZXJ0UmVjb3JkZWQgPSBmdW5jdGlvbiBfcmV2ZXJ0UmVjb3JkZWQobWVkaWEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9zYXZlZFN0eWxlcy5sZW5ndGg7IGkgKz0gNSkge1xuICAgICAgaWYgKCFtZWRpYSB8fCBfc2F2ZWRTdHlsZXNbaSArIDRdID09PSBtZWRpYSkge1xuICAgICAgICBfc2F2ZWRTdHlsZXNbaV0uc3R5bGUuY3NzVGV4dCA9IF9zYXZlZFN0eWxlc1tpICsgMV07XG4gICAgICAgIF9zYXZlZFN0eWxlc1tpXS5nZXRCQm94ICYmIF9zYXZlZFN0eWxlc1tpXS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiwgX3NhdmVkU3R5bGVzW2kgKyAyXSB8fCBcIlwiKTtcbiAgICAgICAgX3NhdmVkU3R5bGVzW2kgKyAzXS51bmNhY2hlID0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICAgICBfcmV2ZXJ0QWxsID0gZnVuY3Rpb24gX3JldmVydEFsbChraWxsLCBtZWRpYSkge1xuICAgIHZhciB0cmlnZ2VyO1xuXG4gICAgZm9yIChfaSA9IDA7IF9pIDwgX3RyaWdnZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdHJpZ2dlciA9IF90cmlnZ2Vyc1tfaV07XG5cbiAgICAgIGlmICghbWVkaWEgfHwgdHJpZ2dlci5tZWRpYSA9PT0gbWVkaWEpIHtcbiAgICAgICAgaWYgKGtpbGwpIHtcbiAgICAgICAgICB0cmlnZ2VyLmtpbGwoMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJpZ2dlci5yZXZlcnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG1lZGlhICYmIF9yZXZlcnRSZWNvcmRlZChtZWRpYSk7XG4gICAgbWVkaWEgfHwgX2Rpc3BhdGNoKFwicmV2ZXJ0XCIpO1xuICB9LFxuICAgICAgX2NsZWFyU2Nyb2xsTWVtb3J5ID0gZnVuY3Rpb24gX2NsZWFyU2Nyb2xsTWVtb3J5KCkge1xuICAgIHJldHVybiBfc2Nyb2xsZXJzLmNhY2hlKysgJiYgX3Njcm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgJiYgKG9iai5yZWMgPSAwKTtcbiAgICB9KTtcbiAgfSxcbiAgICAgIF9yZWZyZXNoaW5nQWxsLFxuICAgICAgX3JlZnJlc2hJRCA9IDAsXG4gICAgICBfcmVmcmVzaEFsbCA9IGZ1bmN0aW9uIF9yZWZyZXNoQWxsKGZvcmNlLCBza2lwUmV2ZXJ0KSB7XG4gICAgaWYgKF9sYXN0U2Nyb2xsVGltZSAmJiAhZm9yY2UpIHtcbiAgICAgIF9hZGRMaXN0ZW5lciQxKFNjcm9sbFRyaWdnZXIkMSwgXCJzY3JvbGxFbmRcIiwgX3NvZnRSZWZyZXNoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF9yZWZyZXNoaW5nQWxsID0gdHJ1ZTtcblxuICAgIHZhciByZWZyZXNoSW5pdHMgPSBfZGlzcGF0Y2goXCJyZWZyZXNoSW5pdFwiKTtcblxuICAgIF9zb3J0ICYmIFNjcm9sbFRyaWdnZXIkMS5zb3J0KCk7XG4gICAgc2tpcFJldmVydCB8fCBfcmV2ZXJ0QWxsKCk7XG5cbiAgICBfdHJpZ2dlcnMuc2xpY2UoMCkuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIHQucmVmcmVzaCgpO1xuICAgIH0pO1xuXG4gICAgX3RyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiB0LnZhcnMuZW5kID09PSBcIm1heFwiICYmIHQuc2V0UG9zaXRpb25zKHQuc3RhcnQsIF9tYXhTY3JvbGwodC5zY3JvbGxlciwgdC5fZGlyKSk7XG4gICAgfSk7XG5cbiAgICByZWZyZXNoSW5pdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICYmIHJlc3VsdC5yZW5kZXIgJiYgcmVzdWx0LnJlbmRlcigtMSk7XG4gICAgfSk7XG5cbiAgICBfY2xlYXJTY3JvbGxNZW1vcnkoKTtcblxuICAgIF9yZXNpemVEZWxheS5wYXVzZSgpO1xuXG4gICAgX3JlZnJlc2hJRCsrO1xuICAgIF9yZWZyZXNoaW5nQWxsID0gZmFsc2U7XG5cbiAgICBfZGlzcGF0Y2goXCJyZWZyZXNoXCIpO1xuICB9LFxuICAgICAgX2xhc3RTY3JvbGwgPSAwLFxuICAgICAgX2RpcmVjdGlvbiA9IDEsXG4gICAgICBfcHJpbWFyeSxcbiAgICAgIF91cGRhdGVBbGwgPSBmdW5jdGlvbiBfdXBkYXRlQWxsKCkge1xuICAgIGlmICghX3JlZnJlc2hpbmdBbGwpIHtcbiAgICAgIFNjcm9sbFRyaWdnZXIkMS5pc1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgIF9wcmltYXJ5ICYmIF9wcmltYXJ5LnVwZGF0ZSgwKTtcblxuICAgICAgdmFyIGwgPSBfdHJpZ2dlcnMubGVuZ3RoLFxuICAgICAgICAgIHRpbWUgPSBfZ2V0VGltZSQxKCksXG4gICAgICAgICAgcmVjb3JkVmVsb2NpdHkgPSB0aW1lIC0gX3RpbWUxID49IDUwLFxuICAgICAgICAgIHNjcm9sbCA9IGwgJiYgX3RyaWdnZXJzWzBdLnNjcm9sbCgpO1xuXG4gICAgICBfZGlyZWN0aW9uID0gX2xhc3RTY3JvbGwgPiBzY3JvbGwgPyAtMSA6IDE7XG4gICAgICBfbGFzdFNjcm9sbCA9IHNjcm9sbDtcblxuICAgICAgaWYgKHJlY29yZFZlbG9jaXR5KSB7XG4gICAgICAgIGlmIChfbGFzdFNjcm9sbFRpbWUgJiYgIV9wb2ludGVySXNEb3duICYmIHRpbWUgLSBfbGFzdFNjcm9sbFRpbWUgPiAyMDApIHtcbiAgICAgICAgICBfbGFzdFNjcm9sbFRpbWUgPSAwO1xuXG4gICAgICAgICAgX2Rpc3BhdGNoKFwic2Nyb2xsRW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RpbWUyID0gX3RpbWUxO1xuICAgICAgICBfdGltZTEgPSB0aW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2RpcmVjdGlvbiA8IDApIHtcbiAgICAgICAgX2kgPSBsO1xuXG4gICAgICAgIHdoaWxlIChfaS0tID4gMCkge1xuICAgICAgICAgIF90cmlnZ2Vyc1tfaV0gJiYgX3RyaWdnZXJzW19pXS51cGRhdGUoMCwgcmVjb3JkVmVsb2NpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2RpcmVjdGlvbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKF9pID0gMDsgX2kgPCBsOyBfaSsrKSB7XG4gICAgICAgICAgX3RyaWdnZXJzW19pXSAmJiBfdHJpZ2dlcnNbX2ldLnVwZGF0ZSgwLCByZWNvcmRWZWxvY2l0eSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgU2Nyb2xsVHJpZ2dlciQxLmlzVXBkYXRpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBfcmFmSUQgPSAwO1xuICB9LFxuICAgICAgX3Byb3BOYW1lc1RvQ29weSA9IFtfbGVmdCwgX3RvcCwgX2JvdHRvbSwgX3JpZ2h0LCBfbWFyZ2luICsgX0JvdHRvbSwgX21hcmdpbiArIF9SaWdodCwgX21hcmdpbiArIF9Ub3AsIF9tYXJnaW4gKyBfTGVmdCwgXCJkaXNwbGF5XCIsIFwiZmxleFNocmlua1wiLCBcImZsb2F0XCIsIFwiekluZGV4XCIsIFwiZ3JpZENvbHVtblN0YXJ0XCIsIFwiZ3JpZENvbHVtbkVuZFwiLCBcImdyaWRSb3dTdGFydFwiLCBcImdyaWRSb3dFbmRcIiwgXCJncmlkQXJlYVwiLCBcImp1c3RpZnlTZWxmXCIsIFwiYWxpZ25TZWxmXCIsIFwicGxhY2VTZWxmXCIsIFwib3JkZXJcIl0sXG4gICAgICBfc3RhdGVQcm9wcyA9IF9wcm9wTmFtZXNUb0NvcHkuY29uY2F0KFtfd2lkdGgsIF9oZWlnaHQsIFwiYm94U2l6aW5nXCIsIFwibWF4XCIgKyBfV2lkdGgsIFwibWF4XCIgKyBfSGVpZ2h0LCBcInBvc2l0aW9uXCIsIF9tYXJnaW4sIF9wYWRkaW5nLCBfcGFkZGluZyArIF9Ub3AsIF9wYWRkaW5nICsgX1JpZ2h0LCBfcGFkZGluZyArIF9Cb3R0b20sIF9wYWRkaW5nICsgX0xlZnRdKSxcbiAgICAgIF9zd2FwUGluT3V0ID0gZnVuY3Rpb24gX3N3YXBQaW5PdXQocGluLCBzcGFjZXIsIHN0YXRlKSB7XG4gICAgX3NldFN0YXRlKHN0YXRlKTtcblxuICAgIHZhciBjYWNoZSA9IHBpbi5fZ3NhcDtcblxuICAgIGlmIChjYWNoZS5zcGFjZXJJc05hdGl2ZSkge1xuICAgICAgX3NldFN0YXRlKGNhY2hlLnNwYWNlclN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKHBpbi5wYXJlbnROb2RlID09PSBzcGFjZXIpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBzcGFjZXIucGFyZW50Tm9kZTtcblxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHBpbiwgc3BhY2VyKTtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHNwYWNlcik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICAgICAgX3N3YXBQaW5JbiA9IGZ1bmN0aW9uIF9zd2FwUGluSW4ocGluLCBzcGFjZXIsIGNzLCBzcGFjZXJTdGF0ZSkge1xuICAgIGlmIChwaW4ucGFyZW50Tm9kZSAhPT0gc3BhY2VyKSB7XG4gICAgICB2YXIgaSA9IF9wcm9wTmFtZXNUb0NvcHkubGVuZ3RoLFxuICAgICAgICAgIHNwYWNlclN0eWxlID0gc3BhY2VyLnN0eWxlLFxuICAgICAgICAgIHBpblN0eWxlID0gcGluLnN0eWxlLFxuICAgICAgICAgIHA7XG5cbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgcCA9IF9wcm9wTmFtZXNUb0NvcHlbaV07XG4gICAgICAgIHNwYWNlclN0eWxlW3BdID0gY3NbcF07XG4gICAgICB9XG5cbiAgICAgIHNwYWNlclN0eWxlLnBvc2l0aW9uID0gY3MucG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiA/IFwiYWJzb2x1dGVcIiA6IFwicmVsYXRpdmVcIjtcbiAgICAgIGNzLmRpc3BsYXkgPT09IFwiaW5saW5lXCIgJiYgKHNwYWNlclN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiKTtcbiAgICAgIHBpblN0eWxlW19ib3R0b21dID0gcGluU3R5bGVbX3JpZ2h0XSA9IHNwYWNlclN0eWxlLmZsZXhCYXNpcyA9IFwiYXV0b1wiO1xuICAgICAgc3BhY2VyU3R5bGUub3ZlcmZsb3cgPSBcInZpc2libGVcIjtcbiAgICAgIHNwYWNlclN0eWxlLmJveFNpemluZyA9IFwiYm9yZGVyLWJveFwiO1xuICAgICAgc3BhY2VyU3R5bGVbX3dpZHRoXSA9IF9nZXRTaXplKHBpbiwgX2hvcml6b250YWwpICsgX3B4O1xuICAgICAgc3BhY2VyU3R5bGVbX2hlaWdodF0gPSBfZ2V0U2l6ZShwaW4sIF92ZXJ0aWNhbCkgKyBfcHg7XG4gICAgICBzcGFjZXJTdHlsZVtfcGFkZGluZ10gPSBwaW5TdHlsZVtfbWFyZ2luXSA9IHBpblN0eWxlW190b3BdID0gcGluU3R5bGVbX2xlZnRdID0gXCIwXCI7XG5cbiAgICAgIF9zZXRTdGF0ZShzcGFjZXJTdGF0ZSk7XG5cbiAgICAgIHBpblN0eWxlW193aWR0aF0gPSBwaW5TdHlsZVtcIm1heFwiICsgX1dpZHRoXSA9IGNzW193aWR0aF07XG4gICAgICBwaW5TdHlsZVtfaGVpZ2h0XSA9IHBpblN0eWxlW1wibWF4XCIgKyBfSGVpZ2h0XSA9IGNzW19oZWlnaHRdO1xuICAgICAgcGluU3R5bGVbX3BhZGRpbmddID0gY3NbX3BhZGRpbmddO1xuICAgICAgcGluLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNwYWNlciwgcGluKTtcbiAgICAgIHNwYWNlci5hcHBlbmRDaGlsZChwaW4pO1xuICAgIH1cbiAgfSxcbiAgICAgIF9jYXBzRXhwID0gLyhbQS1aXSkvZyxcbiAgICAgIF9zZXRTdGF0ZSA9IGZ1bmN0aW9uIF9zZXRTdGF0ZShzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgdmFyIHN0eWxlID0gc3RhdGUudC5zdHlsZSxcbiAgICAgICAgICBsID0gc3RhdGUubGVuZ3RoLFxuICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgIHAsXG4gICAgICAgICAgdmFsdWU7XG4gICAgICAoc3RhdGUudC5fZ3NhcCB8fCBnc2FwJDEuY29yZS5nZXRDYWNoZShzdGF0ZS50KSkudW5jYWNoZSA9IDE7XG5cbiAgICAgIGZvciAoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgICAgIHZhbHVlID0gc3RhdGVbaSArIDFdO1xuICAgICAgICBwID0gc3RhdGVbaV07XG5cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgc3R5bGVbcF0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHlsZVtwXSkge1xuICAgICAgICAgIHN0eWxlLnJlbW92ZVByb3BlcnR5KHAucmVwbGFjZShfY2Fwc0V4cCwgXCItJDFcIikudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICAgICBfZ2V0U3RhdGUgPSBmdW5jdGlvbiBfZ2V0U3RhdGUoZWxlbWVudCkge1xuICAgIHZhciBsID0gX3N0YXRlUHJvcHMubGVuZ3RoLFxuICAgICAgICBzdHlsZSA9IGVsZW1lbnQuc3R5bGUsXG4gICAgICAgIHN0YXRlID0gW10sXG4gICAgICAgIGkgPSAwO1xuXG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHN0YXRlLnB1c2goX3N0YXRlUHJvcHNbaV0sIHN0eWxlW19zdGF0ZVByb3BzW2ldXSk7XG4gICAgfVxuXG4gICAgc3RhdGUudCA9IGVsZW1lbnQ7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9LFxuICAgICAgX2NvcHlTdGF0ZSA9IGZ1bmN0aW9uIF9jb3B5U3RhdGUoc3RhdGUsIG92ZXJyaWRlLCBvbWl0T2Zmc2V0cykge1xuICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgbCA9IHN0YXRlLmxlbmd0aCxcbiAgICAgICAgaSA9IG9taXRPZmZzZXRzID8gOCA6IDAsXG4gICAgICAgIHA7XG5cbiAgICBmb3IgKDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgcCA9IHN0YXRlW2ldO1xuICAgICAgcmVzdWx0LnB1c2gocCwgcCBpbiBvdmVycmlkZSA/IG92ZXJyaWRlW3BdIDogc3RhdGVbaSArIDFdKTtcbiAgICB9XG5cbiAgICByZXN1bHQudCA9IHN0YXRlLnQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbiAgICAgIF93aW5PZmZzZXRzID0ge1xuICAgIGxlZnQ6IDAsXG4gICAgdG9wOiAwXG4gIH0sXG4gICAgICBfcGFyc2VQb3NpdGlvbiA9IGZ1bmN0aW9uIF9wYXJzZVBvc2l0aW9uKHZhbHVlLCB0cmlnZ2VyLCBzY3JvbGxlclNpemUsIGRpcmVjdGlvbiwgc2Nyb2xsLCBtYXJrZXIsIG1hcmtlclNjcm9sbGVyLCBzZWxmLCBzY3JvbGxlckJvdW5kcywgYm9yZGVyV2lkdGgsIHVzZUZpeGVkUG9zaXRpb24sIHNjcm9sbGVyTWF4LCBjb250YWluZXJBbmltYXRpb24pIHtcbiAgICBfaXNGdW5jdGlvbih2YWx1ZSkgJiYgKHZhbHVlID0gdmFsdWUoc2VsZikpO1xuXG4gICAgaWYgKF9pc1N0cmluZyh2YWx1ZSkgJiYgdmFsdWUuc3Vic3RyKDAsIDMpID09PSBcIm1heFwiKSB7XG4gICAgICB2YWx1ZSA9IHNjcm9sbGVyTWF4ICsgKHZhbHVlLmNoYXJBdCg0KSA9PT0gXCI9XCIgPyBfb2Zmc2V0VG9QeChcIjBcIiArIHZhbHVlLnN1YnN0cigzKSwgc2Nyb2xsZXJTaXplKSA6IDApO1xuICAgIH1cblxuICAgIHZhciB0aW1lID0gY29udGFpbmVyQW5pbWF0aW9uID8gY29udGFpbmVyQW5pbWF0aW9uLnRpbWUoKSA6IDAsXG4gICAgICAgIHAxLFxuICAgICAgICBwMixcbiAgICAgICAgZWxlbWVudDtcbiAgICBjb250YWluZXJBbmltYXRpb24gJiYgY29udGFpbmVyQW5pbWF0aW9uLnNlZWsoMCk7XG5cbiAgICBpZiAoIV9pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgIF9pc0Z1bmN0aW9uKHRyaWdnZXIpICYmICh0cmlnZ2VyID0gdHJpZ2dlcihzZWxmKSk7XG4gICAgICB2YXIgb2Zmc2V0cyA9IHZhbHVlLnNwbGl0KFwiIFwiKSxcbiAgICAgICAgICBib3VuZHMsXG4gICAgICAgICAgbG9jYWxPZmZzZXQsXG4gICAgICAgICAgZ2xvYmFsT2Zmc2V0LFxuICAgICAgICAgIGRpc3BsYXk7XG4gICAgICBlbGVtZW50ID0gX2dldFRhcmdldCh0cmlnZ2VyKSB8fCBfYm9keSQxO1xuICAgICAgYm91bmRzID0gX2dldEJvdW5kcyhlbGVtZW50KSB8fCB7fTtcblxuICAgICAgaWYgKCghYm91bmRzIHx8ICFib3VuZHMubGVmdCAmJiAhYm91bmRzLnRvcCkgJiYgX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgZGlzcGxheSA9IGVsZW1lbnQuc3R5bGUuZGlzcGxheTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBib3VuZHMgPSBfZ2V0Qm91bmRzKGVsZW1lbnQpO1xuICAgICAgICBkaXNwbGF5ID8gZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheSA6IGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJkaXNwbGF5XCIpO1xuICAgICAgfVxuXG4gICAgICBsb2NhbE9mZnNldCA9IF9vZmZzZXRUb1B4KG9mZnNldHNbMF0sIGJvdW5kc1tkaXJlY3Rpb24uZF0pO1xuICAgICAgZ2xvYmFsT2Zmc2V0ID0gX29mZnNldFRvUHgob2Zmc2V0c1sxXSB8fCBcIjBcIiwgc2Nyb2xsZXJTaXplKTtcbiAgICAgIHZhbHVlID0gYm91bmRzW2RpcmVjdGlvbi5wXSAtIHNjcm9sbGVyQm91bmRzW2RpcmVjdGlvbi5wXSAtIGJvcmRlcldpZHRoICsgbG9jYWxPZmZzZXQgKyBzY3JvbGwgLSBnbG9iYWxPZmZzZXQ7XG4gICAgICBtYXJrZXJTY3JvbGxlciAmJiBfcG9zaXRpb25NYXJrZXIobWFya2VyU2Nyb2xsZXIsIGdsb2JhbE9mZnNldCwgZGlyZWN0aW9uLCBzY3JvbGxlclNpemUgLSBnbG9iYWxPZmZzZXQgPCAyMCB8fCBtYXJrZXJTY3JvbGxlci5faXNTdGFydCAmJiBnbG9iYWxPZmZzZXQgPiAyMCk7XG4gICAgICBzY3JvbGxlclNpemUgLT0gc2Nyb2xsZXJTaXplIC0gZ2xvYmFsT2Zmc2V0O1xuICAgIH0gZWxzZSBpZiAobWFya2VyU2Nyb2xsZXIpIHtcbiAgICAgIF9wb3NpdGlvbk1hcmtlcihtYXJrZXJTY3JvbGxlciwgc2Nyb2xsZXJTaXplLCBkaXJlY3Rpb24sIHRydWUpO1xuICAgIH1cblxuICAgIGlmIChtYXJrZXIpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHZhbHVlICsgc2Nyb2xsZXJTaXplLFxuICAgICAgICAgIGlzU3RhcnQgPSBtYXJrZXIuX2lzU3RhcnQ7XG4gICAgICBwMSA9IFwic2Nyb2xsXCIgKyBkaXJlY3Rpb24uZDI7XG5cbiAgICAgIF9wb3NpdGlvbk1hcmtlcihtYXJrZXIsIHBvc2l0aW9uLCBkaXJlY3Rpb24sIGlzU3RhcnQgJiYgcG9zaXRpb24gPiAyMCB8fCAhaXNTdGFydCAmJiAodXNlRml4ZWRQb3NpdGlvbiA/IE1hdGgubWF4KF9ib2R5JDFbcDFdLCBfZG9jRWwkMVtwMV0pIDogbWFya2VyLnBhcmVudE5vZGVbcDFdKSA8PSBwb3NpdGlvbiArIDEpO1xuXG4gICAgICBpZiAodXNlRml4ZWRQb3NpdGlvbikge1xuICAgICAgICBzY3JvbGxlckJvdW5kcyA9IF9nZXRCb3VuZHMobWFya2VyU2Nyb2xsZXIpO1xuICAgICAgICB1c2VGaXhlZFBvc2l0aW9uICYmIChtYXJrZXIuc3R5bGVbZGlyZWN0aW9uLm9wLnBdID0gc2Nyb2xsZXJCb3VuZHNbZGlyZWN0aW9uLm9wLnBdIC0gZGlyZWN0aW9uLm9wLm0gLSBtYXJrZXIuX29mZnNldCArIF9weCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbnRhaW5lckFuaW1hdGlvbiAmJiBlbGVtZW50KSB7XG4gICAgICBwMSA9IF9nZXRCb3VuZHMoZWxlbWVudCk7XG4gICAgICBjb250YWluZXJBbmltYXRpb24uc2VlayhzY3JvbGxlck1heCk7XG4gICAgICBwMiA9IF9nZXRCb3VuZHMoZWxlbWVudCk7XG4gICAgICBjb250YWluZXJBbmltYXRpb24uX2NhU2Nyb2xsRGlzdCA9IHAxW2RpcmVjdGlvbi5wXSAtIHAyW2RpcmVjdGlvbi5wXTtcbiAgICAgIHZhbHVlID0gdmFsdWUgLyBjb250YWluZXJBbmltYXRpb24uX2NhU2Nyb2xsRGlzdCAqIHNjcm9sbGVyTWF4O1xuICAgIH1cblxuICAgIGNvbnRhaW5lckFuaW1hdGlvbiAmJiBjb250YWluZXJBbmltYXRpb24uc2Vlayh0aW1lKTtcbiAgICByZXR1cm4gY29udGFpbmVyQW5pbWF0aW9uID8gdmFsdWUgOiBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgfSxcbiAgICAgIF9wcmVmaXhFeHAgPSAvKHdlYmtpdHxtb3p8bGVuZ3RofGNzc1RleHR8aW5zZXQpL2ksXG4gICAgICBfcmVwYXJlbnQgPSBmdW5jdGlvbiBfcmVwYXJlbnQoZWxlbWVudCwgcGFyZW50LCB0b3AsIGxlZnQpIHtcbiAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlICE9PSBwYXJlbnQpIHtcbiAgICAgIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGUsXG4gICAgICAgICAgcCxcbiAgICAgICAgICBjcztcblxuICAgICAgaWYgKHBhcmVudCA9PT0gX2JvZHkkMSkge1xuICAgICAgICBlbGVtZW50Ll9zdE9yaWcgPSBzdHlsZS5jc3NUZXh0O1xuICAgICAgICBjcyA9IF9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgICAgIGZvciAocCBpbiBjcykge1xuICAgICAgICAgIGlmICghK3AgJiYgIV9wcmVmaXhFeHAudGVzdChwKSAmJiBjc1twXSAmJiB0eXBlb2Ygc3R5bGVbcF0gPT09IFwic3RyaW5nXCIgJiYgcCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHN0eWxlW3BdID0gY3NbcF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3R5bGUudG9wID0gdG9wO1xuICAgICAgICBzdHlsZS5sZWZ0ID0gbGVmdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlLmNzc1RleHQgPSBlbGVtZW50Ll9zdE9yaWc7XG4gICAgICB9XG5cbiAgICAgIGdzYXAkMS5jb3JlLmdldENhY2hlKGVsZW1lbnQpLnVuY2FjaGUgPSAxO1xuICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgfSxcbiAgICAgIF9nZXRUd2VlbkNyZWF0b3IgPSBmdW5jdGlvbiBfZ2V0VHdlZW5DcmVhdG9yKHNjcm9sbGVyLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgZ2V0U2Nyb2xsID0gX2dldFNjcm9sbEZ1bmMoc2Nyb2xsZXIsIGRpcmVjdGlvbiksXG4gICAgICAgIHByb3AgPSBcIl9zY3JvbGxcIiArIGRpcmVjdGlvbi5wMixcbiAgICAgICAgbGFzdFNjcm9sbDEsXG4gICAgICAgIGxhc3RTY3JvbGwyLFxuICAgICAgICBnZXRUd2VlbiA9IGZ1bmN0aW9uIGdldFR3ZWVuKHNjcm9sbFRvLCB2YXJzLCBpbml0aWFsVmFsdWUsIGNoYW5nZTEsIGNoYW5nZTIpIHtcbiAgICAgIHZhciB0d2VlbiA9IGdldFR3ZWVuLnR3ZWVuLFxuICAgICAgICAgIG9uQ29tcGxldGUgPSB2YXJzLm9uQ29tcGxldGUsXG4gICAgICAgICAgbW9kaWZpZXJzID0ge307XG4gICAgICBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUgfHwgZ2V0U2Nyb2xsKCk7XG4gICAgICBjaGFuZ2UyID0gY2hhbmdlMSAmJiBjaGFuZ2UyIHx8IDA7XG4gICAgICBjaGFuZ2UxID0gY2hhbmdlMSB8fCBzY3JvbGxUbyAtIGluaXRpYWxWYWx1ZTtcbiAgICAgIHR3ZWVuICYmIHR3ZWVuLmtpbGwoKTtcbiAgICAgIGxhc3RTY3JvbGwxID0gTWF0aC5yb3VuZChpbml0aWFsVmFsdWUpO1xuICAgICAgdmFyc1twcm9wXSA9IHNjcm9sbFRvO1xuICAgICAgdmFycy5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG5cbiAgICAgIG1vZGlmaWVyc1twcm9wXSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IF9yb3VuZChnZXRTY3JvbGwoKSk7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSBsYXN0U2Nyb2xsMSAmJiB2YWx1ZSAhPT0gbGFzdFNjcm9sbDIgJiYgTWF0aC5hYnModmFsdWUgLSBsYXN0U2Nyb2xsMSkgPiAyICYmIE1hdGguYWJzKHZhbHVlIC0gbGFzdFNjcm9sbDIpID4gMikge1xuICAgICAgICAgIHR3ZWVuLmtpbGwoKTtcbiAgICAgICAgICBnZXRUd2Vlbi50d2VlbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBpbml0aWFsVmFsdWUgKyBjaGFuZ2UxICogdHdlZW4ucmF0aW8gKyBjaGFuZ2UyICogdHdlZW4ucmF0aW8gKiB0d2Vlbi5yYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RTY3JvbGwyID0gbGFzdFNjcm9sbDE7XG4gICAgICAgIHJldHVybiBsYXN0U2Nyb2xsMSA9IF9yb3VuZCh2YWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXJzLm9uQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGdldFR3ZWVuLnR3ZWVuID0gMDtcbiAgICAgICAgb25Db21wbGV0ZSAmJiBvbkNvbXBsZXRlLmNhbGwodHdlZW4pO1xuICAgICAgfTtcblxuICAgICAgdHdlZW4gPSBnZXRUd2Vlbi50d2VlbiA9IGdzYXAkMS50byhzY3JvbGxlciwgdmFycyk7XG4gICAgICByZXR1cm4gdHdlZW47XG4gICAgfTtcblxuICAgIHNjcm9sbGVyW3Byb3BdID0gZ2V0U2Nyb2xsO1xuXG4gICAgZ2V0U2Nyb2xsLndoZWVsSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRUd2Vlbi50d2VlbiAmJiBnZXRUd2Vlbi50d2Vlbi5raWxsKCkgJiYgKGdldFR3ZWVuLnR3ZWVuID0gMCk7XG4gICAgfTtcblxuICAgIF9hZGRMaXN0ZW5lciQxKHNjcm9sbGVyLCBcIndoZWVsXCIsIGdldFNjcm9sbC53aGVlbEhhbmRsZXIpO1xuXG4gICAgcmV0dXJuIGdldFR3ZWVuO1xuICB9O1xuXG4gIHZhciBTY3JvbGxUcmlnZ2VyJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2Nyb2xsVHJpZ2dlcih2YXJzLCBhbmltYXRpb24pIHtcbiAgICAgIF9jb3JlSW5pdHRlZCQxIHx8IFNjcm9sbFRyaWdnZXIucmVnaXN0ZXIoZ3NhcCQxKSB8fCBjb25zb2xlLndhcm4oXCJQbGVhc2UgZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKVwiKTtcbiAgICAgIHRoaXMuaW5pdCh2YXJzLCBhbmltYXRpb24pO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBTY3JvbGxUcmlnZ2VyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5pbml0ID0gZnVuY3Rpb24gaW5pdCh2YXJzLCBhbmltYXRpb24pIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgIHRoaXMudmFycyAmJiB0aGlzLmtpbGwodHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgIGlmICghX2VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy51cGRhdGUgPSB0aGlzLnJlZnJlc2ggPSB0aGlzLmtpbGwgPSBfcGFzc1Rocm91Z2g7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFycyA9IF9zZXREZWZhdWx0cyhfaXNTdHJpbmcodmFycykgfHwgX2lzTnVtYmVyKHZhcnMpIHx8IHZhcnMubm9kZVR5cGUgPyB7XG4gICAgICAgIHRyaWdnZXI6IHZhcnNcbiAgICAgIH0gOiB2YXJzLCBfZGVmYXVsdHMpO1xuXG4gICAgICB2YXIgX3ZhcnMgPSB2YXJzLFxuICAgICAgICAgIG9uVXBkYXRlID0gX3ZhcnMub25VcGRhdGUsXG4gICAgICAgICAgdG9nZ2xlQ2xhc3MgPSBfdmFycy50b2dnbGVDbGFzcyxcbiAgICAgICAgICBpZCA9IF92YXJzLmlkLFxuICAgICAgICAgIG9uVG9nZ2xlID0gX3ZhcnMub25Ub2dnbGUsXG4gICAgICAgICAgb25SZWZyZXNoID0gX3ZhcnMub25SZWZyZXNoLFxuICAgICAgICAgIHNjcnViID0gX3ZhcnMuc2NydWIsXG4gICAgICAgICAgdHJpZ2dlciA9IF92YXJzLnRyaWdnZXIsXG4gICAgICAgICAgcGluID0gX3ZhcnMucGluLFxuICAgICAgICAgIHBpblNwYWNpbmcgPSBfdmFycy5waW5TcGFjaW5nLFxuICAgICAgICAgIGludmFsaWRhdGVPblJlZnJlc2ggPSBfdmFycy5pbnZhbGlkYXRlT25SZWZyZXNoLFxuICAgICAgICAgIGFudGljaXBhdGVQaW4gPSBfdmFycy5hbnRpY2lwYXRlUGluLFxuICAgICAgICAgIG9uU2NydWJDb21wbGV0ZSA9IF92YXJzLm9uU2NydWJDb21wbGV0ZSxcbiAgICAgICAgICBvblNuYXBDb21wbGV0ZSA9IF92YXJzLm9uU25hcENvbXBsZXRlLFxuICAgICAgICAgIG9uY2UgPSBfdmFycy5vbmNlLFxuICAgICAgICAgIHNuYXAgPSBfdmFycy5zbmFwLFxuICAgICAgICAgIHBpblJlcGFyZW50ID0gX3ZhcnMucGluUmVwYXJlbnQsXG4gICAgICAgICAgcGluU3BhY2VyID0gX3ZhcnMucGluU3BhY2VyLFxuICAgICAgICAgIGNvbnRhaW5lckFuaW1hdGlvbiA9IF92YXJzLmNvbnRhaW5lckFuaW1hdGlvbixcbiAgICAgICAgICBmYXN0U2Nyb2xsRW5kID0gX3ZhcnMuZmFzdFNjcm9sbEVuZCxcbiAgICAgICAgICBwcmV2ZW50T3ZlcmxhcHMgPSBfdmFycy5wcmV2ZW50T3ZlcmxhcHMsXG4gICAgICAgICAgZGlyZWN0aW9uID0gdmFycy5ob3Jpem9udGFsIHx8IHZhcnMuY29udGFpbmVyQW5pbWF0aW9uICYmIHZhcnMuaG9yaXpvbnRhbCAhPT0gZmFsc2UgPyBfaG9yaXpvbnRhbCA6IF92ZXJ0aWNhbCxcbiAgICAgICAgICBpc1RvZ2dsZSA9ICFzY3J1YiAmJiBzY3J1YiAhPT0gMCxcbiAgICAgICAgICBzY3JvbGxlciA9IF9nZXRUYXJnZXQodmFycy5zY3JvbGxlciB8fCBfd2luJDEpLFxuICAgICAgICAgIHNjcm9sbGVyQ2FjaGUgPSBnc2FwJDEuY29yZS5nZXRDYWNoZShzY3JvbGxlciksXG4gICAgICAgICAgaXNWaWV3cG9ydCA9IF9pc1ZpZXdwb3J0JDEoc2Nyb2xsZXIpLFxuICAgICAgICAgIHVzZUZpeGVkUG9zaXRpb24gPSAoXCJwaW5UeXBlXCIgaW4gdmFycyA/IHZhcnMucGluVHlwZSA6IF9nZXRQcm94eVByb3Aoc2Nyb2xsZXIsIFwicGluVHlwZVwiKSB8fCBpc1ZpZXdwb3J0ICYmIFwiZml4ZWRcIikgPT09IFwiZml4ZWRcIixcbiAgICAgICAgICBjYWxsYmFja3MgPSBbdmFycy5vbkVudGVyLCB2YXJzLm9uTGVhdmUsIHZhcnMub25FbnRlckJhY2ssIHZhcnMub25MZWF2ZUJhY2tdLFxuICAgICAgICAgIHRvZ2dsZUFjdGlvbnMgPSBpc1RvZ2dsZSAmJiB2YXJzLnRvZ2dsZUFjdGlvbnMuc3BsaXQoXCIgXCIpLFxuICAgICAgICAgIG1hcmtlcnMgPSBcIm1hcmtlcnNcIiBpbiB2YXJzID8gdmFycy5tYXJrZXJzIDogX2RlZmF1bHRzLm1hcmtlcnMsXG4gICAgICAgICAgYm9yZGVyV2lkdGggPSBpc1ZpZXdwb3J0ID8gMCA6IHBhcnNlRmxvYXQoX2dldENvbXB1dGVkU3R5bGUoc2Nyb2xsZXIpW1wiYm9yZGVyXCIgKyBkaXJlY3Rpb24ucDIgKyBfV2lkdGhdKSB8fCAwLFxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIG9uUmVmcmVzaEluaXQgPSB2YXJzLm9uUmVmcmVzaEluaXQgJiYgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFycy5vblJlZnJlc2hJbml0KHNlbGYpO1xuICAgICAgfSxcbiAgICAgICAgICBnZXRTY3JvbGxlclNpemUgPSBfZ2V0U2l6ZUZ1bmMoc2Nyb2xsZXIsIGlzVmlld3BvcnQsIGRpcmVjdGlvbiksXG4gICAgICAgICAgZ2V0U2Nyb2xsZXJPZmZzZXRzID0gX2dldE9mZnNldHNGdW5jKHNjcm9sbGVyLCBpc1ZpZXdwb3J0KSxcbiAgICAgICAgICBsYXN0U25hcCA9IDAsXG4gICAgICAgICAgbGFzdFJlZnJlc2ggPSAwLFxuICAgICAgICAgIHNjcm9sbEZ1bmMgPSBfZ2V0U2Nyb2xsRnVuYyhzY3JvbGxlciwgZGlyZWN0aW9uKSxcbiAgICAgICAgICB0d2VlblRvLFxuICAgICAgICAgIHBpbkNhY2hlLFxuICAgICAgICAgIHNuYXBGdW5jLFxuICAgICAgICAgIHNjcm9sbDEsXG4gICAgICAgICAgc2Nyb2xsMixcbiAgICAgICAgICBzdGFydCxcbiAgICAgICAgICBlbmQsXG4gICAgICAgICAgbWFya2VyU3RhcnQsXG4gICAgICAgICAgbWFya2VyRW5kLFxuICAgICAgICAgIG1hcmtlclN0YXJ0VHJpZ2dlcixcbiAgICAgICAgICBtYXJrZXJFbmRUcmlnZ2VyLFxuICAgICAgICAgIG1hcmtlclZhcnMsXG4gICAgICAgICAgY2hhbmdlLFxuICAgICAgICAgIHBpbk9yaWdpbmFsU3RhdGUsXG4gICAgICAgICAgcGluQWN0aXZlU3RhdGUsXG4gICAgICAgICAgcGluU3RhdGUsXG4gICAgICAgICAgc3BhY2VyLFxuICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICBwaW5HZXR0ZXIsXG4gICAgICAgICAgcGluU2V0dGVyLFxuICAgICAgICAgIHBpblN0YXJ0LFxuICAgICAgICAgIHBpbkNoYW5nZSxcbiAgICAgICAgICBzcGFjaW5nU3RhcnQsXG4gICAgICAgICAgc3BhY2VyU3RhdGUsXG4gICAgICAgICAgbWFya2VyU3RhcnRTZXR0ZXIsXG4gICAgICAgICAgbWFya2VyRW5kU2V0dGVyLFxuICAgICAgICAgIGNzLFxuICAgICAgICAgIHNuYXAxLFxuICAgICAgICAgIHNuYXAyLFxuICAgICAgICAgIHNjcnViVHdlZW4sXG4gICAgICAgICAgc2NydWJTbW9vdGgsXG4gICAgICAgICAgc25hcER1ckNsYW1wLFxuICAgICAgICAgIHNuYXBEZWxheWVkQ2FsbCxcbiAgICAgICAgICBwcmV2UHJvZ3Jlc3MsXG4gICAgICAgICAgcHJldlNjcm9sbCxcbiAgICAgICAgICBwcmV2QW5pbVByb2dyZXNzLFxuICAgICAgICAgIGNhTWFya2VyU2V0dGVyLFxuICAgICAgICAgIGN1c3RvbVJldmVydFJldHVybjtcblxuICAgICAgc2VsZi5tZWRpYSA9IF9jcmVhdGluZ01lZGlhO1xuICAgICAgc2VsZi5fZGlyID0gZGlyZWN0aW9uO1xuICAgICAgYW50aWNpcGF0ZVBpbiAqPSA0NTtcbiAgICAgIHNlbGYuc2Nyb2xsZXIgPSBzY3JvbGxlcjtcbiAgICAgIHNlbGYuc2Nyb2xsID0gY29udGFpbmVyQW5pbWF0aW9uID8gY29udGFpbmVyQW5pbWF0aW9uLnRpbWUuYmluZChjb250YWluZXJBbmltYXRpb24pIDogc2Nyb2xsRnVuYztcbiAgICAgIHNjcm9sbDEgPSBzY3JvbGxGdW5jKCk7XG4gICAgICBzZWxmLnZhcnMgPSB2YXJzO1xuICAgICAgYW5pbWF0aW9uID0gYW5pbWF0aW9uIHx8IHZhcnMuYW5pbWF0aW9uO1xuXG4gICAgICBpZiAoXCJyZWZyZXNoUHJpb3JpdHlcIiBpbiB2YXJzKSB7XG4gICAgICAgIF9zb3J0ID0gMTtcbiAgICAgICAgdmFycy5yZWZyZXNoUHJpb3JpdHkgPT09IC05OTk5ICYmIChfcHJpbWFyeSA9IHNlbGYpO1xuICAgICAgfVxuXG4gICAgICBzY3JvbGxlckNhY2hlLnR3ZWVuU2Nyb2xsID0gc2Nyb2xsZXJDYWNoZS50d2VlblNjcm9sbCB8fCB7XG4gICAgICAgIHRvcDogX2dldFR3ZWVuQ3JlYXRvcihzY3JvbGxlciwgX3ZlcnRpY2FsKSxcbiAgICAgICAgbGVmdDogX2dldFR3ZWVuQ3JlYXRvcihzY3JvbGxlciwgX2hvcml6b250YWwpXG4gICAgICB9O1xuICAgICAgc2VsZi50d2VlblRvID0gdHdlZW5UbyA9IHNjcm9sbGVyQ2FjaGUudHdlZW5TY3JvbGxbZGlyZWN0aW9uLnBdO1xuXG4gICAgICBzZWxmLnNjcnViRHVyYXRpb24gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgc2NydWJTbW9vdGggPSBfaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlO1xuXG4gICAgICAgIGlmICghc2NydWJTbW9vdGgpIHtcbiAgICAgICAgICBzY3J1YlR3ZWVuICYmIHNjcnViVHdlZW4ucHJvZ3Jlc3MoMSkua2lsbCgpO1xuICAgICAgICAgIHNjcnViVHdlZW4gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNjcnViVHdlZW4gPyBzY3J1YlR3ZWVuLmR1cmF0aW9uKHZhbHVlKSA6IHNjcnViVHdlZW4gPSBnc2FwJDEudG8oYW5pbWF0aW9uLCB7XG4gICAgICAgICAgICBlYXNlOiBcImV4cG9cIixcbiAgICAgICAgICAgIHRvdGFsUHJvZ3Jlc3M6IFwiKz0wLjAwMVwiLFxuICAgICAgICAgICAgZHVyYXRpb246IHNjcnViU21vb3RoLFxuICAgICAgICAgICAgcGF1c2VkOiB0cnVlLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9uU2NydWJDb21wbGV0ZSAmJiBvblNjcnViQ29tcGxldGUoc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChhbmltYXRpb24pIHtcbiAgICAgICAgYW5pbWF0aW9uLnZhcnMubGF6eSA9IGZhbHNlO1xuICAgICAgICBhbmltYXRpb24uX2luaXR0ZWQgfHwgYW5pbWF0aW9uLnZhcnMuaW1tZWRpYXRlUmVuZGVyICE9PSBmYWxzZSAmJiB2YXJzLmltbWVkaWF0ZVJlbmRlciAhPT0gZmFsc2UgJiYgYW5pbWF0aW9uLnJlbmRlcigwLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgc2VsZi5hbmltYXRpb24gPSBhbmltYXRpb24ucGF1c2UoKTtcbiAgICAgICAgYW5pbWF0aW9uLnNjcm9sbFRyaWdnZXIgPSBzZWxmO1xuICAgICAgICBzZWxmLnNjcnViRHVyYXRpb24oc2NydWIpO1xuICAgICAgICBzbmFwMSA9IDA7XG4gICAgICAgIGlkIHx8IChpZCA9IGFuaW1hdGlvbi52YXJzLmlkKTtcbiAgICAgIH1cblxuICAgICAgX3RyaWdnZXJzLnB1c2goc2VsZik7XG5cbiAgICAgIGlmIChzbmFwKSB7XG4gICAgICAgIGlmICghX2lzT2JqZWN0KHNuYXApIHx8IHNuYXAucHVzaCkge1xuICAgICAgICAgIHNuYXAgPSB7XG4gICAgICAgICAgICBzbmFwVG86IHNuYXBcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgXCJzY3JvbGxCZWhhdmlvclwiIGluIF9ib2R5JDEuc3R5bGUgJiYgZ3NhcCQxLnNldChpc1ZpZXdwb3J0ID8gW19ib2R5JDEsIF9kb2NFbCQxXSA6IHNjcm9sbGVyLCB7XG4gICAgICAgICAgc2Nyb2xsQmVoYXZpb3I6IFwiYXV0b1wiXG4gICAgICAgIH0pO1xuICAgICAgICBzbmFwRnVuYyA9IF9pc0Z1bmN0aW9uKHNuYXAuc25hcFRvKSA/IHNuYXAuc25hcFRvIDogc25hcC5zbmFwVG8gPT09IFwibGFiZWxzXCIgPyBfZ2V0Q2xvc2VzdExhYmVsKGFuaW1hdGlvbikgOiBzbmFwLnNuYXBUbyA9PT0gXCJsYWJlbHNEaXJlY3Rpb25hbFwiID8gX2dldExhYmVsQXREaXJlY3Rpb24oYW5pbWF0aW9uKSA6IHNuYXAuZGlyZWN0aW9uYWwgIT09IGZhbHNlID8gZnVuY3Rpb24gKHZhbHVlLCBzdCkge1xuICAgICAgICAgIHJldHVybiBfc25hcERpcmVjdGlvbmFsKHNuYXAuc25hcFRvKSh2YWx1ZSwgX2dldFRpbWUkMSgpIC0gbGFzdFJlZnJlc2ggPCA1MDAgPyAwIDogc3QuZGlyZWN0aW9uKTtcbiAgICAgICAgfSA6IGdzYXAkMS51dGlscy5zbmFwKHNuYXAuc25hcFRvKTtcbiAgICAgICAgc25hcER1ckNsYW1wID0gc25hcC5kdXJhdGlvbiB8fCB7XG4gICAgICAgICAgbWluOiAwLjEsXG4gICAgICAgICAgbWF4OiAyXG4gICAgICAgIH07XG4gICAgICAgIHNuYXBEdXJDbGFtcCA9IF9pc09iamVjdChzbmFwRHVyQ2xhbXApID8gX2NsYW1wJDEoc25hcER1ckNsYW1wLm1pbiwgc25hcER1ckNsYW1wLm1heCkgOiBfY2xhbXAkMShzbmFwRHVyQ2xhbXAsIHNuYXBEdXJDbGFtcCk7XG4gICAgICAgIHNuYXBEZWxheWVkQ2FsbCA9IGdzYXAkMS5kZWxheWVkQ2FsbChzbmFwLmRlbGF5IHx8IHNjcnViU21vb3RoIC8gMiB8fCAwLjEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc2Nyb2xsID0gc2Nyb2xsRnVuYygpLFxuICAgICAgICAgICAgICByZWZyZXNoZWRSZWNlbnRseSA9IF9nZXRUaW1lJDEoKSAtIGxhc3RSZWZyZXNoIDwgNTAwLFxuICAgICAgICAgICAgICB0d2VlbiA9IHR3ZWVuVG8udHdlZW47XG5cbiAgICAgICAgICBpZiAoKHJlZnJlc2hlZFJlY2VudGx5IHx8IE1hdGguYWJzKHNlbGYuZ2V0VmVsb2NpdHkoKSkgPCAxMCkgJiYgIXR3ZWVuICYmICFfcG9pbnRlcklzRG93biAmJiBsYXN0U25hcCAhPT0gc2Nyb2xsKSB7XG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAoc2Nyb2xsIC0gc3RhcnQpIC8gY2hhbmdlLFxuICAgICAgICAgICAgICAgIHRvdGFsUHJvZ3Jlc3MgPSBhbmltYXRpb24gJiYgIWlzVG9nZ2xlID8gYW5pbWF0aW9uLnRvdGFsUHJvZ3Jlc3MoKSA6IHByb2dyZXNzLFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5ID0gcmVmcmVzaGVkUmVjZW50bHkgPyAwIDogKHRvdGFsUHJvZ3Jlc3MgLSBzbmFwMikgLyAoX2dldFRpbWUkMSgpIC0gX3RpbWUyKSAqIDEwMDAgfHwgMCxcbiAgICAgICAgICAgICAgICBjaGFuZ2UxID0gZ3NhcCQxLnV0aWxzLmNsYW1wKC1wcm9ncmVzcywgMSAtIHByb2dyZXNzLCBfYWJzKHZlbG9jaXR5IC8gMikgKiB2ZWxvY2l0eSAvIDAuMTg1KSxcbiAgICAgICAgICAgICAgICBuYXR1cmFsRW5kID0gcHJvZ3Jlc3MgKyAoc25hcC5pbmVydGlhID09PSBmYWxzZSA/IDAgOiBjaGFuZ2UxKSxcbiAgICAgICAgICAgICAgICBlbmRWYWx1ZSA9IF9jbGFtcCQxKDAsIDEsIHNuYXBGdW5jKG5hdHVyYWxFbmQsIHNlbGYpKSxcbiAgICAgICAgICAgICAgICBlbmRTY3JvbGwgPSBNYXRoLnJvdW5kKHN0YXJ0ICsgZW5kVmFsdWUgKiBjaGFuZ2UpLFxuICAgICAgICAgICAgICAgIF9zbmFwID0gc25hcCxcbiAgICAgICAgICAgICAgICBvblN0YXJ0ID0gX3NuYXAub25TdGFydCxcbiAgICAgICAgICAgICAgICBfb25JbnRlcnJ1cHQgPSBfc25hcC5vbkludGVycnVwdCxcbiAgICAgICAgICAgICAgICBfb25Db21wbGV0ZSA9IF9zbmFwLm9uQ29tcGxldGU7XG5cbiAgICAgICAgICAgIGlmIChzY3JvbGwgPD0gZW5kICYmIHNjcm9sbCA+PSBzdGFydCAmJiBlbmRTY3JvbGwgIT09IHNjcm9sbCkge1xuICAgICAgICAgICAgICBpZiAodHdlZW4gJiYgIXR3ZWVuLl9pbml0dGVkICYmIHR3ZWVuLmRhdGEgPD0gX2FicyhlbmRTY3JvbGwgLSBzY3JvbGwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHNuYXAuaW5lcnRpYSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2UxID0gZW5kVmFsdWUgLSBwcm9ncmVzcztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHR3ZWVuVG8oZW5kU2Nyb2xsLCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHNuYXBEdXJDbGFtcChfYWJzKE1hdGgubWF4KF9hYnMobmF0dXJhbEVuZCAtIHRvdGFsUHJvZ3Jlc3MpLCBfYWJzKGVuZFZhbHVlIC0gdG90YWxQcm9ncmVzcykpICogMC4xODUgLyB2ZWxvY2l0eSAvIDAuMDUgfHwgMCkpLFxuICAgICAgICAgICAgICAgIGVhc2U6IHNuYXAuZWFzZSB8fCBcInBvd2VyM1wiLFxuICAgICAgICAgICAgICAgIGRhdGE6IF9hYnMoZW5kU2Nyb2xsIC0gc2Nyb2xsKSxcbiAgICAgICAgICAgICAgICBvbkludGVycnVwdDogZnVuY3Rpb24gb25JbnRlcnJ1cHQoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc25hcERlbGF5ZWRDYWxsLnJlc3RhcnQodHJ1ZSkgJiYgX29uSW50ZXJydXB0ICYmIF9vbkludGVycnVwdChzZWxmKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgbGFzdFNuYXAgPSBzY3JvbGxGdW5jKCk7XG4gICAgICAgICAgICAgICAgICBzbmFwMSA9IHNuYXAyID0gYW5pbWF0aW9uICYmICFpc1RvZ2dsZSA/IGFuaW1hdGlvbi50b3RhbFByb2dyZXNzKCkgOiBzZWxmLnByb2dyZXNzO1xuICAgICAgICAgICAgICAgICAgb25TbmFwQ29tcGxldGUgJiYgb25TbmFwQ29tcGxldGUoc2VsZik7XG4gICAgICAgICAgICAgICAgICBfb25Db21wbGV0ZSAmJiBfb25Db21wbGV0ZShzZWxmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIHNjcm9sbCwgY2hhbmdlMSAqIGNoYW5nZSwgZW5kU2Nyb2xsIC0gc2Nyb2xsIC0gY2hhbmdlMSAqIGNoYW5nZSk7XG4gICAgICAgICAgICAgIG9uU3RhcnQgJiYgb25TdGFydChzZWxmLCB0d2VlblRvLnR3ZWVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuaXNBY3RpdmUgJiYgbGFzdFNuYXAgIT09IHNjcm9sbCkge1xuICAgICAgICAgICAgc25hcERlbGF5ZWRDYWxsLnJlc3RhcnQodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5wYXVzZSgpO1xuICAgICAgfVxuXG4gICAgICBpZCAmJiAoX2lkc1tpZF0gPSBzZWxmKTtcbiAgICAgIHRyaWdnZXIgPSBzZWxmLnRyaWdnZXIgPSBfZ2V0VGFyZ2V0KHRyaWdnZXIgfHwgcGluKTtcbiAgICAgIGN1c3RvbVJldmVydFJldHVybiA9IHRyaWdnZXIgJiYgdHJpZ2dlci5fZ3NhcCAmJiB0cmlnZ2VyLl9nc2FwLnN0UmV2ZXJ0O1xuICAgICAgY3VzdG9tUmV2ZXJ0UmV0dXJuICYmIChjdXN0b21SZXZlcnRSZXR1cm4gPSBjdXN0b21SZXZlcnRSZXR1cm4oc2VsZikpO1xuICAgICAgcGluID0gcGluID09PSB0cnVlID8gdHJpZ2dlciA6IF9nZXRUYXJnZXQocGluKTtcbiAgICAgIF9pc1N0cmluZyh0b2dnbGVDbGFzcykgJiYgKHRvZ2dsZUNsYXNzID0ge1xuICAgICAgICB0YXJnZXRzOiB0cmlnZ2VyLFxuICAgICAgICBjbGFzc05hbWU6IHRvZ2dsZUNsYXNzXG4gICAgICB9KTtcblxuICAgICAgaWYgKHBpbikge1xuICAgICAgICBwaW5TcGFjaW5nID09PSBmYWxzZSB8fCBwaW5TcGFjaW5nID09PSBfbWFyZ2luIHx8IChwaW5TcGFjaW5nID0gIXBpblNwYWNpbmcgJiYgX2dldENvbXB1dGVkU3R5bGUocGluLnBhcmVudE5vZGUpLmRpc3BsYXkgPT09IFwiZmxleFwiID8gZmFsc2UgOiBfcGFkZGluZyk7XG4gICAgICAgIHNlbGYucGluID0gcGluO1xuICAgICAgICB2YXJzLmZvcmNlM0QgIT09IGZhbHNlICYmIGdzYXAkMS5zZXQocGluLCB7XG4gICAgICAgICAgZm9yY2UzRDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcGluQ2FjaGUgPSBnc2FwJDEuY29yZS5nZXRDYWNoZShwaW4pO1xuXG4gICAgICAgIGlmICghcGluQ2FjaGUuc3BhY2VyKSB7XG4gICAgICAgICAgaWYgKHBpblNwYWNlcikge1xuICAgICAgICAgICAgcGluU3BhY2VyID0gX2dldFRhcmdldChwaW5TcGFjZXIpO1xuICAgICAgICAgICAgcGluU3BhY2VyICYmICFwaW5TcGFjZXIubm9kZVR5cGUgJiYgKHBpblNwYWNlciA9IHBpblNwYWNlci5jdXJyZW50IHx8IHBpblNwYWNlci5uYXRpdmVFbGVtZW50KTtcbiAgICAgICAgICAgIHBpbkNhY2hlLnNwYWNlcklzTmF0aXZlID0gISFwaW5TcGFjZXI7XG4gICAgICAgICAgICBwaW5TcGFjZXIgJiYgKHBpbkNhY2hlLnNwYWNlclN0YXRlID0gX2dldFN0YXRlKHBpblNwYWNlcikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBpbkNhY2hlLnNwYWNlciA9IHNwYWNlciA9IHBpblNwYWNlciB8fCBfZG9jJDEuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICBzcGFjZXIuY2xhc3NMaXN0LmFkZChcInBpbi1zcGFjZXJcIik7XG4gICAgICAgICAgaWQgJiYgc3BhY2VyLmNsYXNzTGlzdC5hZGQoXCJwaW4tc3BhY2VyLVwiICsgaWQpO1xuICAgICAgICAgIHBpbkNhY2hlLnBpblN0YXRlID0gcGluT3JpZ2luYWxTdGF0ZSA9IF9nZXRTdGF0ZShwaW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBpbk9yaWdpbmFsU3RhdGUgPSBwaW5DYWNoZS5waW5TdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuc3BhY2VyID0gc3BhY2VyID0gcGluQ2FjaGUuc3BhY2VyO1xuICAgICAgICBjcyA9IF9nZXRDb21wdXRlZFN0eWxlKHBpbik7XG4gICAgICAgIHNwYWNpbmdTdGFydCA9IGNzW3BpblNwYWNpbmcgKyBkaXJlY3Rpb24ub3MyXTtcbiAgICAgICAgcGluR2V0dGVyID0gZ3NhcCQxLmdldFByb3BlcnR5KHBpbik7XG4gICAgICAgIHBpblNldHRlciA9IGdzYXAkMS5xdWlja1NldHRlcihwaW4sIGRpcmVjdGlvbi5hLCBfcHgpO1xuXG4gICAgICAgIF9zd2FwUGluSW4ocGluLCBzcGFjZXIsIGNzKTtcblxuICAgICAgICBwaW5TdGF0ZSA9IF9nZXRTdGF0ZShwaW4pO1xuICAgICAgfVxuXG4gICAgICBpZiAobWFya2Vycykge1xuICAgICAgICBtYXJrZXJWYXJzID0gX2lzT2JqZWN0KG1hcmtlcnMpID8gX3NldERlZmF1bHRzKG1hcmtlcnMsIF9tYXJrZXJEZWZhdWx0cykgOiBfbWFya2VyRGVmYXVsdHM7XG4gICAgICAgIG1hcmtlclN0YXJ0VHJpZ2dlciA9IF9jcmVhdGVNYXJrZXIoXCJzY3JvbGxlci1zdGFydFwiLCBpZCwgc2Nyb2xsZXIsIGRpcmVjdGlvbiwgbWFya2VyVmFycywgMCk7XG4gICAgICAgIG1hcmtlckVuZFRyaWdnZXIgPSBfY3JlYXRlTWFya2VyKFwic2Nyb2xsZXItZW5kXCIsIGlkLCBzY3JvbGxlciwgZGlyZWN0aW9uLCBtYXJrZXJWYXJzLCAwLCBtYXJrZXJTdGFydFRyaWdnZXIpO1xuICAgICAgICBvZmZzZXQgPSBtYXJrZXJTdGFydFRyaWdnZXJbXCJvZmZzZXRcIiArIGRpcmVjdGlvbi5vcC5kMl07XG5cbiAgICAgICAgdmFyIGNvbnRlbnQgPSBfZ2V0VGFyZ2V0KF9nZXRQcm94eVByb3Aoc2Nyb2xsZXIsIFwiY29udGVudFwiKSB8fCBzY3JvbGxlcik7XG5cbiAgICAgICAgbWFya2VyU3RhcnQgPSB0aGlzLm1hcmtlclN0YXJ0ID0gX2NyZWF0ZU1hcmtlcihcInN0YXJ0XCIsIGlkLCBjb250ZW50LCBkaXJlY3Rpb24sIG1hcmtlclZhcnMsIG9mZnNldCwgMCwgY29udGFpbmVyQW5pbWF0aW9uKTtcbiAgICAgICAgbWFya2VyRW5kID0gdGhpcy5tYXJrZXJFbmQgPSBfY3JlYXRlTWFya2VyKFwiZW5kXCIsIGlkLCBjb250ZW50LCBkaXJlY3Rpb24sIG1hcmtlclZhcnMsIG9mZnNldCwgMCwgY29udGFpbmVyQW5pbWF0aW9uKTtcbiAgICAgICAgY29udGFpbmVyQW5pbWF0aW9uICYmIChjYU1hcmtlclNldHRlciA9IGdzYXAkMS5xdWlja1NldHRlcihbbWFya2VyU3RhcnQsIG1hcmtlckVuZF0sIGRpcmVjdGlvbi5hLCBfcHgpKTtcblxuICAgICAgICBpZiAoIXVzZUZpeGVkUG9zaXRpb24gJiYgIShfcHJveGllcy5sZW5ndGggJiYgX2dldFByb3h5UHJvcChzY3JvbGxlciwgXCJmaXhlZE1hcmtlcnNcIikgPT09IHRydWUpKSB7XG4gICAgICAgICAgX21ha2VQb3NpdGlvbmFibGUoaXNWaWV3cG9ydCA/IF9ib2R5JDEgOiBzY3JvbGxlcik7XG5cbiAgICAgICAgICBnc2FwJDEuc2V0KFttYXJrZXJTdGFydFRyaWdnZXIsIG1hcmtlckVuZFRyaWdnZXJdLCB7XG4gICAgICAgICAgICBmb3JjZTNEOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbWFya2VyU3RhcnRTZXR0ZXIgPSBnc2FwJDEucXVpY2tTZXR0ZXIobWFya2VyU3RhcnRUcmlnZ2VyLCBkaXJlY3Rpb24uYSwgX3B4KTtcbiAgICAgICAgICBtYXJrZXJFbmRTZXR0ZXIgPSBnc2FwJDEucXVpY2tTZXR0ZXIobWFya2VyRW5kVHJpZ2dlciwgZGlyZWN0aW9uLmEsIF9weCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnRhaW5lckFuaW1hdGlvbikge1xuICAgICAgICB2YXIgb2xkT25VcGRhdGUgPSBjb250YWluZXJBbmltYXRpb24udmFycy5vblVwZGF0ZSxcbiAgICAgICAgICAgIG9sZFBhcmFtcyA9IGNvbnRhaW5lckFuaW1hdGlvbi52YXJzLm9uVXBkYXRlUGFyYW1zO1xuICAgICAgICBjb250YWluZXJBbmltYXRpb24uZXZlbnRDYWxsYmFjayhcIm9uVXBkYXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLnVwZGF0ZSgwLCAwLCAxKTtcbiAgICAgICAgICBvbGRPblVwZGF0ZSAmJiBvbGRPblVwZGF0ZS5hcHBseShvbGRQYXJhbXMgfHwgW10pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5wcmV2aW91cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90cmlnZ2Vyc1tfdHJpZ2dlcnMuaW5kZXhPZihzZWxmKSAtIDFdO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RyaWdnZXJzW190cmlnZ2Vycy5pbmRleE9mKHNlbGYpICsgMV07XG4gICAgICB9O1xuXG4gICAgICBzZWxmLnJldmVydCA9IGZ1bmN0aW9uIChyZXZlcnQpIHtcbiAgICAgICAgdmFyIHIgPSByZXZlcnQgIT09IGZhbHNlIHx8ICFzZWxmLmVuYWJsZWQsXG4gICAgICAgICAgICBwcmV2UmVmcmVzaGluZyA9IF9yZWZyZXNoaW5nO1xuXG4gICAgICAgIGlmIChyICE9PSBzZWxmLmlzUmV2ZXJ0ZWQpIHtcbiAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgc2VsZi5zY3JvbGwucmVjIHx8ICFfcmVmcmVzaGluZyB8fCAhX3JlZnJlc2hpbmdBbGwgfHwgKHNlbGYuc2Nyb2xsLnJlYyA9IHNjcm9sbEZ1bmMoKSk7XG4gICAgICAgICAgICBwcmV2U2Nyb2xsID0gTWF0aC5tYXgoc2Nyb2xsRnVuYygpLCBzZWxmLnNjcm9sbC5yZWMgfHwgMCk7XG4gICAgICAgICAgICBwcmV2UHJvZ3Jlc3MgPSBzZWxmLnByb2dyZXNzO1xuICAgICAgICAgICAgcHJldkFuaW1Qcm9ncmVzcyA9IGFuaW1hdGlvbiAmJiBhbmltYXRpb24ucHJvZ3Jlc3MoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtYXJrZXJTdGFydCAmJiBbbWFya2VyU3RhcnQsIG1hcmtlckVuZCwgbWFya2VyU3RhcnRUcmlnZ2VyLCBtYXJrZXJFbmRUcmlnZ2VyXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICByZXR1cm4gbS5zdHlsZS5kaXNwbGF5ID0gciA/IFwibm9uZVwiIDogXCJibG9ja1wiO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHIgJiYgKF9yZWZyZXNoaW5nID0gMSk7XG4gICAgICAgICAgc2VsZi51cGRhdGUocik7XG4gICAgICAgICAgX3JlZnJlc2hpbmcgPSBwcmV2UmVmcmVzaGluZztcbiAgICAgICAgICBwaW4gJiYgKHIgPyBfc3dhcFBpbk91dChwaW4sIHNwYWNlciwgcGluT3JpZ2luYWxTdGF0ZSkgOiAoIXBpblJlcGFyZW50IHx8ICFzZWxmLmlzQWN0aXZlKSAmJiBfc3dhcFBpbkluKHBpbiwgc3BhY2VyLCBfZ2V0Q29tcHV0ZWRTdHlsZShwaW4pLCBzcGFjZXJTdGF0ZSkpO1xuICAgICAgICAgIHNlbGYuaXNSZXZlcnRlZCA9IHI7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlbGYucmVmcmVzaCA9IGZ1bmN0aW9uIChzb2Z0LCBmb3JjZSkge1xuICAgICAgICBpZiAoKF9yZWZyZXNoaW5nIHx8ICFzZWxmLmVuYWJsZWQpICYmICFmb3JjZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaW4gJiYgc29mdCAmJiBfbGFzdFNjcm9sbFRpbWUpIHtcbiAgICAgICAgICBfYWRkTGlzdGVuZXIkMShTY3JvbGxUcmlnZ2VyLCBcInNjcm9sbEVuZFwiLCBfc29mdFJlZnJlc2gpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgIV9yZWZyZXNoaW5nQWxsICYmIG9uUmVmcmVzaEluaXQgJiYgb25SZWZyZXNoSW5pdChzZWxmKTtcbiAgICAgICAgX3JlZnJlc2hpbmcgPSAxO1xuICAgICAgICBsYXN0UmVmcmVzaCA9IF9nZXRUaW1lJDEoKTtcblxuICAgICAgICBpZiAodHdlZW5Uby50d2Vlbikge1xuICAgICAgICAgIHR3ZWVuVG8udHdlZW4ua2lsbCgpO1xuICAgICAgICAgIHR3ZWVuVG8udHdlZW4gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NydWJUd2VlbiAmJiBzY3J1YlR3ZWVuLnBhdXNlKCk7XG4gICAgICAgIGludmFsaWRhdGVPblJlZnJlc2ggJiYgYW5pbWF0aW9uICYmIGFuaW1hdGlvbi50aW1lKC0wLjAxLCB0cnVlKS5pbnZhbGlkYXRlKCk7XG4gICAgICAgIHNlbGYuaXNSZXZlcnRlZCB8fCBzZWxmLnJldmVydCgpO1xuXG4gICAgICAgIHZhciBzaXplID0gZ2V0U2Nyb2xsZXJTaXplKCksXG4gICAgICAgICAgICBzY3JvbGxlckJvdW5kcyA9IGdldFNjcm9sbGVyT2Zmc2V0cygpLFxuICAgICAgICAgICAgbWF4ID0gY29udGFpbmVyQW5pbWF0aW9uID8gY29udGFpbmVyQW5pbWF0aW9uLmR1cmF0aW9uKCkgOiBfbWF4U2Nyb2xsKHNjcm9sbGVyLCBkaXJlY3Rpb24pLFxuICAgICAgICAgICAgb2Zmc2V0ID0gMCxcbiAgICAgICAgICAgIG90aGVyUGluT2Zmc2V0ID0gMCxcbiAgICAgICAgICAgIHBhcnNlZEVuZCA9IHZhcnMuZW5kLFxuICAgICAgICAgICAgcGFyc2VkRW5kVHJpZ2dlciA9IHZhcnMuZW5kVHJpZ2dlciB8fCB0cmlnZ2VyLFxuICAgICAgICAgICAgcGFyc2VkU3RhcnQgPSB2YXJzLnN0YXJ0IHx8ICh2YXJzLnN0YXJ0ID09PSAwIHx8ICF0cmlnZ2VyID8gMCA6IHBpbiA/IFwiMCAwXCIgOiBcIjAgMTAwJVwiKSxcbiAgICAgICAgICAgIHBpbm5lZENvbnRhaW5lciA9IHNlbGYucGlubmVkQ29udGFpbmVyID0gdmFycy5waW5uZWRDb250YWluZXIgJiYgX2dldFRhcmdldCh2YXJzLnBpbm5lZENvbnRhaW5lciksXG4gICAgICAgICAgICB0cmlnZ2VySW5kZXggPSB0cmlnZ2VyICYmIE1hdGgubWF4KDAsIF90cmlnZ2Vycy5pbmRleE9mKHNlbGYpKSB8fCAwLFxuICAgICAgICAgICAgaSA9IHRyaWdnZXJJbmRleCxcbiAgICAgICAgICAgIGNzLFxuICAgICAgICAgICAgYm91bmRzLFxuICAgICAgICAgICAgc2Nyb2xsLFxuICAgICAgICAgICAgaXNWZXJ0aWNhbCxcbiAgICAgICAgICAgIG92ZXJyaWRlLFxuICAgICAgICAgICAgY3VyVHJpZ2dlcixcbiAgICAgICAgICAgIGN1clBpbixcbiAgICAgICAgICAgIG9wcG9zaXRlU2Nyb2xsLFxuICAgICAgICAgICAgaW5pdHRlZCxcbiAgICAgICAgICAgIHJldmVydGVkUGlucztcblxuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgY3VyVHJpZ2dlciA9IF90cmlnZ2Vyc1tpXTtcbiAgICAgICAgICBjdXJUcmlnZ2VyLmVuZCB8fCBjdXJUcmlnZ2VyLnJlZnJlc2goMCwgMSkgfHwgKF9yZWZyZXNoaW5nID0gMSk7XG4gICAgICAgICAgY3VyUGluID0gY3VyVHJpZ2dlci5waW47XG5cbiAgICAgICAgICBpZiAoY3VyUGluICYmIChjdXJQaW4gPT09IHRyaWdnZXIgfHwgY3VyUGluID09PSBwaW4pICYmICFjdXJUcmlnZ2VyLmlzUmV2ZXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldmVydGVkUGlucyB8fCAocmV2ZXJ0ZWRQaW5zID0gW10pO1xuICAgICAgICAgICAgcmV2ZXJ0ZWRQaW5zLnVuc2hpZnQoY3VyVHJpZ2dlcik7XG4gICAgICAgICAgICBjdXJUcmlnZ2VyLnJldmVydCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjdXJUcmlnZ2VyICE9PSBfdHJpZ2dlcnNbaV0pIHtcbiAgICAgICAgICAgIHRyaWdnZXJJbmRleC0tO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF9pc0Z1bmN0aW9uKHBhcnNlZFN0YXJ0KSAmJiAocGFyc2VkU3RhcnQgPSBwYXJzZWRTdGFydChzZWxmKSk7XG4gICAgICAgIHN0YXJ0ID0gX3BhcnNlUG9zaXRpb24ocGFyc2VkU3RhcnQsIHRyaWdnZXIsIHNpemUsIGRpcmVjdGlvbiwgc2Nyb2xsRnVuYygpLCBtYXJrZXJTdGFydCwgbWFya2VyU3RhcnRUcmlnZ2VyLCBzZWxmLCBzY3JvbGxlckJvdW5kcywgYm9yZGVyV2lkdGgsIHVzZUZpeGVkUG9zaXRpb24sIG1heCwgY29udGFpbmVyQW5pbWF0aW9uKSB8fCAocGluID8gLTAuMDAxIDogMCk7XG4gICAgICAgIF9pc0Z1bmN0aW9uKHBhcnNlZEVuZCkgJiYgKHBhcnNlZEVuZCA9IHBhcnNlZEVuZChzZWxmKSk7XG5cbiAgICAgICAgaWYgKF9pc1N0cmluZyhwYXJzZWRFbmQpICYmICFwYXJzZWRFbmQuaW5kZXhPZihcIis9XCIpKSB7XG4gICAgICAgICAgaWYgKH5wYXJzZWRFbmQuaW5kZXhPZihcIiBcIikpIHtcbiAgICAgICAgICAgIHBhcnNlZEVuZCA9IChfaXNTdHJpbmcocGFyc2VkU3RhcnQpID8gcGFyc2VkU3RhcnQuc3BsaXQoXCIgXCIpWzBdIDogXCJcIikgKyBwYXJzZWRFbmQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldCA9IF9vZmZzZXRUb1B4KHBhcnNlZEVuZC5zdWJzdHIoMiksIHNpemUpO1xuICAgICAgICAgICAgcGFyc2VkRW5kID0gX2lzU3RyaW5nKHBhcnNlZFN0YXJ0KSA/IHBhcnNlZFN0YXJ0IDogc3RhcnQgKyBvZmZzZXQ7XG4gICAgICAgICAgICBwYXJzZWRFbmRUcmlnZ2VyID0gdHJpZ2dlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbmQgPSBNYXRoLm1heChzdGFydCwgX3BhcnNlUG9zaXRpb24ocGFyc2VkRW5kIHx8IChwYXJzZWRFbmRUcmlnZ2VyID8gXCIxMDAlIDBcIiA6IG1heCksIHBhcnNlZEVuZFRyaWdnZXIsIHNpemUsIGRpcmVjdGlvbiwgc2Nyb2xsRnVuYygpICsgb2Zmc2V0LCBtYXJrZXJFbmQsIG1hcmtlckVuZFRyaWdnZXIsIHNlbGYsIHNjcm9sbGVyQm91bmRzLCBib3JkZXJXaWR0aCwgdXNlRml4ZWRQb3NpdGlvbiwgbWF4LCBjb250YWluZXJBbmltYXRpb24pKSB8fCAtMC4wMDE7XG4gICAgICAgIGNoYW5nZSA9IGVuZCAtIHN0YXJ0IHx8IChzdGFydCAtPSAwLjAxKSAmJiAwLjAwMTtcbiAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgaSA9IHRyaWdnZXJJbmRleDtcblxuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgY3VyVHJpZ2dlciA9IF90cmlnZ2Vyc1tpXTtcbiAgICAgICAgICBjdXJQaW4gPSBjdXJUcmlnZ2VyLnBpbjtcblxuICAgICAgICAgIGlmIChjdXJQaW4gJiYgY3VyVHJpZ2dlci5zdGFydCAtIGN1clRyaWdnZXIuX3BpblB1c2ggPCBzdGFydCAmJiAhY29udGFpbmVyQW5pbWF0aW9uICYmIGN1clRyaWdnZXIuZW5kID4gMCkge1xuICAgICAgICAgICAgY3MgPSBjdXJUcmlnZ2VyLmVuZCAtIGN1clRyaWdnZXIuc3RhcnQ7XG5cbiAgICAgICAgICAgIGlmICgoY3VyUGluID09PSB0cmlnZ2VyIHx8IGN1clBpbiA9PT0gcGlubmVkQ29udGFpbmVyKSAmJiAhX2lzTnVtYmVyKHBhcnNlZFN0YXJ0KSkge1xuICAgICAgICAgICAgICBvZmZzZXQgKz0gY3MgKiAoMSAtIGN1clRyaWdnZXIucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJQaW4gPT09IHBpbiAmJiAob3RoZXJQaW5PZmZzZXQgKz0gY3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0ICs9IG9mZnNldDtcbiAgICAgICAgZW5kICs9IG9mZnNldDtcbiAgICAgICAgc2VsZi5fcGluUHVzaCA9IG90aGVyUGluT2Zmc2V0O1xuXG4gICAgICAgIGlmIChtYXJrZXJTdGFydCAmJiBvZmZzZXQpIHtcbiAgICAgICAgICBjcyA9IHt9O1xuICAgICAgICAgIGNzW2RpcmVjdGlvbi5hXSA9IFwiKz1cIiArIG9mZnNldDtcbiAgICAgICAgICBwaW5uZWRDb250YWluZXIgJiYgKGNzW2RpcmVjdGlvbi5wXSA9IFwiLT1cIiArIHNjcm9sbEZ1bmMoKSk7XG4gICAgICAgICAgZ3NhcCQxLnNldChbbWFya2VyU3RhcnQsIG1hcmtlckVuZF0sIGNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaW4pIHtcbiAgICAgICAgICBjcyA9IF9nZXRDb21wdXRlZFN0eWxlKHBpbik7XG4gICAgICAgICAgaXNWZXJ0aWNhbCA9IGRpcmVjdGlvbiA9PT0gX3ZlcnRpY2FsO1xuICAgICAgICAgIHNjcm9sbCA9IHNjcm9sbEZ1bmMoKTtcbiAgICAgICAgICBwaW5TdGFydCA9IHBhcnNlRmxvYXQocGluR2V0dGVyKGRpcmVjdGlvbi5hKSkgKyBvdGhlclBpbk9mZnNldDtcbiAgICAgICAgICAhbWF4ICYmIGVuZCA+IDEgJiYgKChpc1ZpZXdwb3J0ID8gX2JvZHkkMSA6IHNjcm9sbGVyKS5zdHlsZVtcIm92ZXJmbG93LVwiICsgZGlyZWN0aW9uLmFdID0gXCJzY3JvbGxcIik7XG5cbiAgICAgICAgICBfc3dhcFBpbkluKHBpbiwgc3BhY2VyLCBjcyk7XG5cbiAgICAgICAgICBwaW5TdGF0ZSA9IF9nZXRTdGF0ZShwaW4pO1xuICAgICAgICAgIGJvdW5kcyA9IF9nZXRCb3VuZHMocGluLCB0cnVlKTtcbiAgICAgICAgICBvcHBvc2l0ZVNjcm9sbCA9IHVzZUZpeGVkUG9zaXRpb24gJiYgX2dldFNjcm9sbEZ1bmMoc2Nyb2xsZXIsIGlzVmVydGljYWwgPyBfaG9yaXpvbnRhbCA6IF92ZXJ0aWNhbCkoKTtcblxuICAgICAgICAgIGlmIChwaW5TcGFjaW5nKSB7XG4gICAgICAgICAgICBzcGFjZXJTdGF0ZSA9IFtwaW5TcGFjaW5nICsgZGlyZWN0aW9uLm9zMiwgY2hhbmdlICsgb3RoZXJQaW5PZmZzZXQgKyBfcHhdO1xuICAgICAgICAgICAgc3BhY2VyU3RhdGUudCA9IHNwYWNlcjtcbiAgICAgICAgICAgIGkgPSBwaW5TcGFjaW5nID09PSBfcGFkZGluZyA/IF9nZXRTaXplKHBpbiwgZGlyZWN0aW9uKSArIGNoYW5nZSArIG90aGVyUGluT2Zmc2V0IDogMDtcbiAgICAgICAgICAgIGkgJiYgc3BhY2VyU3RhdGUucHVzaChkaXJlY3Rpb24uZCwgaSArIF9weCk7XG5cbiAgICAgICAgICAgIF9zZXRTdGF0ZShzcGFjZXJTdGF0ZSk7XG5cbiAgICAgICAgICAgIHVzZUZpeGVkUG9zaXRpb24gJiYgc2Nyb2xsRnVuYyhwcmV2U2Nyb2xsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXNlRml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgb3ZlcnJpZGUgPSB7XG4gICAgICAgICAgICAgIHRvcDogYm91bmRzLnRvcCArIChpc1ZlcnRpY2FsID8gc2Nyb2xsIC0gc3RhcnQgOiBvcHBvc2l0ZVNjcm9sbCkgKyBfcHgsXG4gICAgICAgICAgICAgIGxlZnQ6IGJvdW5kcy5sZWZ0ICsgKGlzVmVydGljYWwgPyBvcHBvc2l0ZVNjcm9sbCA6IHNjcm9sbCAtIHN0YXJ0KSArIF9weCxcbiAgICAgICAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG92ZXJyaWRlW193aWR0aF0gPSBvdmVycmlkZVtcIm1heFwiICsgX1dpZHRoXSA9IE1hdGguY2VpbChib3VuZHMud2lkdGgpICsgX3B4O1xuICAgICAgICAgICAgb3ZlcnJpZGVbX2hlaWdodF0gPSBvdmVycmlkZVtcIm1heFwiICsgX0hlaWdodF0gPSBNYXRoLmNlaWwoYm91bmRzLmhlaWdodCkgKyBfcHg7XG4gICAgICAgICAgICBvdmVycmlkZVtfbWFyZ2luXSA9IG92ZXJyaWRlW19tYXJnaW4gKyBfVG9wXSA9IG92ZXJyaWRlW19tYXJnaW4gKyBfUmlnaHRdID0gb3ZlcnJpZGVbX21hcmdpbiArIF9Cb3R0b21dID0gb3ZlcnJpZGVbX21hcmdpbiArIF9MZWZ0XSA9IFwiMFwiO1xuICAgICAgICAgICAgb3ZlcnJpZGVbX3BhZGRpbmddID0gY3NbX3BhZGRpbmddO1xuICAgICAgICAgICAgb3ZlcnJpZGVbX3BhZGRpbmcgKyBfVG9wXSA9IGNzW19wYWRkaW5nICsgX1RvcF07XG4gICAgICAgICAgICBvdmVycmlkZVtfcGFkZGluZyArIF9SaWdodF0gPSBjc1tfcGFkZGluZyArIF9SaWdodF07XG4gICAgICAgICAgICBvdmVycmlkZVtfcGFkZGluZyArIF9Cb3R0b21dID0gY3NbX3BhZGRpbmcgKyBfQm90dG9tXTtcbiAgICAgICAgICAgIG92ZXJyaWRlW19wYWRkaW5nICsgX0xlZnRdID0gY3NbX3BhZGRpbmcgKyBfTGVmdF07XG4gICAgICAgICAgICBwaW5BY3RpdmVTdGF0ZSA9IF9jb3B5U3RhdGUocGluT3JpZ2luYWxTdGF0ZSwgb3ZlcnJpZGUsIHBpblJlcGFyZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBpbml0dGVkID0gYW5pbWF0aW9uLl9pbml0dGVkO1xuXG4gICAgICAgICAgICBfc3VwcHJlc3NPdmVyd3JpdGVzKDEpO1xuXG4gICAgICAgICAgICBhbmltYXRpb24ucmVuZGVyKGFuaW1hdGlvbi5kdXJhdGlvbigpLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHBpbkNoYW5nZSA9IHBpbkdldHRlcihkaXJlY3Rpb24uYSkgLSBwaW5TdGFydCArIGNoYW5nZSArIG90aGVyUGluT2Zmc2V0O1xuICAgICAgICAgICAgY2hhbmdlICE9PSBwaW5DaGFuZ2UgJiYgdXNlRml4ZWRQb3NpdGlvbiAmJiBwaW5BY3RpdmVTdGF0ZS5zcGxpY2UocGluQWN0aXZlU3RhdGUubGVuZ3RoIC0gMiwgMik7XG4gICAgICAgICAgICBhbmltYXRpb24ucmVuZGVyKDAsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgaW5pdHRlZCB8fCBhbmltYXRpb24uaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICBfc3VwcHJlc3NPdmVyd3JpdGVzKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwaW5DaGFuZ2UgPSBjaGFuZ2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgJiYgc2Nyb2xsRnVuYygpICYmICFjb250YWluZXJBbmltYXRpb24pIHtcbiAgICAgICAgICBib3VuZHMgPSB0cmlnZ2VyLnBhcmVudE5vZGU7XG5cbiAgICAgICAgICB3aGlsZSAoYm91bmRzICYmIGJvdW5kcyAhPT0gX2JvZHkkMSkge1xuICAgICAgICAgICAgaWYgKGJvdW5kcy5fcGluT2Zmc2V0KSB7XG4gICAgICAgICAgICAgIHN0YXJ0IC09IGJvdW5kcy5fcGluT2Zmc2V0O1xuICAgICAgICAgICAgICBlbmQgLT0gYm91bmRzLl9waW5PZmZzZXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJvdW5kcyA9IGJvdW5kcy5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldmVydGVkUGlucyAmJiByZXZlcnRlZFBpbnMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHJldHVybiB0LnJldmVydChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHNlbGYuZW5kID0gZW5kO1xuICAgICAgICBzY3JvbGwxID0gc2Nyb2xsMiA9IHNjcm9sbEZ1bmMoKTtcblxuICAgICAgICBpZiAoIWNvbnRhaW5lckFuaW1hdGlvbikge1xuICAgICAgICAgIHNjcm9sbDEgPCBwcmV2U2Nyb2xsICYmIHNjcm9sbEZ1bmMocHJldlNjcm9sbCk7XG4gICAgICAgICAgc2VsZi5zY3JvbGwucmVjID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYucmV2ZXJ0KGZhbHNlKTtcblxuICAgICAgICBpZiAoc25hcERlbGF5ZWRDYWxsKSB7XG4gICAgICAgICAgbGFzdFNuYXAgPSAtMTtcbiAgICAgICAgICBzZWxmLmlzQWN0aXZlICYmIHNjcm9sbEZ1bmMoc3RhcnQgKyBjaGFuZ2UgKiBwcmV2UHJvZ3Jlc3MpO1xuICAgICAgICAgIHNuYXBEZWxheWVkQ2FsbC5yZXN0YXJ0KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3JlZnJlc2hpbmcgPSAwO1xuICAgICAgICBhbmltYXRpb24gJiYgaXNUb2dnbGUgJiYgKGFuaW1hdGlvbi5faW5pdHRlZCB8fCBwcmV2QW5pbVByb2dyZXNzKSAmJiBhbmltYXRpb24ucHJvZ3Jlc3MoKSAhPT0gcHJldkFuaW1Qcm9ncmVzcyAmJiBhbmltYXRpb24ucHJvZ3Jlc3MocHJldkFuaW1Qcm9ncmVzcywgdHJ1ZSkucmVuZGVyKGFuaW1hdGlvbi50aW1lKCksIHRydWUsIHRydWUpO1xuXG4gICAgICAgIGlmIChwcmV2UHJvZ3Jlc3MgIT09IHNlbGYucHJvZ3Jlc3MgfHwgY29udGFpbmVyQW5pbWF0aW9uKSB7XG4gICAgICAgICAgYW5pbWF0aW9uICYmICFpc1RvZ2dsZSAmJiBhbmltYXRpb24udG90YWxQcm9ncmVzcyhwcmV2UHJvZ3Jlc3MsIHRydWUpO1xuICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSBwcmV2UHJvZ3Jlc3M7XG4gICAgICAgICAgc2VsZi51cGRhdGUoMCwgMCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBwaW4gJiYgcGluU3BhY2luZyAmJiAoc3BhY2VyLl9waW5PZmZzZXQgPSBNYXRoLnJvdW5kKHNlbGYucHJvZ3Jlc3MgKiBwaW5DaGFuZ2UpKTtcbiAgICAgICAgb25SZWZyZXNoICYmIG9uUmVmcmVzaChzZWxmKTtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuZ2V0VmVsb2NpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoc2Nyb2xsRnVuYygpIC0gc2Nyb2xsMikgLyAoX2dldFRpbWUkMSgpIC0gX3RpbWUyKSAqIDEwMDAgfHwgMDtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuZW5kQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfZW5kQW5pbWF0aW9uKHNlbGYuY2FsbGJhY2tBbmltYXRpb24pO1xuXG4gICAgICAgIGlmIChhbmltYXRpb24pIHtcbiAgICAgICAgICBzY3J1YlR3ZWVuID8gc2NydWJUd2Vlbi5wcm9ncmVzcygxKSA6ICFhbmltYXRpb24ucGF1c2VkKCkgPyBfZW5kQW5pbWF0aW9uKGFuaW1hdGlvbiwgYW5pbWF0aW9uLnJldmVyc2VkKCkpIDogaXNUb2dnbGUgfHwgX2VuZEFuaW1hdGlvbihhbmltYXRpb24sIHNlbGYuZGlyZWN0aW9uIDwgMCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlbGYubGFiZWxUb1Njcm9sbCA9IGZ1bmN0aW9uIChsYWJlbCkge1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uICYmIGFuaW1hdGlvbi5sYWJlbHMgJiYgKHN0YXJ0IHx8IHNlbGYucmVmcmVzaCgpIHx8IHN0YXJ0KSArIGFuaW1hdGlvbi5sYWJlbHNbbGFiZWxdIC8gYW5pbWF0aW9uLmR1cmF0aW9uKCkgKiBjaGFuZ2UgfHwgMDtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuZ2V0VHJhaWxpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgaSA9IF90cmlnZ2Vycy5pbmRleE9mKHNlbGYpLFxuICAgICAgICAgICAgYSA9IHNlbGYuZGlyZWN0aW9uID4gMCA/IF90cmlnZ2Vycy5zbGljZSgwLCBpKS5yZXZlcnNlKCkgOiBfdHJpZ2dlcnMuc2xpY2UoaSArIDEpO1xuXG4gICAgICAgIHJldHVybiAoX2lzU3RyaW5nKG5hbWUpID8gYS5maWx0ZXIoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC52YXJzLnByZXZlbnRPdmVybGFwcyA9PT0gbmFtZTtcbiAgICAgICAgfSkgOiBhKS5maWx0ZXIoZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5kaXJlY3Rpb24gPiAwID8gdC5lbmQgPD0gc3RhcnQgOiB0LnN0YXJ0ID49IGVuZDtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLnVwZGF0ZSA9IGZ1bmN0aW9uIChyZXNldCwgcmVjb3JkVmVsb2NpdHksIGZvcmNlRmFrZSkge1xuICAgICAgICBpZiAoY29udGFpbmVyQW5pbWF0aW9uICYmICFmb3JjZUZha2UgJiYgIXJlc2V0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNjcm9sbCA9IHNlbGYuc2Nyb2xsKCksXG4gICAgICAgICAgICBwID0gcmVzZXQgPyAwIDogKHNjcm9sbCAtIHN0YXJ0KSAvIGNoYW5nZSxcbiAgICAgICAgICAgIGNsaXBwZWQgPSBwIDwgMCA/IDAgOiBwID4gMSA/IDEgOiBwIHx8IDAsXG4gICAgICAgICAgICBwcmV2UHJvZ3Jlc3MgPSBzZWxmLnByb2dyZXNzLFxuICAgICAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgICAgICB3YXNBY3RpdmUsXG4gICAgICAgICAgICB0b2dnbGVTdGF0ZSxcbiAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgIHN0YXRlQ2hhbmdlZCxcbiAgICAgICAgICAgIHRvZ2dsZWQsXG4gICAgICAgICAgICBpc0F0TWF4LFxuICAgICAgICAgICAgaXNUYWtpbmdBY3Rpb247XG5cbiAgICAgICAgaWYgKHJlY29yZFZlbG9jaXR5KSB7XG4gICAgICAgICAgc2Nyb2xsMiA9IHNjcm9sbDE7XG4gICAgICAgICAgc2Nyb2xsMSA9IGNvbnRhaW5lckFuaW1hdGlvbiA/IHNjcm9sbEZ1bmMoKSA6IHNjcm9sbDtcblxuICAgICAgICAgIGlmIChzbmFwKSB7XG4gICAgICAgICAgICBzbmFwMiA9IHNuYXAxO1xuICAgICAgICAgICAgc25hcDEgPSBhbmltYXRpb24gJiYgIWlzVG9nZ2xlID8gYW5pbWF0aW9uLnRvdGFsUHJvZ3Jlc3MoKSA6IGNsaXBwZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYW50aWNpcGF0ZVBpbiAmJiAhY2xpcHBlZCAmJiBwaW4gJiYgIV9yZWZyZXNoaW5nICYmICFfc3RhcnR1cCQxICYmIF9sYXN0U2Nyb2xsVGltZSAmJiBzdGFydCA8IHNjcm9sbCArIChzY3JvbGwgLSBzY3JvbGwyKSAvIChfZ2V0VGltZSQxKCkgLSBfdGltZTIpICogYW50aWNpcGF0ZVBpbiAmJiAoY2xpcHBlZCA9IDAuMDAwMSk7XG5cbiAgICAgICAgaWYgKGNsaXBwZWQgIT09IHByZXZQcm9ncmVzcyAmJiBzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgICBpc0FjdGl2ZSA9IHNlbGYuaXNBY3RpdmUgPSAhIWNsaXBwZWQgJiYgY2xpcHBlZCA8IDE7XG4gICAgICAgICAgd2FzQWN0aXZlID0gISFwcmV2UHJvZ3Jlc3MgJiYgcHJldlByb2dyZXNzIDwgMTtcbiAgICAgICAgICB0b2dnbGVkID0gaXNBY3RpdmUgIT09IHdhc0FjdGl2ZTtcbiAgICAgICAgICBzdGF0ZUNoYW5nZWQgPSB0b2dnbGVkIHx8ICEhY2xpcHBlZCAhPT0gISFwcmV2UHJvZ3Jlc3M7XG4gICAgICAgICAgc2VsZi5kaXJlY3Rpb24gPSBjbGlwcGVkID4gcHJldlByb2dyZXNzID8gMSA6IC0xO1xuICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSBjbGlwcGVkO1xuXG4gICAgICAgICAgaWYgKHN0YXRlQ2hhbmdlZCAmJiAhX3JlZnJlc2hpbmcpIHtcbiAgICAgICAgICAgIHRvZ2dsZVN0YXRlID0gY2xpcHBlZCAmJiAhcHJldlByb2dyZXNzID8gMCA6IGNsaXBwZWQgPT09IDEgPyAxIDogcHJldlByb2dyZXNzID09PSAxID8gMiA6IDM7XG5cbiAgICAgICAgICAgIGlmIChpc1RvZ2dsZSkge1xuICAgICAgICAgICAgICBhY3Rpb24gPSAhdG9nZ2xlZCAmJiB0b2dnbGVBY3Rpb25zW3RvZ2dsZVN0YXRlICsgMV0gIT09IFwibm9uZVwiICYmIHRvZ2dsZUFjdGlvbnNbdG9nZ2xlU3RhdGUgKyAxXSB8fCB0b2dnbGVBY3Rpb25zW3RvZ2dsZVN0YXRlXTtcbiAgICAgICAgICAgICAgaXNUYWtpbmdBY3Rpb24gPSBhbmltYXRpb24gJiYgKGFjdGlvbiA9PT0gXCJjb21wbGV0ZVwiIHx8IGFjdGlvbiA9PT0gXCJyZXNldFwiIHx8IGFjdGlvbiBpbiBhbmltYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHByZXZlbnRPdmVybGFwcyAmJiAodG9nZ2xlZCB8fCBpc1Rha2luZ0FjdGlvbikgJiYgKGlzVGFraW5nQWN0aW9uIHx8IHNjcnViIHx8ICFhbmltYXRpb24pICYmIChfaXNGdW5jdGlvbihwcmV2ZW50T3ZlcmxhcHMpID8gcHJldmVudE92ZXJsYXBzKHNlbGYpIDogc2VsZi5nZXRUcmFpbGluZyhwcmV2ZW50T3ZlcmxhcHMpLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0LmVuZEFuaW1hdGlvbigpO1xuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIGlmICghaXNUb2dnbGUpIHtcbiAgICAgICAgICAgIGlmIChzY3J1YlR3ZWVuICYmICFfcmVmcmVzaGluZyAmJiAhX3N0YXJ0dXAkMSkge1xuICAgICAgICAgICAgICAoY29udGFpbmVyQW5pbWF0aW9uIHx8IF9wcmltYXJ5ICYmIF9wcmltYXJ5ICE9PSBzZWxmKSAmJiBzY3J1YlR3ZWVuLnJlbmRlcihzY3J1YlR3ZWVuLl9kcC5fdGltZSAtIHNjcnViVHdlZW4uX3N0YXJ0KTtcblxuICAgICAgICAgICAgICBpZiAoc2NydWJUd2Vlbi5yZXNldFRvKSB7XG4gICAgICAgICAgICAgICAgc2NydWJUd2Vlbi5yZXNldFRvKFwidG90YWxQcm9ncmVzc1wiLCBjbGlwcGVkLCBhbmltYXRpb24uX3RUaW1lIC8gYW5pbWF0aW9uLl90RHVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY3J1YlR3ZWVuLnZhcnMudG90YWxQcm9ncmVzcyA9IGNsaXBwZWQ7XG4gICAgICAgICAgICAgICAgc2NydWJUd2Vlbi5pbnZhbGlkYXRlKCkucmVzdGFydCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFuaW1hdGlvbikge1xuICAgICAgICAgICAgICBhbmltYXRpb24udG90YWxQcm9ncmVzcyhjbGlwcGVkLCAhIV9yZWZyZXNoaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocGluKSB7XG4gICAgICAgICAgICByZXNldCAmJiBwaW5TcGFjaW5nICYmIChzcGFjZXIuc3R5bGVbcGluU3BhY2luZyArIGRpcmVjdGlvbi5vczJdID0gc3BhY2luZ1N0YXJ0KTtcblxuICAgICAgICAgICAgaWYgKCF1c2VGaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIHBpblNldHRlcihfcm91bmQocGluU3RhcnQgKyBwaW5DaGFuZ2UgKiBjbGlwcGVkKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBpc0F0TWF4ID0gIXJlc2V0ICYmIGNsaXBwZWQgPiBwcmV2UHJvZ3Jlc3MgJiYgZW5kICsgMSA+IHNjcm9sbCAmJiBzY3JvbGwgKyAxID49IF9tYXhTY3JvbGwoc2Nyb2xsZXIsIGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgICAgaWYgKHBpblJlcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNldCAmJiAoaXNBY3RpdmUgfHwgaXNBdE1heCkpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBfZ2V0Qm91bmRzKHBpbiwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgX29mZnNldCA9IHNjcm9sbCAtIHN0YXJ0O1xuXG4gICAgICAgICAgICAgICAgICBfcmVwYXJlbnQocGluLCBfYm9keSQxLCBib3VuZHMudG9wICsgKGRpcmVjdGlvbiA9PT0gX3ZlcnRpY2FsID8gX29mZnNldCA6IDApICsgX3B4LCBib3VuZHMubGVmdCArIChkaXJlY3Rpb24gPT09IF92ZXJ0aWNhbCA/IDAgOiBfb2Zmc2V0KSArIF9weCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIF9yZXBhcmVudChwaW4sIHNwYWNlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3NldFN0YXRlKGlzQWN0aXZlIHx8IGlzQXRNYXggPyBwaW5BY3RpdmVTdGF0ZSA6IHBpblN0YXRlKTtcblxuICAgICAgICAgICAgICBwaW5DaGFuZ2UgIT09IGNoYW5nZSAmJiBjbGlwcGVkIDwgMSAmJiBpc0FjdGl2ZSB8fCBwaW5TZXR0ZXIocGluU3RhcnQgKyAoY2xpcHBlZCA9PT0gMSAmJiAhaXNBdE1heCA/IHBpbkNoYW5nZSA6IDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzbmFwICYmICF0d2VlblRvLnR3ZWVuICYmICFfcmVmcmVzaGluZyAmJiAhX3N0YXJ0dXAkMSAmJiBzbmFwRGVsYXllZENhbGwucmVzdGFydCh0cnVlKTtcbiAgICAgICAgICB0b2dnbGVDbGFzcyAmJiAodG9nZ2xlZCB8fCBvbmNlICYmIGNsaXBwZWQgJiYgKGNsaXBwZWQgPCAxIHx8ICFfbGltaXRDYWxsYmFja3MpKSAmJiBfdG9BcnJheSh0b2dnbGVDbGFzcy50YXJnZXRzKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsLmNsYXNzTGlzdFtpc0FjdGl2ZSB8fCBvbmNlID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKHRvZ2dsZUNsYXNzLmNsYXNzTmFtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb25VcGRhdGUgJiYgIWlzVG9nZ2xlICYmICFyZXNldCAmJiBvblVwZGF0ZShzZWxmKTtcblxuICAgICAgICAgIGlmIChzdGF0ZUNoYW5nZWQgJiYgIV9yZWZyZXNoaW5nKSB7XG4gICAgICAgICAgICBpZiAoaXNUb2dnbGUpIHtcbiAgICAgICAgICAgICAgaWYgKGlzVGFraW5nQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJjb21wbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICBhbmltYXRpb24ucGF1c2UoKS50b3RhbFByb2dyZXNzKDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlc2V0XCIpIHtcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5yZXN0YXJ0KHRydWUpLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicmVzdGFydFwiKSB7XG4gICAgICAgICAgICAgICAgICBhbmltYXRpb24ucmVzdGFydCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uW2FjdGlvbl0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvblVwZGF0ZSAmJiBvblVwZGF0ZShzZWxmKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRvZ2dsZWQgfHwgIV9saW1pdENhbGxiYWNrcykge1xuICAgICAgICAgICAgICBvblRvZ2dsZSAmJiB0b2dnbGVkICYmIF9jYWxsYmFjayhzZWxmLCBvblRvZ2dsZSk7XG4gICAgICAgICAgICAgIGNhbGxiYWNrc1t0b2dnbGVTdGF0ZV0gJiYgX2NhbGxiYWNrKHNlbGYsIGNhbGxiYWNrc1t0b2dnbGVTdGF0ZV0pO1xuICAgICAgICAgICAgICBvbmNlICYmIChjbGlwcGVkID09PSAxID8gc2VsZi5raWxsKGZhbHNlLCAxKSA6IGNhbGxiYWNrc1t0b2dnbGVTdGF0ZV0gPSAwKTtcblxuICAgICAgICAgICAgICBpZiAoIXRvZ2dsZWQpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVTdGF0ZSA9IGNsaXBwZWQgPT09IDEgPyAxIDogMztcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdICYmIF9jYWxsYmFjayhzZWxmLCBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmFzdFNjcm9sbEVuZCAmJiAhaXNBY3RpdmUgJiYgTWF0aC5hYnMoc2VsZi5nZXRWZWxvY2l0eSgpKSA+IChfaXNOdW1iZXIoZmFzdFNjcm9sbEVuZCkgPyBmYXN0U2Nyb2xsRW5kIDogMjUwMCkpIHtcbiAgICAgICAgICAgICAgX2VuZEFuaW1hdGlvbihzZWxmLmNhbGxiYWNrQW5pbWF0aW9uKTtcblxuICAgICAgICAgICAgICBzY3J1YlR3ZWVuID8gc2NydWJUd2Vlbi5wcm9ncmVzcygxKSA6IF9lbmRBbmltYXRpb24oYW5pbWF0aW9uLCAhY2xpcHBlZCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc1RvZ2dsZSAmJiBvblVwZGF0ZSAmJiAhX3JlZnJlc2hpbmcpIHtcbiAgICAgICAgICAgIG9uVXBkYXRlKHNlbGYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXJrZXJFbmRTZXR0ZXIpIHtcbiAgICAgICAgICB2YXIgbiA9IGNvbnRhaW5lckFuaW1hdGlvbiA/IHNjcm9sbCAvIGNvbnRhaW5lckFuaW1hdGlvbi5kdXJhdGlvbigpICogKGNvbnRhaW5lckFuaW1hdGlvbi5fY2FTY3JvbGxEaXN0IHx8IDApIDogc2Nyb2xsO1xuICAgICAgICAgIG1hcmtlclN0YXJ0U2V0dGVyKG4gKyAobWFya2VyU3RhcnRUcmlnZ2VyLl9pc0ZsaXBwZWQgPyAxIDogMCkpO1xuICAgICAgICAgIG1hcmtlckVuZFNldHRlcihuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhTWFya2VyU2V0dGVyICYmIGNhTWFya2VyU2V0dGVyKC1zY3JvbGwgLyBjb250YWluZXJBbmltYXRpb24uZHVyYXRpb24oKSAqIChjb250YWluZXJBbmltYXRpb24uX2NhU2Nyb2xsRGlzdCB8fCAwKSk7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmVuYWJsZSA9IGZ1bmN0aW9uIChyZXNldCwgcmVmcmVzaCkge1xuICAgICAgICBpZiAoIXNlbGYuZW5hYmxlZCkge1xuICAgICAgICAgIHNlbGYuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgICBfYWRkTGlzdGVuZXIkMShzY3JvbGxlciwgXCJyZXNpemVcIiwgX29uUmVzaXplKTtcblxuICAgICAgICAgIF9hZGRMaXN0ZW5lciQxKGlzVmlld3BvcnQgPyBfZG9jJDEgOiBzY3JvbGxlciwgXCJzY3JvbGxcIiwgX29uU2Nyb2xsJDEpO1xuXG4gICAgICAgICAgb25SZWZyZXNoSW5pdCAmJiBfYWRkTGlzdGVuZXIkMShTY3JvbGxUcmlnZ2VyLCBcInJlZnJlc2hJbml0XCIsIG9uUmVmcmVzaEluaXQpO1xuXG4gICAgICAgICAgaWYgKHJlc2V0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IHByZXZQcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICBzY3JvbGwxID0gc2Nyb2xsMiA9IGxhc3RTbmFwID0gc2Nyb2xsRnVuYygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlZnJlc2ggIT09IGZhbHNlICYmIHNlbGYucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmdldFR3ZWVuID0gZnVuY3Rpb24gKHNuYXApIHtcbiAgICAgICAgcmV0dXJuIHNuYXAgJiYgdHdlZW5UbyA/IHR3ZWVuVG8udHdlZW4gOiBzY3J1YlR3ZWVuO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5zZXRQb3NpdGlvbnMgPSBmdW5jdGlvbiAobmV3U3RhcnQsIG5ld0VuZCkge1xuICAgICAgICBpZiAocGluKSB7XG4gICAgICAgICAgcGluU3RhcnQgKz0gbmV3U3RhcnQgLSBzdGFydDtcbiAgICAgICAgICBwaW5DaGFuZ2UgKz0gbmV3RW5kIC0gbmV3U3RhcnQgLSBjaGFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnN0YXJ0ID0gc3RhcnQgPSBuZXdTdGFydDtcbiAgICAgICAgc2VsZi5lbmQgPSBlbmQgPSBuZXdFbmQ7XG4gICAgICAgIGNoYW5nZSA9IG5ld0VuZCAtIG5ld1N0YXJ0O1xuICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5kaXNhYmxlID0gZnVuY3Rpb24gKHJlc2V0LCBhbGxvd0FuaW1hdGlvbikge1xuICAgICAgICBpZiAoc2VsZi5lbmFibGVkKSB7XG4gICAgICAgICAgcmVzZXQgIT09IGZhbHNlICYmIHNlbGYucmV2ZXJ0KCk7XG4gICAgICAgICAgc2VsZi5lbmFibGVkID0gc2VsZi5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIGFsbG93QW5pbWF0aW9uIHx8IHNjcnViVHdlZW4gJiYgc2NydWJUd2Vlbi5wYXVzZSgpO1xuICAgICAgICAgIHByZXZTY3JvbGwgPSAwO1xuICAgICAgICAgIHBpbkNhY2hlICYmIChwaW5DYWNoZS51bmNhY2hlID0gMSk7XG4gICAgICAgICAgb25SZWZyZXNoSW5pdCAmJiBfcmVtb3ZlTGlzdGVuZXIkMShTY3JvbGxUcmlnZ2VyLCBcInJlZnJlc2hJbml0XCIsIG9uUmVmcmVzaEluaXQpO1xuXG4gICAgICAgICAgaWYgKHNuYXBEZWxheWVkQ2FsbCkge1xuICAgICAgICAgICAgc25hcERlbGF5ZWRDYWxsLnBhdXNlKCk7XG4gICAgICAgICAgICB0d2VlblRvLnR3ZWVuICYmIHR3ZWVuVG8udHdlZW4ua2lsbCgpICYmICh0d2VlblRvLnR3ZWVuID0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFpc1ZpZXdwb3J0KSB7XG4gICAgICAgICAgICB2YXIgaSA9IF90cmlnZ2Vycy5sZW5ndGg7XG5cbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgaWYgKF90cmlnZ2Vyc1tpXS5zY3JvbGxlciA9PT0gc2Nyb2xsZXIgJiYgX3RyaWdnZXJzW2ldICE9PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lciQxKHNjcm9sbGVyLCBcInJlc2l6ZVwiLCBfb25SZXNpemUpO1xuXG4gICAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIkMShzY3JvbGxlciwgXCJzY3JvbGxcIiwgX29uU2Nyb2xsJDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VsZi5raWxsID0gZnVuY3Rpb24gKHJldmVydCwgYWxsb3dBbmltYXRpb24pIHtcbiAgICAgICAgc2VsZi5kaXNhYmxlKHJldmVydCwgYWxsb3dBbmltYXRpb24pO1xuICAgICAgICBzY3J1YlR3ZWVuICYmICFhbGxvd0FuaW1hdGlvbiAmJiBzY3J1YlR3ZWVuLmtpbGwoKTtcbiAgICAgICAgaWQgJiYgZGVsZXRlIF9pZHNbaWRdO1xuXG4gICAgICAgIHZhciBpID0gX3RyaWdnZXJzLmluZGV4T2Yoc2VsZik7XG5cbiAgICAgICAgaSA+PSAwICYmIF90cmlnZ2Vycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGkgPT09IF9pICYmIF9kaXJlY3Rpb24gPiAwICYmIF9pLS07XG4gICAgICAgIGkgPSAwO1xuXG4gICAgICAgIF90cmlnZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuc2Nyb2xsZXIgPT09IHNlbGYuc2Nyb2xsZXIgJiYgKGkgPSAxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaSB8fCAoc2VsZi5zY3JvbGwucmVjID0gMCk7XG5cbiAgICAgICAgaWYgKGFuaW1hdGlvbikge1xuICAgICAgICAgIGFuaW1hdGlvbi5zY3JvbGxUcmlnZ2VyID0gbnVsbDtcbiAgICAgICAgICByZXZlcnQgJiYgYW5pbWF0aW9uLnJlbmRlcigtMSk7XG4gICAgICAgICAgYWxsb3dBbmltYXRpb24gfHwgYW5pbWF0aW9uLmtpbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcmtlclN0YXJ0ICYmIFttYXJrZXJTdGFydCwgbWFya2VyRW5kLCBtYXJrZXJTdGFydFRyaWdnZXIsIG1hcmtlckVuZFRyaWdnZXJdLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICByZXR1cm4gbS5wYXJlbnROb2RlICYmIG0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF9wcmltYXJ5ID09PSBzZWxmICYmIChfcHJpbWFyeSA9IDApO1xuXG4gICAgICAgIGlmIChwaW4pIHtcbiAgICAgICAgICBwaW5DYWNoZSAmJiAocGluQ2FjaGUudW5jYWNoZSA9IDEpO1xuICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgICAgX3RyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0LnBpbiA9PT0gcGluICYmIGkrKztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGkgfHwgKHBpbkNhY2hlLnNwYWNlciA9IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFycy5vbktpbGwgJiYgdmFycy5vbktpbGwoc2VsZik7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmVuYWJsZShmYWxzZSwgZmFsc2UpO1xuICAgICAgY3VzdG9tUmV2ZXJ0UmV0dXJuICYmIGN1c3RvbVJldmVydFJldHVybihzZWxmKTtcbiAgICAgICFhbmltYXRpb24gfHwgIWFuaW1hdGlvbi5hZGQgfHwgY2hhbmdlID8gc2VsZi5yZWZyZXNoKCkgOiBnc2FwJDEuZGVsYXllZENhbGwoMC4wMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RhcnQgfHwgZW5kIHx8IHNlbGYucmVmcmVzaCgpO1xuICAgICAgfSkgJiYgKGNoYW5nZSA9IDAuMDEpICYmIChzdGFydCA9IGVuZCA9IDApO1xuICAgIH07XG5cbiAgICBTY3JvbGxUcmlnZ2VyLnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIoY29yZSkge1xuICAgICAgaWYgKCFfY29yZUluaXR0ZWQkMSkge1xuICAgICAgICBnc2FwJDEgPSBjb3JlIHx8IF9nZXRHU0FQJDEoKTtcbiAgICAgICAgX3dpbmRvd0V4aXN0cygpICYmIHdpbmRvdy5kb2N1bWVudCAmJiBTY3JvbGxUcmlnZ2VyLmVuYWJsZSgpO1xuICAgICAgICBfY29yZUluaXR0ZWQkMSA9IF9lbmFibGVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2NvcmVJbml0dGVkJDE7XG4gICAgfTtcblxuICAgIFNjcm9sbFRyaWdnZXIuZGVmYXVsdHMgPSBmdW5jdGlvbiBkZWZhdWx0cyhjb25maWcpIHtcbiAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBjb25maWcpIHtcbiAgICAgICAgICBfZGVmYXVsdHNbcF0gPSBjb25maWdbcF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9kZWZhdWx0cztcbiAgICB9O1xuXG4gICAgU2Nyb2xsVHJpZ2dlci5kaXNhYmxlID0gZnVuY3Rpb24gZGlzYWJsZShyZXNldCwga2lsbCkge1xuICAgICAgX2VuYWJsZWQgPSAwO1xuXG4gICAgICBfdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICByZXR1cm4gdHJpZ2dlcltraWxsID8gXCJraWxsXCIgOiBcImRpc2FibGVcIl0ocmVzZXQpO1xuICAgICAgfSk7XG5cbiAgICAgIF9yZW1vdmVMaXN0ZW5lciQxKF93aW4kMSwgXCJ3aGVlbFwiLCBfb25TY3JvbGwkMSk7XG5cbiAgICAgIF9yZW1vdmVMaXN0ZW5lciQxKF9kb2MkMSwgXCJzY3JvbGxcIiwgX29uU2Nyb2xsJDEpO1xuXG4gICAgICBjbGVhckludGVydmFsKF9zeW5jSW50ZXJ2YWwpO1xuXG4gICAgICBfcmVtb3ZlTGlzdGVuZXIkMShfZG9jJDEsIFwidG91Y2hjYW5jZWxcIiwgX3Bhc3NUaHJvdWdoKTtcblxuICAgICAgX3JlbW92ZUxpc3RlbmVyJDEoX2JvZHkkMSwgXCJ0b3VjaHN0YXJ0XCIsIF9wYXNzVGhyb3VnaCk7XG5cbiAgICAgIF9tdWx0aUxpc3RlbmVyKF9yZW1vdmVMaXN0ZW5lciQxLCBfZG9jJDEsIFwicG9pbnRlcmRvd24sdG91Y2hzdGFydCxtb3VzZWRvd25cIiwgX3BvaW50ZXJEb3duSGFuZGxlcik7XG5cbiAgICAgIF9tdWx0aUxpc3RlbmVyKF9yZW1vdmVMaXN0ZW5lciQxLCBfZG9jJDEsIFwicG9pbnRlcnVwLHRvdWNoZW5kLG1vdXNldXBcIiwgX3BvaW50ZXJVcEhhbmRsZXIpO1xuXG4gICAgICBfcmVzaXplRGVsYXkua2lsbCgpO1xuXG4gICAgICBfaXRlcmF0ZUF1dG9SZWZyZXNoKF9yZW1vdmVMaXN0ZW5lciQxKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfc2Nyb2xsZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIF93aGVlbExpc3RlbmVyKF9yZW1vdmVMaXN0ZW5lciQxLCBfc2Nyb2xsZXJzW2ldLCBfc2Nyb2xsZXJzW2kgKyAxXSk7XG5cbiAgICAgICAgX3doZWVsTGlzdGVuZXIoX3JlbW92ZUxpc3RlbmVyJDEsIF9zY3JvbGxlcnNbaV0sIF9zY3JvbGxlcnNbaSArIDJdKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgU2Nyb2xsVHJpZ2dlci5lbmFibGUgPSBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICBfd2luJDEgPSB3aW5kb3c7XG4gICAgICBfZG9jJDEgPSBkb2N1bWVudDtcbiAgICAgIF9kb2NFbCQxID0gX2RvYyQxLmRvY3VtZW50RWxlbWVudDtcbiAgICAgIF9ib2R5JDEgPSBfZG9jJDEuYm9keTtcblxuICAgICAgaWYgKGdzYXAkMSkge1xuICAgICAgICBfdG9BcnJheSA9IGdzYXAkMS51dGlscy50b0FycmF5O1xuICAgICAgICBfY2xhbXAkMSA9IGdzYXAkMS51dGlscy5jbGFtcDtcbiAgICAgICAgX3N1cHByZXNzT3ZlcndyaXRlcyA9IGdzYXAkMS5jb3JlLnN1cHByZXNzT3ZlcndyaXRlcyB8fCBfcGFzc1Rocm91Z2g7XG4gICAgICAgIGdzYXAkMS5jb3JlLmdsb2JhbHMoXCJTY3JvbGxUcmlnZ2VyXCIsIFNjcm9sbFRyaWdnZXIpO1xuXG4gICAgICAgIGlmIChfYm9keSQxKSB7XG4gICAgICAgICAgX2VuYWJsZWQgPSAxO1xuICAgICAgICAgIE9ic2VydmVyLnJlZ2lzdGVyKGdzYXAkMSk7XG4gICAgICAgICAgU2Nyb2xsVHJpZ2dlci5pc1RvdWNoID0gT2JzZXJ2ZXIuaXNUb3VjaDtcbiAgICAgICAgICBfZml4SU9TQnVnID0gT2JzZXJ2ZXIuaXNUb3VjaCAmJiAvKGlQYWR8aVBob25lfGlQb2R8TWFjKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICAgICAgICBfYWRkTGlzdGVuZXIkMShfd2luJDEsIFwid2hlZWxcIiwgX29uU2Nyb2xsJDEpO1xuXG4gICAgICAgICAgX3Jvb3QkMSA9IFtfd2luJDEsIF9kb2MkMSwgX2RvY0VsJDEsIF9ib2R5JDFdO1xuICAgICAgICAgIFNjcm9sbFRyaWdnZXIubWF0Y2hNZWRpYSh7XG4gICAgICAgICAgICBcIihvcmllbnRhdGlvbjogcG9ydHJhaXQpXCI6IGZ1bmN0aW9uIG9yaWVudGF0aW9uUG9ydHJhaXQoKSB7XG4gICAgICAgICAgICAgIF9zZXRCYXNlRGltZW5zaW9ucygpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfc2V0QmFzZURpbWVuc2lvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfYWRkTGlzdGVuZXIkMShfZG9jJDEsIFwic2Nyb2xsXCIsIF9vblNjcm9sbCQxKTtcblxuICAgICAgICAgIHZhciBib2R5U3R5bGUgPSBfYm9keSQxLnN0eWxlLFxuICAgICAgICAgICAgICBib3JkZXIgPSBib2R5U3R5bGUuYm9yZGVyVG9wU3R5bGUsXG4gICAgICAgICAgICAgIGJvdW5kcyxcbiAgICAgICAgICAgICAgaTtcbiAgICAgICAgICBib2R5U3R5bGUuYm9yZGVyVG9wU3R5bGUgPSBcInNvbGlkXCI7XG4gICAgICAgICAgYm91bmRzID0gX2dldEJvdW5kcyhfYm9keSQxKTtcbiAgICAgICAgICBfdmVydGljYWwubSA9IE1hdGgucm91bmQoYm91bmRzLnRvcCArIF92ZXJ0aWNhbC5zYygpKSB8fCAwO1xuICAgICAgICAgIF9ob3Jpem9udGFsLm0gPSBNYXRoLnJvdW5kKGJvdW5kcy5sZWZ0ICsgX2hvcml6b250YWwuc2MoKSkgfHwgMDtcbiAgICAgICAgICBib3JkZXIgPyBib2R5U3R5bGUuYm9yZGVyVG9wU3R5bGUgPSBib3JkZXIgOiBib2R5U3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3JkZXItdG9wLXN0eWxlXCIpO1xuICAgICAgICAgIF9zeW5jSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChfc3luYywgMjUwKTtcbiAgICAgICAgICBnc2FwJDEuZGVsYXllZENhbGwoMC41LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N0YXJ0dXAkMSA9IDA7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfYWRkTGlzdGVuZXIkMShfZG9jJDEsIFwidG91Y2hjYW5jZWxcIiwgX3Bhc3NUaHJvdWdoKTtcblxuICAgICAgICAgIF9hZGRMaXN0ZW5lciQxKF9ib2R5JDEsIFwidG91Y2hzdGFydFwiLCBfcGFzc1Rocm91Z2gpO1xuXG4gICAgICAgICAgX211bHRpTGlzdGVuZXIoX2FkZExpc3RlbmVyJDEsIF9kb2MkMSwgXCJwb2ludGVyZG93bix0b3VjaHN0YXJ0LG1vdXNlZG93blwiLCBfcG9pbnRlckRvd25IYW5kbGVyKTtcblxuICAgICAgICAgIF9tdWx0aUxpc3RlbmVyKF9hZGRMaXN0ZW5lciQxLCBfZG9jJDEsIFwicG9pbnRlcnVwLHRvdWNoZW5kLG1vdXNldXBcIiwgX3BvaW50ZXJVcEhhbmRsZXIpO1xuXG4gICAgICAgICAgX3RyYW5zZm9ybVByb3AgPSBnc2FwJDEudXRpbHMuY2hlY2tQcmVmaXgoXCJ0cmFuc2Zvcm1cIik7XG5cbiAgICAgICAgICBfc3RhdGVQcm9wcy5wdXNoKF90cmFuc2Zvcm1Qcm9wKTtcblxuICAgICAgICAgIF9jb3JlSW5pdHRlZCQxID0gX2dldFRpbWUkMSgpO1xuICAgICAgICAgIF9yZXNpemVEZWxheSA9IGdzYXAkMS5kZWxheWVkQ2FsbCgwLjIsIF9yZWZyZXNoQWxsKS5wYXVzZSgpO1xuICAgICAgICAgIF9hdXRvUmVmcmVzaCA9IFtfZG9jJDEsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdyA9IF93aW4kMS5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgIGggPSBfd2luJDEuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChfZG9jJDEuaGlkZGVuKSB7XG4gICAgICAgICAgICAgIF9wcmV2V2lkdGggPSB3O1xuICAgICAgICAgICAgICBfcHJldkhlaWdodCA9IGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9wcmV2V2lkdGggIT09IHcgfHwgX3ByZXZIZWlnaHQgIT09IGgpIHtcbiAgICAgICAgICAgICAgX29uUmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgX2RvYyQxLCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgX3JlZnJlc2hBbGwsIF93aW4kMSwgXCJsb2FkXCIsIF9yZWZyZXNoQWxsLCBfd2luJDEsIFwicmVzaXplXCIsIF9vblJlc2l6ZV07XG5cbiAgICAgICAgICBfaXRlcmF0ZUF1dG9SZWZyZXNoKF9hZGRMaXN0ZW5lciQxKTtcblxuICAgICAgICAgIF90cmlnZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh0cmlnZ2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJpZ2dlci5lbmFibGUoMCwgMSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3Njcm9sbGVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgX3doZWVsTGlzdGVuZXIoX3JlbW92ZUxpc3RlbmVyJDEsIF9zY3JvbGxlcnNbaV0sIF9zY3JvbGxlcnNbaSArIDFdKTtcblxuICAgICAgICAgICAgX3doZWVsTGlzdGVuZXIoX3JlbW92ZUxpc3RlbmVyJDEsIF9zY3JvbGxlcnNbaV0sIF9zY3JvbGxlcnNbaSArIDJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgU2Nyb2xsVHJpZ2dlci5jb25maWcgPSBmdW5jdGlvbiBjb25maWcodmFycykge1xuICAgICAgXCJsaW1pdENhbGxiYWNrc1wiIGluIHZhcnMgJiYgKF9saW1pdENhbGxiYWNrcyA9ICEhdmFycy5saW1pdENhbGxiYWNrcyk7XG4gICAgICB2YXIgbXMgPSB2YXJzLnN5bmNJbnRlcnZhbDtcbiAgICAgIG1zICYmIGNsZWFySW50ZXJ2YWwoX3N5bmNJbnRlcnZhbCkgfHwgKF9zeW5jSW50ZXJ2YWwgPSBtcykgJiYgc2V0SW50ZXJ2YWwoX3N5bmMsIG1zKTtcbiAgICAgIFwiaWdub3JlTW9iaWxlUmVzaXplXCIgaW4gdmFycyAmJiAoX2lnbm9yZU1vYmlsZVJlc2l6ZSA9IFNjcm9sbFRyaWdnZXIuaXNUb3VjaCA9PT0gMSAmJiB2YXJzLmlnbm9yZU1vYmlsZVJlc2l6ZSk7XG5cbiAgICAgIGlmIChcImF1dG9SZWZyZXNoRXZlbnRzXCIgaW4gdmFycykge1xuICAgICAgICBfaXRlcmF0ZUF1dG9SZWZyZXNoKF9yZW1vdmVMaXN0ZW5lciQxKSB8fCBfaXRlcmF0ZUF1dG9SZWZyZXNoKF9hZGRMaXN0ZW5lciQxLCB2YXJzLmF1dG9SZWZyZXNoRXZlbnRzIHx8IFwibm9uZVwiKTtcbiAgICAgICAgX2lnbm9yZVJlc2l6ZSA9ICh2YXJzLmF1dG9SZWZyZXNoRXZlbnRzICsgXCJcIikuaW5kZXhPZihcInJlc2l6ZVwiKSA9PT0gLTE7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFNjcm9sbFRyaWdnZXIuc2Nyb2xsZXJQcm94eSA9IGZ1bmN0aW9uIHNjcm9sbGVyUHJveHkodGFyZ2V0LCB2YXJzKSB7XG4gICAgICB2YXIgdCA9IF9nZXRUYXJnZXQodGFyZ2V0KSxcbiAgICAgICAgICBpID0gX3Njcm9sbGVycy5pbmRleE9mKHQpLFxuICAgICAgICAgIGlzVmlld3BvcnQgPSBfaXNWaWV3cG9ydCQxKHQpO1xuXG4gICAgICBpZiAofmkpIHtcbiAgICAgICAgX3Njcm9sbGVycy5zcGxpY2UoaSwgaXNWaWV3cG9ydCA/IDYgOiAyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhcnMpIHtcbiAgICAgICAgaXNWaWV3cG9ydCA/IF9wcm94aWVzLnVuc2hpZnQoX3dpbiQxLCB2YXJzLCBfYm9keSQxLCB2YXJzLCBfZG9jRWwkMSwgdmFycykgOiBfcHJveGllcy51bnNoaWZ0KHQsIHZhcnMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBTY3JvbGxUcmlnZ2VyLm1hdGNoTWVkaWEgPSBmdW5jdGlvbiBtYXRjaE1lZGlhKHZhcnMpIHtcbiAgICAgIHZhciBtcSwgcCwgaSwgZnVuYywgcmVzdWx0O1xuXG4gICAgICBmb3IgKHAgaW4gdmFycykge1xuICAgICAgICBpID0gX21lZGlhLmluZGV4T2YocCk7XG4gICAgICAgIGZ1bmMgPSB2YXJzW3BdO1xuICAgICAgICBfY3JlYXRpbmdNZWRpYSA9IHA7XG5cbiAgICAgICAgaWYgKHAgPT09IFwiYWxsXCIpIHtcbiAgICAgICAgICBmdW5jKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXEgPSBfd2luJDEubWF0Y2hNZWRpYShwKTtcblxuICAgICAgICAgIGlmIChtcSkge1xuICAgICAgICAgICAgbXEubWF0Y2hlcyAmJiAocmVzdWx0ID0gZnVuYygpKTtcblxuICAgICAgICAgICAgaWYgKH5pKSB7XG4gICAgICAgICAgICAgIF9tZWRpYVtpICsgMV0gPSBfY29tYmluZUZ1bmMoX21lZGlhW2kgKyAxXSwgZnVuYyk7XG4gICAgICAgICAgICAgIF9tZWRpYVtpICsgMl0gPSBfY29tYmluZUZ1bmMoX21lZGlhW2kgKyAyXSwgcmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGkgPSBfbWVkaWEubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIF9tZWRpYS5wdXNoKHAsIGZ1bmMsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgbXEuYWRkTGlzdGVuZXIgPyBtcS5hZGRMaXN0ZW5lcihfb25NZWRpYUNoYW5nZSkgOiBtcS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIF9vbk1lZGlhQ2hhbmdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX21lZGlhW2kgKyAzXSA9IG1xLm1hdGNoZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0aW5nTWVkaWEgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX21lZGlhO1xuICAgIH07XG5cbiAgICBTY3JvbGxUcmlnZ2VyLmNsZWFyTWF0Y2hNZWRpYSA9IGZ1bmN0aW9uIGNsZWFyTWF0Y2hNZWRpYShxdWVyeSkge1xuICAgICAgcXVlcnkgfHwgKF9tZWRpYS5sZW5ndGggPSAwKTtcbiAgICAgIHF1ZXJ5ID0gX21lZGlhLmluZGV4T2YocXVlcnkpO1xuICAgICAgcXVlcnkgPj0gMCAmJiBfbWVkaWEuc3BsaWNlKHF1ZXJ5LCA0KTtcbiAgICB9O1xuXG4gICAgU2Nyb2xsVHJpZ2dlci5pc0luVmlld3BvcnQgPSBmdW5jdGlvbiBpc0luVmlld3BvcnQoZWxlbWVudCwgcmF0aW8sIGhvcml6b250YWwpIHtcbiAgICAgIHZhciBib3VuZHMgPSAoX2lzU3RyaW5nKGVsZW1lbnQpID8gX2dldFRhcmdldChlbGVtZW50KSA6IGVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIG9mZnNldCA9IGJvdW5kc1tob3Jpem9udGFsID8gX3dpZHRoIDogX2hlaWdodF0gKiByYXRpbyB8fCAwO1xuICAgICAgcmV0dXJuIGhvcml6b250YWwgPyBib3VuZHMucmlnaHQgLSBvZmZzZXQgPiAwICYmIGJvdW5kcy5sZWZ0ICsgb2Zmc2V0IDwgX3dpbiQxLmlubmVyV2lkdGggOiBib3VuZHMuYm90dG9tIC0gb2Zmc2V0ID4gMCAmJiBib3VuZHMudG9wICsgb2Zmc2V0IDwgX3dpbiQxLmlubmVySGVpZ2h0O1xuICAgIH07XG5cbiAgICBTY3JvbGxUcmlnZ2VyLnBvc2l0aW9uSW5WaWV3cG9ydCA9IGZ1bmN0aW9uIHBvc2l0aW9uSW5WaWV3cG9ydChlbGVtZW50LCByZWZlcmVuY2VQb2ludCwgaG9yaXpvbnRhbCkge1xuICAgICAgX2lzU3RyaW5nKGVsZW1lbnQpICYmIChlbGVtZW50ID0gX2dldFRhcmdldChlbGVtZW50KSk7XG4gICAgICB2YXIgYm91bmRzID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICBzaXplID0gYm91bmRzW2hvcml6b250YWwgPyBfd2lkdGggOiBfaGVpZ2h0XSxcbiAgICAgICAgICBvZmZzZXQgPSByZWZlcmVuY2VQb2ludCA9PSBudWxsID8gc2l6ZSAvIDIgOiByZWZlcmVuY2VQb2ludCBpbiBfa2V5d29yZHMgPyBfa2V5d29yZHNbcmVmZXJlbmNlUG9pbnRdICogc2l6ZSA6IH5yZWZlcmVuY2VQb2ludC5pbmRleE9mKFwiJVwiKSA/IHBhcnNlRmxvYXQocmVmZXJlbmNlUG9pbnQpICogc2l6ZSAvIDEwMCA6IHBhcnNlRmxvYXQocmVmZXJlbmNlUG9pbnQpIHx8IDA7XG4gICAgICByZXR1cm4gaG9yaXpvbnRhbCA/IChib3VuZHMubGVmdCArIG9mZnNldCkgLyBfd2luJDEuaW5uZXJXaWR0aCA6IChib3VuZHMudG9wICsgb2Zmc2V0KSAvIF93aW4kMS5pbm5lckhlaWdodDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNjcm9sbFRyaWdnZXI7XG4gIH0oKTtcbiAgU2Nyb2xsVHJpZ2dlciQxLnZlcnNpb24gPSBcIjMuMTAuNFwiO1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5zYXZlU3R5bGVzID0gZnVuY3Rpb24gKHRhcmdldHMpIHtcbiAgICByZXR1cm4gdGFyZ2V0cyA/IF90b0FycmF5KHRhcmdldHMpLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQuc3R5bGUpIHtcbiAgICAgICAgdmFyIGkgPSBfc2F2ZWRTdHlsZXMuaW5kZXhPZih0YXJnZXQpO1xuXG4gICAgICAgIGkgPj0gMCAmJiBfc2F2ZWRTdHlsZXMuc3BsaWNlKGksIDUpO1xuXG4gICAgICAgIF9zYXZlZFN0eWxlcy5wdXNoKHRhcmdldCwgdGFyZ2V0LnN0eWxlLmNzc1RleHQsIHRhcmdldC5nZXRCQm94ICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIiksIGdzYXAkMS5jb3JlLmdldENhY2hlKHRhcmdldCksIF9jcmVhdGluZ01lZGlhKTtcbiAgICAgIH1cbiAgICB9KSA6IF9zYXZlZFN0eWxlcztcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEucmV2ZXJ0ID0gZnVuY3Rpb24gKHNvZnQsIG1lZGlhKSB7XG4gICAgcmV0dXJuIF9yZXZlcnRBbGwoIXNvZnQsIG1lZGlhKTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEuY3JlYXRlID0gZnVuY3Rpb24gKHZhcnMsIGFuaW1hdGlvbikge1xuICAgIHJldHVybiBuZXcgU2Nyb2xsVHJpZ2dlciQxKHZhcnMsIGFuaW1hdGlvbik7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLnJlZnJlc2ggPSBmdW5jdGlvbiAoc2FmZSkge1xuICAgIHJldHVybiBzYWZlID8gX29uUmVzaXplKCkgOiAoX2NvcmVJbml0dGVkJDEgfHwgU2Nyb2xsVHJpZ2dlciQxLnJlZ2lzdGVyKCkpICYmIF9yZWZyZXNoQWxsKHRydWUpO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS51cGRhdGUgPSBfdXBkYXRlQWxsO1xuICBTY3JvbGxUcmlnZ2VyJDEuY2xlYXJTY3JvbGxNZW1vcnkgPSBfY2xlYXJTY3JvbGxNZW1vcnk7XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLm1heFNjcm9sbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBob3Jpem9udGFsKSB7XG4gICAgcmV0dXJuIF9tYXhTY3JvbGwoZWxlbWVudCwgaG9yaXpvbnRhbCA/IF9ob3Jpem9udGFsIDogX3ZlcnRpY2FsKTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEuZ2V0U2Nyb2xsRnVuYyA9IGZ1bmN0aW9uIChlbGVtZW50LCBob3Jpem9udGFsKSB7XG4gICAgcmV0dXJuIF9nZXRTY3JvbGxGdW5jKF9nZXRUYXJnZXQoZWxlbWVudCksIGhvcml6b250YWwgPyBfaG9yaXpvbnRhbCA6IF92ZXJ0aWNhbCk7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLmdldEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gX2lkc1tpZF07XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RyaWdnZXJzLmZpbHRlcihmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIHQudmFycy5pZCAhPT0gXCJTY3JvbGxTbW9vdGhlclwiO1xuICAgIH0pO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5pc1Njcm9sbGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gISFfbGFzdFNjcm9sbFRpbWU7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLnNuYXBEaXJlY3Rpb25hbCA9IF9zbmFwRGlyZWN0aW9uYWw7XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgYSA9IF9saXN0ZW5lcnNbdHlwZV0gfHwgKF9saXN0ZW5lcnNbdHlwZV0gPSBbXSk7XG4gICAgfmEuaW5kZXhPZihjYWxsYmFjaykgfHwgYS5wdXNoKGNhbGxiYWNrKTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBjYWxsYmFjaykge1xuICAgIHZhciBhID0gX2xpc3RlbmVyc1t0eXBlXSxcbiAgICAgICAgaSA9IGEgJiYgYS5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICBpID49IDAgJiYgYS5zcGxpY2UoaSwgMSk7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLmJhdGNoID0gZnVuY3Rpb24gKHRhcmdldHMsIHZhcnMpIHtcbiAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgIHZhcnNDb3B5ID0ge30sXG4gICAgICAgIGludGVydmFsID0gdmFycy5pbnRlcnZhbCB8fCAwLjAxNixcbiAgICAgICAgYmF0Y2hNYXggPSB2YXJzLmJhdGNoTWF4IHx8IDFlOSxcbiAgICAgICAgcHJveHlDYWxsYmFjayA9IGZ1bmN0aW9uIHByb3h5Q2FsbGJhY2sodHlwZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBlbGVtZW50cyA9IFtdLFxuICAgICAgICAgIHRyaWdnZXJzID0gW10sXG4gICAgICAgICAgZGVsYXkgPSBnc2FwJDEuZGVsYXllZENhbGwoaW50ZXJ2YWwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2soZWxlbWVudHMsIHRyaWdnZXJzKTtcbiAgICAgICAgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgdHJpZ2dlcnMgPSBbXTtcbiAgICAgIH0pLnBhdXNlKCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNlbGYpIHtcbiAgICAgICAgZWxlbWVudHMubGVuZ3RoIHx8IGRlbGF5LnJlc3RhcnQodHJ1ZSk7XG4gICAgICAgIGVsZW1lbnRzLnB1c2goc2VsZi50cmlnZ2VyKTtcbiAgICAgICAgdHJpZ2dlcnMucHVzaChzZWxmKTtcbiAgICAgICAgYmF0Y2hNYXggPD0gZWxlbWVudHMubGVuZ3RoICYmIGRlbGF5LnByb2dyZXNzKDEpO1xuICAgICAgfTtcbiAgICB9LFxuICAgICAgICBwO1xuXG4gICAgZm9yIChwIGluIHZhcnMpIHtcbiAgICAgIHZhcnNDb3B5W3BdID0gcC5zdWJzdHIoMCwgMikgPT09IFwib25cIiAmJiBfaXNGdW5jdGlvbih2YXJzW3BdKSAmJiBwICE9PSBcIm9uUmVmcmVzaEluaXRcIiA/IHByb3h5Q2FsbGJhY2socCwgdmFyc1twXSkgOiB2YXJzW3BdO1xuICAgIH1cblxuICAgIGlmIChfaXNGdW5jdGlvbihiYXRjaE1heCkpIHtcbiAgICAgIGJhdGNoTWF4ID0gYmF0Y2hNYXgoKTtcblxuICAgICAgX2FkZExpc3RlbmVyJDEoU2Nyb2xsVHJpZ2dlciQxLCBcInJlZnJlc2hcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYmF0Y2hNYXggPSB2YXJzLmJhdGNoTWF4KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfdG9BcnJheSh0YXJnZXRzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHZhciBjb25maWcgPSB7fTtcblxuICAgICAgZm9yIChwIGluIHZhcnNDb3B5KSB7XG4gICAgICAgIGNvbmZpZ1twXSA9IHZhcnNDb3B5W3BdO1xuICAgICAgfVxuXG4gICAgICBjb25maWcudHJpZ2dlciA9IHRhcmdldDtcbiAgICAgIHJlc3VsdC5wdXNoKFNjcm9sbFRyaWdnZXIkMS5jcmVhdGUoY29uZmlnKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBfY2xhbXBTY3JvbGxBbmRHZXREdXJhdGlvbk11bHRpcGxpZXIgPSBmdW5jdGlvbiBfY2xhbXBTY3JvbGxBbmRHZXREdXJhdGlvbk11bHRpcGxpZXIoc2Nyb2xsRnVuYywgY3VycmVudCwgZW5kLCBtYXgpIHtcbiAgICBjdXJyZW50ID4gbWF4ID8gc2Nyb2xsRnVuYyhtYXgpIDogY3VycmVudCA8IDAgJiYgc2Nyb2xsRnVuYygwKTtcbiAgICByZXR1cm4gZW5kID4gbWF4ID8gKG1heCAtIGN1cnJlbnQpIC8gKGVuZCAtIGN1cnJlbnQpIDogZW5kIDwgMCA/IGN1cnJlbnQgLyAoY3VycmVudCAtIGVuZCkgOiAxO1xuICB9LFxuICAgICAgX2FsbG93TmF0aXZlUGFubmluZyA9IGZ1bmN0aW9uIF9hbGxvd05hdGl2ZVBhbm5pbmcodGFyZ2V0LCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09PSB0cnVlKSB7XG4gICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJ0b3VjaC1hY3Rpb25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5zdHlsZS50b3VjaEFjdGlvbiA9IGRpcmVjdGlvbiA9PT0gdHJ1ZSA/IFwiYXV0b1wiIDogZGlyZWN0aW9uID8gXCJwYW4tXCIgKyBkaXJlY3Rpb24gKyAoT2JzZXJ2ZXIuaXNUb3VjaCA/IFwiIHBpbmNoLXpvb21cIiA6IFwiXCIpIDogXCJub25lXCI7XG4gICAgfVxuXG4gICAgdGFyZ2V0ID09PSBfZG9jRWwkMSAmJiBfYWxsb3dOYXRpdmVQYW5uaW5nKF9ib2R5JDEsIGRpcmVjdGlvbik7XG4gIH0sXG4gICAgICBfb3ZlcmZsb3cgPSB7XG4gICAgYXV0bzogMSxcbiAgICBzY3JvbGw6IDFcbiAgfSxcbiAgICAgIF9uZXN0ZWRTY3JvbGwgPSBmdW5jdGlvbiBfbmVzdGVkU2Nyb2xsKF9yZWY1KSB7XG4gICAgdmFyIGV2ZW50ID0gX3JlZjUuZXZlbnQsXG4gICAgICAgIHRhcmdldCA9IF9yZWY1LnRhcmdldCxcbiAgICAgICAgYXhpcyA9IF9yZWY1LmF4aXM7XG5cbiAgICB2YXIgbm9kZSA9IChldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdIDogZXZlbnQpLnRhcmdldCxcbiAgICAgICAgY2FjaGUgPSBub2RlLl9nc2FwIHx8IGdzYXAkMS5jb3JlLmdldENhY2hlKG5vZGUpLFxuICAgICAgICB0aW1lID0gX2dldFRpbWUkMSgpLFxuICAgICAgICBjcztcblxuICAgIGlmICghY2FjaGUuX2lzU2Nyb2xsVCB8fCB0aW1lIC0gY2FjaGUuX2lzU2Nyb2xsVCA+IDIwMDApIHtcbiAgICAgIHdoaWxlIChub2RlICYmIG5vZGUuc2Nyb2xsSGVpZ2h0IDw9IG5vZGUuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIGNhY2hlLl9pc1Njcm9sbCA9IG5vZGUgJiYgIV9pc1ZpZXdwb3J0JDEobm9kZSkgJiYgbm9kZSAhPT0gdGFyZ2V0ICYmIChfb3ZlcmZsb3dbKGNzID0gX2dldENvbXB1dGVkU3R5bGUobm9kZSkpLm92ZXJmbG93WV0gfHwgX292ZXJmbG93W2NzLm92ZXJmbG93WF0pO1xuICAgICAgY2FjaGUuX2lzU2Nyb2xsVCA9IHRpbWU7XG4gICAgfVxuXG4gICAgKGNhY2hlLl9pc1Njcm9sbCB8fCBheGlzID09PSBcInhcIikgJiYgKGV2ZW50Ll9nc2FwQWxsb3cgPSB0cnVlKTtcbiAgfSxcbiAgICAgIF9pbnB1dE9ic2VydmVyID0gZnVuY3Rpb24gX2lucHV0T2JzZXJ2ZXIodGFyZ2V0LCB0eXBlLCBpbnB1dHMsIG5lc3RlZCkge1xuICAgIHJldHVybiBPYnNlcnZlci5jcmVhdGUoe1xuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgZGVib3VuY2U6IGZhbHNlLFxuICAgICAgbG9ja0F4aXM6IHRydWUsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgb25XaGVlbDogbmVzdGVkID0gbmVzdGVkICYmIF9uZXN0ZWRTY3JvbGwsXG4gICAgICBvblByZXNzOiBuZXN0ZWQsXG4gICAgICBvbkRyYWc6IG5lc3RlZCxcbiAgICAgIG9uU2Nyb2xsOiBuZXN0ZWQsXG4gICAgICBvbkVuYWJsZTogZnVuY3Rpb24gb25FbmFibGUoKSB7XG4gICAgICAgIHJldHVybiBpbnB1dHMgJiYgX2FkZExpc3RlbmVyJDEoX2RvYyQxLCBPYnNlcnZlci5ldmVudFR5cGVzWzBdLCBfY2FwdHVyZUlucHV0cywgZmFsc2UsIHRydWUpO1xuICAgICAgfSxcbiAgICAgIG9uRGlzYWJsZTogZnVuY3Rpb24gb25EaXNhYmxlKCkge1xuICAgICAgICByZXR1cm4gX3JlbW92ZUxpc3RlbmVyJDEoX2RvYyQxLCBPYnNlcnZlci5ldmVudFR5cGVzWzBdLCBfY2FwdHVyZUlucHV0cywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICAgICBfaW5wdXRFeHAgPSAvKGlucHV0fGxhYmVsfHNlbGVjdHx0ZXh0YXJlYSkvaSxcbiAgICAgIF9pbnB1dElzRm9jdXNlZCxcbiAgICAgIF9jYXB0dXJlSW5wdXRzID0gZnVuY3Rpb24gX2NhcHR1cmVJbnB1dHMoZSkge1xuICAgIHZhciBpc0lucHV0ID0gX2lucHV0RXhwLnRlc3QoZS50YXJnZXQudGFnTmFtZSk7XG5cbiAgICBpZiAoaXNJbnB1dCB8fCBfaW5wdXRJc0ZvY3VzZWQpIHtcbiAgICAgIGUuX2dzYXBBbGxvdyA9IHRydWU7XG4gICAgICBfaW5wdXRJc0ZvY3VzZWQgPSBpc0lucHV0O1xuICAgIH1cbiAgfSxcbiAgICAgIF9nZXRTY3JvbGxOb3JtYWxpemVyID0gZnVuY3Rpb24gX2dldFNjcm9sbE5vcm1hbGl6ZXIodmFycykge1xuICAgIF9pc09iamVjdCh2YXJzKSB8fCAodmFycyA9IHt9KTtcbiAgICB2YXJzLnByZXZlbnREZWZhdWx0ID0gdmFycy5pc05vcm1hbGl6ZXIgPSB2YXJzLmFsbG93Q2xpY2tzID0gdHJ1ZTtcbiAgICB2YXJzLnR5cGUgfHwgKHZhcnMudHlwZSA9IFwid2hlZWwsdG91Y2hcIik7XG4gICAgdmFycy5kZWJvdW5jZSA9ICEhdmFycy5kZWJvdW5jZTtcbiAgICB2YXJzLmlkID0gdmFycy5pZCB8fCBcIm5vcm1hbGl6ZXJcIjtcblxuICAgIHZhciBfdmFyczIgPSB2YXJzLFxuICAgICAgICBub3JtYWxpemVTY3JvbGxYID0gX3ZhcnMyLm5vcm1hbGl6ZVNjcm9sbFgsXG4gICAgICAgIG1vbWVudHVtID0gX3ZhcnMyLm1vbWVudHVtLFxuICAgICAgICBhbGxvd05lc3RlZFNjcm9sbCA9IF92YXJzMi5hbGxvd05lc3RlZFNjcm9sbCxcbiAgICAgICAgc2VsZixcbiAgICAgICAgbWF4WSxcbiAgICAgICAgdGFyZ2V0ID0gX2dldFRhcmdldCh2YXJzLnRhcmdldCkgfHwgX2RvY0VsJDEsXG4gICAgICAgIHNtb290aGVyID0gZ3NhcCQxLmNvcmUuZ2xvYmFscygpLlNjcm9sbFNtb290aGVyLFxuICAgICAgICBjb250ZW50ID0gX2ZpeElPU0J1ZyAmJiAodmFycy5jb250ZW50ICYmIF9nZXRUYXJnZXQodmFycy5jb250ZW50KSB8fCBzbW9vdGhlciAmJiBzbW9vdGhlci5nZXQoKSAmJiBzbW9vdGhlci5nZXQoKS5jb250ZW50KCkpLFxuICAgICAgICBzY3JvbGxGdW5jWSA9IF9nZXRTY3JvbGxGdW5jKHRhcmdldCwgX3ZlcnRpY2FsKSxcbiAgICAgICAgc2Nyb2xsRnVuY1ggPSBfZ2V0U2Nyb2xsRnVuYyh0YXJnZXQsIF9ob3Jpem9udGFsKSxcbiAgICAgICAgc2NhbGUgPSAxLFxuICAgICAgICBpbml0aWFsU2NhbGUgPSAoT2JzZXJ2ZXIuaXNUb3VjaCAmJiBfd2luJDEudmlzdWFsVmlld3BvcnQgPyBfd2luJDEudmlzdWFsVmlld3BvcnQuc2NhbGUgKiBfd2luJDEudmlzdWFsVmlld3BvcnQud2lkdGggOiBfd2luJDEub3V0ZXJXaWR0aCkgLyBfd2luJDEuaW5uZXJXaWR0aCxcbiAgICAgICAgd2hlZWxSZWZyZXNoID0gMCxcbiAgICAgICAgcmVzb2x2ZU1vbWVudHVtRHVyYXRpb24gPSBfaXNGdW5jdGlvbihtb21lbnR1bSkgPyBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbW9tZW50dW0oc2VsZik7XG4gICAgfSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBtb21lbnR1bSB8fCAyLjg7XG4gICAgfSxcbiAgICAgICAgc2tpcFRvdWNoTW92ZSxcbiAgICAgICAgbGFzdFJlZnJlc2hJRCxcbiAgICAgICAgaW5wdXRPYnNlcnZlciA9IF9pbnB1dE9ic2VydmVyKHRhcmdldCwgdmFycy50eXBlLCB0cnVlLCBhbGxvd05lc3RlZFNjcm9sbCksXG4gICAgICAgIHJlc3VtZVRvdWNoTW92ZSA9IGZ1bmN0aW9uIHJlc3VtZVRvdWNoTW92ZSgpIHtcbiAgICAgIHJldHVybiBza2lwVG91Y2hNb3ZlID0gZmFsc2U7XG4gICAgfSxcbiAgICAgICAgc2Nyb2xsQ2xhbXBYID0gX3Bhc3NUaHJvdWdoLFxuICAgICAgICBzY3JvbGxDbGFtcFkgPSBfcGFzc1Rocm91Z2gsXG4gICAgICAgIHVwZGF0ZUNsYW1wcyA9IGZ1bmN0aW9uIHVwZGF0ZUNsYW1wcygpIHtcbiAgICAgIG1heFkgPSBfbWF4U2Nyb2xsKHRhcmdldCwgX3ZlcnRpY2FsKTtcbiAgICAgIHNjcm9sbENsYW1wWSA9IF9jbGFtcCQxKF9maXhJT1NCdWcgPyAxIDogMCwgbWF4WSk7XG4gICAgICBub3JtYWxpemVTY3JvbGxYICYmIChzY3JvbGxDbGFtcFggPSBfY2xhbXAkMSgwLCBfbWF4U2Nyb2xsKHRhcmdldCwgX2hvcml6b250YWwpKSk7XG4gICAgICBsYXN0UmVmcmVzaElEID0gX3JlZnJlc2hJRDtcbiAgICB9LFxuICAgICAgICBpZ25vcmVEcmFnID0gZnVuY3Rpb24gaWdub3JlRHJhZygpIHtcbiAgICAgIGlmIChza2lwVG91Y2hNb3ZlKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZXN1bWVUb3VjaE1vdmUpO1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSBfcm91bmQoc2VsZi5kZWx0YVkgLyAyKSxcbiAgICAgICAgICAgIHNjcm9sbCA9IHNjcm9sbENsYW1wWShzY3JvbGxGdW5jWS52IC0gb2Zmc2V0KTtcblxuICAgICAgICBpZiAoY29udGVudCAmJiBzY3JvbGwgIT09IHNjcm9sbEZ1bmNZLnYgKyBzY3JvbGxGdW5jWS5vZmZzZXQpIHtcbiAgICAgICAgICBzY3JvbGxGdW5jWS5vZmZzZXQgPSBzY3JvbGwgLSBzY3JvbGxGdW5jWS52O1xuICAgICAgICAgIGNvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKFwiICsgLXNjcm9sbEZ1bmNZLm9mZnNldCArIFwicHgpXCI7XG4gICAgICAgICAgY29udGVudC5fZ3NhcCAmJiAoY29udGVudC5fZ3NhcC55ID0gLXNjcm9sbEZ1bmNZLm9mZnNldCArIFwicHhcIik7XG4gICAgICAgICAgc2Nyb2xsRnVuY1kuY2FjaGVJRCA9IF9zY3JvbGxlcnMuY2FjaGU7XG5cbiAgICAgICAgICBfdXBkYXRlQWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgY29udGVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMHB4KVwiO1xuICAgICAgICBzY3JvbGxGdW5jWS5vZmZzZXQgPSBzY3JvbGxGdW5jWS5jYWNoZUlEID0gMDtcbiAgICAgICAgY29udGVudC5fZ3NhcCAmJiAoY29udGVudC5fZ3NhcC55ID0gXCIwcHhcIik7XG4gICAgICB9XG5cbiAgICAgIHNraXBUb3VjaE1vdmUgPSB0cnVlO1xuICAgIH0sXG4gICAgICAgIHR3ZWVuLFxuICAgICAgICBzdGFydFNjcm9sbFgsXG4gICAgICAgIHN0YXJ0U2Nyb2xsWSxcbiAgICAgICAgb25TdG9wRGVsYXllZENhbGwsXG4gICAgICAgIG9uUmVzaXplID0gZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB1cGRhdGVDbGFtcHMoKTtcblxuICAgICAgaWYgKHR3ZWVuLmlzQWN0aXZlKCkgJiYgdHdlZW4udmFycy5zY3JvbGxZID4gbWF4WSkge1xuICAgICAgICBzY3JvbGxGdW5jWSgpID4gbWF4WSA/IHR3ZWVuLnByb2dyZXNzKDEpICYmIHNjcm9sbEZ1bmNZKG1heFkpIDogdHdlZW4ucmVzZXRUbyhcInNjcm9sbFlcIiwgbWF4WSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhcnMuaWdub3JlQ2hlY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIF9maXhJT1NCdWcgJiYgZS50eXBlID09PSBcInRvdWNobW92ZVwiICYmIGlnbm9yZURyYWcoKSB8fCBzY2FsZSA+IDEuMDUgJiYgZS50eXBlICE9PSBcInRvdWNoc3RhcnRcIiB8fCBzZWxmLmlzR2VzdHVyaW5nIHx8IGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMTtcbiAgICB9O1xuXG4gICAgdmFycy5vblByZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHByZXZTY2FsZSA9IHNjYWxlO1xuICAgICAgc2NhbGUgPSBfcm91bmQoKF93aW4kMS52aXN1YWxWaWV3cG9ydCAmJiBfd2luJDEudmlzdWFsVmlld3BvcnQuc2NhbGUgfHwgMSkgLyBpbml0aWFsU2NhbGUpO1xuICAgICAgdHdlZW4ucGF1c2UoKTtcbiAgICAgIHByZXZTY2FsZSAhPT0gc2NhbGUgJiYgX2FsbG93TmF0aXZlUGFubmluZyh0YXJnZXQsIHNjYWxlID4gMS4wMSA/IHRydWUgOiBub3JtYWxpemVTY3JvbGxYID8gZmFsc2UgOiBcInhcIik7XG4gICAgICBza2lwVG91Y2hNb3ZlID0gZmFsc2U7XG4gICAgICBzdGFydFNjcm9sbFggPSBzY3JvbGxGdW5jWCgpO1xuICAgICAgc3RhcnRTY3JvbGxZID0gc2Nyb2xsRnVuY1koKTtcbiAgICAgIHVwZGF0ZUNsYW1wcygpO1xuICAgICAgbGFzdFJlZnJlc2hJRCA9IF9yZWZyZXNoSUQ7XG4gICAgfTtcblxuICAgIHZhcnMub25SZWxlYXNlID0gdmFycy5vbkdlc3R1cmVTdGFydCA9IGZ1bmN0aW9uIChzZWxmLCB3YXNEcmFnZ2luZykge1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgY29udGVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMHB4KVwiO1xuICAgICAgICBzY3JvbGxGdW5jWS5vZmZzZXQgPSBzY3JvbGxGdW5jWS5jYWNoZUlEID0gMDtcbiAgICAgICAgY29udGVudC5fZ3NhcCAmJiAoY29udGVudC5fZ3NhcC55ID0gXCIwcHhcIik7XG4gICAgICB9XG5cbiAgICAgIGlmICghd2FzRHJhZ2dpbmcpIHtcbiAgICAgICAgb25TdG9wRGVsYXllZENhbGwucmVzdGFydCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9zY3JvbGxlcnMuY2FjaGUrKztcbiAgICAgICAgdmFyIGR1ciA9IHJlc29sdmVNb21lbnR1bUR1cmF0aW9uKCksXG4gICAgICAgICAgICBjdXJyZW50U2Nyb2xsLFxuICAgICAgICAgICAgZW5kU2Nyb2xsO1xuXG4gICAgICAgIGlmIChub3JtYWxpemVTY3JvbGxYKSB7XG4gICAgICAgICAgY3VycmVudFNjcm9sbCA9IHNjcm9sbEZ1bmNYKCk7XG4gICAgICAgICAgZW5kU2Nyb2xsID0gY3VycmVudFNjcm9sbCArIGR1ciAqIDAuMDUgKiAtc2VsZi52ZWxvY2l0eVggLyAwLjIyNztcbiAgICAgICAgICBkdXIgKj0gX2NsYW1wU2Nyb2xsQW5kR2V0RHVyYXRpb25NdWx0aXBsaWVyKHNjcm9sbEZ1bmNYLCBjdXJyZW50U2Nyb2xsLCBlbmRTY3JvbGwsIF9tYXhTY3JvbGwodGFyZ2V0LCBfaG9yaXpvbnRhbCkpO1xuICAgICAgICAgIHR3ZWVuLnZhcnMuc2Nyb2xsWCA9IHNjcm9sbENsYW1wWChlbmRTY3JvbGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudFNjcm9sbCA9IHNjcm9sbEZ1bmNZKCk7XG4gICAgICAgIGVuZFNjcm9sbCA9IGN1cnJlbnRTY3JvbGwgKyBkdXIgKiAwLjA1ICogLXNlbGYudmVsb2NpdHlZIC8gMC4yMjc7XG4gICAgICAgIGR1ciAqPSBfY2xhbXBTY3JvbGxBbmRHZXREdXJhdGlvbk11bHRpcGxpZXIoc2Nyb2xsRnVuY1ksIGN1cnJlbnRTY3JvbGwsIGVuZFNjcm9sbCwgX21heFNjcm9sbCh0YXJnZXQsIF92ZXJ0aWNhbCkpO1xuICAgICAgICB0d2Vlbi52YXJzLnNjcm9sbFkgPSBzY3JvbGxDbGFtcFkoZW5kU2Nyb2xsKTtcbiAgICAgICAgdHdlZW4uaW52YWxpZGF0ZSgpLmR1cmF0aW9uKGR1cikucGxheSgwLjAxKTtcblxuICAgICAgICBpZiAoX2ZpeElPU0J1ZyAmJiB0d2Vlbi52YXJzLnNjcm9sbFkgPj0gbWF4WSB8fCBjdXJyZW50U2Nyb2xsID49IG1heFkgLSAxKSB7XG4gICAgICAgICAgZ3NhcCQxLnRvKHt9LCB7XG4gICAgICAgICAgICBvblVwZGF0ZTogb25SZXNpemUsXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFycy5vbldoZWVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHdlZW4uX3RzICYmIHR3ZWVuLnBhdXNlKCk7XG5cbiAgICAgIGlmIChfZ2V0VGltZSQxKCkgLSB3aGVlbFJlZnJlc2ggPiAxMDAwKSB7XG4gICAgICAgIGxhc3RSZWZyZXNoSUQgPSAwO1xuICAgICAgICB3aGVlbFJlZnJlc2ggPSBfZ2V0VGltZSQxKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhcnMub25DaGFuZ2UgPSBmdW5jdGlvbiAoc2VsZiwgZHgsIGR5LCB4QXJyYXksIHlBcnJheSkge1xuICAgICAgX3JlZnJlc2hJRCAhPT0gbGFzdFJlZnJlc2hJRCAmJiB1cGRhdGVDbGFtcHMoKTtcbiAgICAgIGR4ICYmIG5vcm1hbGl6ZVNjcm9sbFggJiYgc2Nyb2xsRnVuY1goc2Nyb2xsQ2xhbXBYKHhBcnJheVsyXSA9PT0gZHggPyBzdGFydFNjcm9sbFggKyAoc2VsZi5zdGFydFggLSBzZWxmLngpIDogc2Nyb2xsRnVuY1goKSArIGR4IC0geEFycmF5WzFdKSk7XG4gICAgICBkeSAmJiBzY3JvbGxGdW5jWShzY3JvbGxDbGFtcFkoeUFycmF5WzJdID09PSBkeSA/IHN0YXJ0U2Nyb2xsWSArIChzZWxmLnN0YXJ0WSAtIHNlbGYueSkgOiBzY3JvbGxGdW5jWSgpICsgZHkgLSB5QXJyYXlbMV0pKTtcblxuICAgICAgX3VwZGF0ZUFsbCgpO1xuICAgIH07XG5cbiAgICB2YXJzLm9uRW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX2FsbG93TmF0aXZlUGFubmluZyh0YXJnZXQsIG5vcm1hbGl6ZVNjcm9sbFggPyBmYWxzZSA6IFwieFwiKTtcblxuICAgICAgX2FkZExpc3RlbmVyJDEoX3dpbiQxLCBcInJlc2l6ZVwiLCBvblJlc2l6ZSk7XG5cbiAgICAgIGlucHV0T2JzZXJ2ZXIuZW5hYmxlKCk7XG4gICAgfTtcblxuICAgIHZhcnMub25EaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgX2FsbG93TmF0aXZlUGFubmluZyh0YXJnZXQsIHRydWUpO1xuXG4gICAgICBfcmVtb3ZlTGlzdGVuZXIkMShfd2luJDEsIFwicmVzaXplXCIsIG9uUmVzaXplKTtcblxuICAgICAgaW5wdXRPYnNlcnZlci5raWxsKCk7XG4gICAgfTtcblxuICAgIHNlbGYgPSBuZXcgT2JzZXJ2ZXIodmFycyk7XG4gICAgc2VsZi5pT1MgPSBfZml4SU9TQnVnO1xuICAgIF9maXhJT1NCdWcgJiYgIXNjcm9sbEZ1bmNZKCkgJiYgc2Nyb2xsRnVuY1koMSk7XG4gICAgb25TdG9wRGVsYXllZENhbGwgPSBzZWxmLl9kYztcbiAgICB0d2VlbiA9IGdzYXAkMS50byhzZWxmLCB7XG4gICAgICBlYXNlOiBcInBvd2VyNFwiLFxuICAgICAgcGF1c2VkOiB0cnVlLFxuICAgICAgc2Nyb2xsWDogbm9ybWFsaXplU2Nyb2xsWCA/IFwiKz0wLjFcIiA6IFwiKz0wXCIsXG4gICAgICBzY3JvbGxZOiBcIis9MC4xXCIsXG4gICAgICBvbkNvbXBsZXRlOiBvblN0b3BEZWxheWVkQ2FsbC52YXJzLm9uQ29tcGxldGVcbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEuc29ydCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gICAgcmV0dXJuIF90cmlnZ2Vycy5zb3J0KGZ1bmMgfHwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiAoYS52YXJzLnJlZnJlc2hQcmlvcml0eSB8fCAwKSAqIC0xZTYgKyBhLnN0YXJ0IC0gKGIuc3RhcnQgKyAoYi52YXJzLnJlZnJlc2hQcmlvcml0eSB8fCAwKSAqIC0xZTYpO1xuICAgIH0pO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5vYnNlcnZlID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmVyKHZhcnMpO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5ub3JtYWxpemVTY3JvbGwgPSBmdW5jdGlvbiAodmFycykge1xuICAgIGlmICh0eXBlb2YgdmFycyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIF9ub3JtYWxpemVyJDE7XG4gICAgfVxuXG4gICAgaWYgKHZhcnMgPT09IHRydWUgJiYgX25vcm1hbGl6ZXIkMSkge1xuICAgICAgcmV0dXJuIF9ub3JtYWxpemVyJDEuZW5hYmxlKCk7XG4gICAgfVxuXG4gICAgaWYgKHZhcnMgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gX25vcm1hbGl6ZXIkMSAmJiBfbm9ybWFsaXplciQxLmtpbGwoKTtcbiAgICB9XG5cbiAgICB2YXIgbm9ybWFsaXplciA9IHZhcnMgaW5zdGFuY2VvZiBPYnNlcnZlciA/IHZhcnMgOiBfZ2V0U2Nyb2xsTm9ybWFsaXplcih2YXJzKTtcbiAgICBfbm9ybWFsaXplciQxICYmIF9ub3JtYWxpemVyJDEudGFyZ2V0ID09PSBub3JtYWxpemVyLnRhcmdldCAmJiBfbm9ybWFsaXplciQxLmtpbGwoKTtcbiAgICBfaXNWaWV3cG9ydCQxKG5vcm1hbGl6ZXIudGFyZ2V0KSAmJiAoX25vcm1hbGl6ZXIkMSA9IG5vcm1hbGl6ZXIpO1xuICAgIHJldHVybiBub3JtYWxpemVyO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5jb3JlID0ge1xuICAgIF9nZXRWZWxvY2l0eVByb3A6IF9nZXRWZWxvY2l0eVByb3AsXG4gICAgX2lucHV0T2JzZXJ2ZXI6IF9pbnB1dE9ic2VydmVyLFxuICAgIF9zY3JvbGxlcnM6IF9zY3JvbGxlcnMsXG4gICAgX3Byb3hpZXM6IF9wcm94aWVzLFxuICAgIGJyaWRnZToge1xuICAgICAgc3M6IGZ1bmN0aW9uIHNzKCkge1xuICAgICAgICBfbGFzdFNjcm9sbFRpbWUgfHwgX2Rpc3BhdGNoKFwic2Nyb2xsU3RhcnRcIik7XG4gICAgICAgIF9sYXN0U2Nyb2xsVGltZSA9IF9nZXRUaW1lJDEoKTtcbiAgICAgIH0sXG4gICAgICByZWY6IGZ1bmN0aW9uIHJlZigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWZyZXNoaW5nO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgX2dldEdTQVAkMSgpICYmIGdzYXAkMS5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyJDEpO1xuXG4gIGV4cG9ydHMuU2Nyb2xsVHJpZ2dlciA9IFNjcm9sbFRyaWdnZXIkMTtcbiAgZXhwb3J0cy5kZWZhdWx0ID0gU2Nyb2xsVHJpZ2dlciQxO1xuXG4gIGlmICh0eXBlb2Yod2luZG93KSA9PT0gJ3VuZGVmaW5lZCcgfHwgd2luZG93ICE9PSBleHBvcnRzKSB7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTt9IGVsc2Uge2RlbGV0ZSB3aW5kb3cuZGVmYXVsdDt9XG5cbn0pKSk7XG4iLCJpbXBvcnQgZ3NhcCBmcm9tIFwiZ3NhcFwiO1xuaW1wb3J0IHsgU3BsaXRUZXh0IH0gZnJvbSBcImdzYXAvZGlzdC9TcGxpdFRleHRcIjtcbmltcG9ydCBTd2lwZXIsIHsgTmF2aWdhdGlvbiwgUGFnaW5hdGlvbiB9IGZyb20gXCJzd2lwZXJcIjtcbmltcG9ydCBUaHJlZURTbGlkZXJNb2RlbHMgZnJvbSBcIi4vM2RTbGlkZXJNb2RlbHNcIjtcblxuZ3NhcC5yZWdpc3RlclBsdWdpbihTcGxpdFRleHQpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaHJlZURTbGlkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkRPTSA9IHtcbiAgICAgICAgICAgIHdyYXBwZXI6IFwiLmpzLTNkLXNsaWRlci13cmFwcGVyXCIsXG4gICAgICAgICAgICBzbGlkZXI6IFwiLmpzLTNkLXNsaWRlclwiLFxuICAgICAgICAgICAgbmV4dDogXCIuanMtM2Qtc2xpZGVyLW5leHRcIixcbiAgICAgICAgICAgIHByZXY6IFwiLmpzLTNkLXNsaWRlci1wcmV2XCIsXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBcIi5qcy0zZC1zbGlkZXItcGFnaW5hdGlvblwiLFxuICAgICAgICAgICAgcHJpbWFyeVRpdGxlOiBcIi5qcy1zbGlkZS10aXRsZS1wcmltYXJ5XCIsXG4gICAgICAgICAgICBzZWNvbmRhcnlUaXRsZTogXCIuanMtc2xpZGUtdGl0bGUtc2Vjb25kYXJ5XCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS53cmFwcGVyKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMud3JhcHBlcikgcmV0dXJuO1xuICAgICAgICB0aGlzLm1vZGVscyA9IG5ldyBUaHJlZURTbGlkZXJNb2RlbHModGhpcy53cmFwcGVyKTtcblxuICAgICAgICBjb25zdCBzbGlkZXIgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5zbGlkZXIpO1xuICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ubmV4dCk7XG4gICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5wcmV2KTtcbiAgICAgICAgY29uc3QgcGFnaW5hdGlvbiA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnBhZ2luYXRpb24pO1xuXG4gICAgICAgIGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoc2xpZGVyLCB7XG4gICAgICAgICAgICBtb2R1bGVzOiBbTmF2aWdhdGlvbiwgUGFnaW5hdGlvbl0sXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgICAgICBlbDogcGFnaW5hdGlvbixcbiAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlbmRlckJ1bGxldDogKGluZGV4LCBjbGFzc05hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ1LWljb25cIiB2aWV3Qm94PVwiMCAwIDEyIDE5XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk02LjE4MDI5IDE4Ljc0NzZDOS45ODUyNCAxOC43NDc2IDExLjU2ODggMTUuNjU3OSAxMS41Njg4IDEwLjA4MDdWOC42NjY4MkMxMS41Njg4IDMuMDg5NjggOS45ODUyNCAwIDYuMTgwMjkgMEg1LjM4ODUxQzEuNjA1NTYgMCAwIDMuMDYzNSAwIDguNjY2ODJWMTAuMDgwN0MwIDE1LjY4NDEgMS42MDU1NiAxOC43NDc2IDUuMzg4NTEgMTguNzQ3Nkg2LjE4MDI5Wk01LjQ3NjQ5IDE2LjMzODdDMy4zNDMwOCAxNi4zMzg3IDIuMzA5MzYgMTQuNDI3MiAyLjMwOTM2IDEwLjYwNDRWOC4xNDMxNUMyLjMwOTM2IDQuMzIwMzIgMy4zNDMwOCAyLjQwODkgNS40NzY0OSAyLjQwODlINi4xMTQzMUM4LjI0NzcyIDIuNDA4OSA5LjI4MTQzIDQuMzIwMzIgOS4yODE0MyA4LjE0MzE1VjEwLjYwNDRDOS4yODE0MyAxNC40MjcyIDguMjQ3NzIgMTYuMzM4NyA2LjExNDMxIDE2LjMzODdINS40NzY0OVpcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInUtaWNvblwiIHZpZXdCb3g9XCIwIDAgOCAxOVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMi42OTczIDEuNTc3MjRMMC44NTE1NjIgMEg3LjI3ODY3TDUuNDMyOTQgMS41NzcyNFYxNi43ODYzTDcuMjc4NjcgMTguMzYzNUgwLjg1MTU2MkwyLjY5NzMgMTYuNzg2M1YxLjU3NzI0WlwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPmA7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmV4dEVsOiBuZXh0LFxuICAgICAgICAgICAgICAgIHByZXZFbDogcHJldixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHNsaWRlQ2hhbmdlOiAoc3dpcGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZVRpdGxlcyhzd2lwZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzLmNoYW5nZVNsaWRlKHN3aXBlci5hY3RpdmVJbmRleCwgc3dpcGVyLnByZXZpb3VzSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWZ0ZXJJbml0OiAoc3dpcGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzLmluaXQoKTtcblxuICAgICAgICAgICAgICAgICAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4gdGhpcy5tb2RlbHMuaW5pdE1vZGVsKHNsaWRlLCBpbmRleCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TY3JvbGxBbmltYXRpb24oc3dpcGVyLnNsaWRlc1swXSwgc3dpcGVyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGl0bGVQcmltYXJ5ID0gc2xpZGUucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5wcmltYXJ5VGl0bGUpO1xuICAgICAgICAgICAgY29uc3QgdGl0bGVTZWNvbmRhcnkgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnNlY29uZGFyeVRpdGxlKTtcblxuICAgICAgICAgICAgY29uc3Qgc3BsaXRQcmltYXJ5ID0gbmV3IFNwbGl0VGV4dCh0aXRsZVByaW1hcnksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoYXJzXCIsXG4gICAgICAgICAgICAgICAgY2hhcnNDbGFzczogXCJzcGxpdC10ZXh0LWNoYXJcIixcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzcGxpdFNlY29uZGFyeSA9IG5ldyBTcGxpdFRleHQodGl0bGVTZWNvbmRhcnksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoYXJzXCIsXG4gICAgICAgICAgICAgICAgY2hhcnNDbGFzczogXCJzcGxpdC10ZXh0LWNoYXJcIixcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBnc2FwLnNldChzcGxpdFByaW1hcnkuY2hhcnMsIHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuaW1hdGVUaXRsZXMoc3dpcGVyKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0ZVRpdGxlSW4oc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdKTtcblxuICAgICAgICBpZiAoc3dpcGVyLnNsaWRlc1tzd2lwZXIucHJldmlvdXNJbmRleF0pIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZVRpdGxlT3V0KHN3aXBlci5zbGlkZXNbc3dpcGVyLnByZXZpb3VzSW5kZXhdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuaW1hdGVUaXRsZUluKHNsaWRlKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlUHJpbWFyeUNoYXJzID0gc2xpZGUucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5wcmltYXJ5VGl0bGUpLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3BsaXQtdGV4dC1jaGFyXCIpO1xuICAgICAgICBjb25zdCB0aXRsZVNlY29uZGFyeUNoYXJzID0gc2xpZGUucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5zZWNvbmRhcnlUaXRsZSkucXVlcnlTZWxlY3RvckFsbChcIi5zcGxpdC10ZXh0LWNoYXJcIik7XG5cbiAgICAgICAgZ3NhcC50byh0aXRsZVByaW1hcnlDaGFycywge1xuICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgICBkZWxheTogMC42LFxuICAgICAgICAgICAgZHVyYXRpb246IDAuMixcbiAgICAgICAgICAgIHN0YWdnZXI6IHtcbiAgICAgICAgICAgICAgICBlYWNoOiAwLjA1LFxuICAgICAgICAgICAgICAgIGZyb206IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBnc2FwLnRvKHRpdGxlU2Vjb25kYXJ5Q2hhcnMsIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICBkZWxheTogMC40LFxuICAgICAgICAgICAgZHVyYXRpb246IDAuMixcbiAgICAgICAgICAgIHN0YWdnZXI6IHtcbiAgICAgICAgICAgICAgICBlYWNoOiAwLjA1LFxuICAgICAgICAgICAgICAgIGZyb206IFwiY2VudGVyXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmltYXRlVGl0bGVPdXQoc2xpZGUpIHtcbiAgICAgICAgY29uc3QgdGl0bGVQcmltYXJ5Q2hhcnMgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnByaW1hcnlUaXRsZSkucXVlcnlTZWxlY3RvckFsbChcIi5zcGxpdC10ZXh0LWNoYXJcIik7XG4gICAgICAgIGNvbnN0IHRpdGxlU2Vjb25kYXJ5Q2hhcnMgPSBzbGlkZS5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLnNlY29uZGFyeVRpdGxlKS5xdWVyeVNlbGVjdG9yQWxsKFwiLnNwbGl0LXRleHQtY2hhclwiKTtcblxuICAgICAgICBnc2FwLnRvKHRpdGxlUHJpbWFyeUNoYXJzLCB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuICAgICAgICB9KTtcblxuICAgICAgICBnc2FwLnRvKHRpdGxlU2Vjb25kYXJ5Q2hhcnMsIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IFwidmlzaWJsZVwiLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblNjcm9sbEFuaW1hdGlvbihmaXJzdFNsaWRlLCBzd2lwZXIpIHtcbiAgICAgICAgaWYgKCFmaXJzdFNsaWRlKSByZXR1cm47XG5cbiAgICAgICAgZ3NhcC5mcm9tVG8oXG4gICAgICAgICAgICBmaXJzdFNsaWRlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeDogXCIwJVwiLFxuICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMSxcbiAgICAgICAgICAgICAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMS4yLFxuICAgICAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy53cmFwcGVyLFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogXCJ0b3AgNDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogXCJib3R0b20gYm90dG9tXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblN0YXJ0OiAoKSA9PiB0aGlzLmFuaW1hdGVUaXRsZXMoc3dpcGVyKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IGdzYXAgZnJvbSBcImdzYXBcIjtcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgRFJBQ09Mb2FkZXIgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvRFJBQ09Mb2FkZXJcIjtcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tIFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiO1xuaW1wb3J0IFNjcm9sbFRyaWdnZXIgZnJvbSBcImdzYXAvU2Nyb2xsVHJpZ2dlclwiO1xuaW1wb3J0IGlzIGZyb20gXCJpc19qc1wiO1xuXG5nc2FwLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRyaWdnZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaHJlZURTbGlkZXJNb2RlbHMge1xuICAgIGNvbnN0cnVjdG9yKHdyYXBwZXIpIHtcbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICBtb2RlbHM6IFwiLmpzLTNkLXNsaWRlci1tb2RlbHNcIixcbiAgICAgICAgICAgIHNsaWRlOiBcIi5qcy0zZC1zbGlkZXItc2xpZGVcIixcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vZGVscyA9IHdyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5tb2RlbHMpO1xuXG4gICAgICAgIC8vIGNvbmZpZ1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIG1vZGVsT2Zmc2V0OiA2LFxuICAgICAgICAgICAgbW9kZWxTY2FsZTogMSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMubW9kZWxzKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5tb2RlbHNBcnJheSA9IFtdO1xuXG4gICAgICAgIHRoaXMubW9kZWxzV3JhcHBlciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTtcblxuICAgICAgICAvLyBsb2FkZXJcbiAgICAgICAgY29uc3QgZHJhY29Mb2FkZXIgPSBuZXcgRFJBQ09Mb2FkZXIoKTtcbiAgICAgICAgZHJhY29Mb2FkZXIuc2V0RGVjb2RlclBhdGgod2luZG93LmRyYWNvUGF0aCk7XG4gICAgICAgIGRyYWNvTG9hZGVyLnNldERlY29kZXJDb25maWcoe1xuICAgICAgICAgICAgdHlwZTogXCJqc1wiLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2FkZXIuc2V0RFJBQ09Mb2FkZXIoZHJhY29Mb2FkZXIpO1xuXG4gICAgICAgIFRIUkVFLkNhY2hlLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMucmVzaXplTW9kZWxzKCk7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMubW9kZWxzLm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMubW9kZWxzLm9mZnNldEhlaWdodDtcblxuICAgICAgICB0aGlzLmluaXRDYW1lcmEoKTtcbiAgICAgICAgdGhpcy5pbml0U2NlbmUoKTtcbiAgICAgICAgdGhpcy5pbml0TGlnaHRzKCk7XG4gICAgICAgIHRoaXMuaW5pdFJlbmRlcmVyKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xuICAgICAgICB0aGlzLm9uU2Nyb2xsQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgaWYgKCFpcy5tb2JpbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubW9kZWxzV3JhcHBlcik7XG5cbiAgICAgICAgLy8gaGFuZGxlIHJlc2l6ZVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB0aGlzLm9uV2luZG93UmVzaXplKCksIGZhbHNlKTtcbiAgICB9XG5cbiAgICBvblNjcm9sbEFuaW1hdGlvbigpIHtcbiAgICAgICAgZ3NhcC50aW1lbGluZSh7XG4gICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy5tb2RlbHMsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IFwidG9wIDMwJVwiLFxuICAgICAgICAgICAgICAgIGVuZDogXCJib3R0b20gYm90dG9tXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmFkZChcInN0YXJ0XCIpXG4gICAgICAgICAgICAuZnJvbVRvKFxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzV3JhcHBlci5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHk6IC0zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInN0YXJ0XCIsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZnJvbVRvKFxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzV3JhcHBlci5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHg6IC0zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInN0YXJ0XCIsXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHJlc2l6ZU1vZGVscygpIHtcbiAgICAgICAgU2Nyb2xsVHJpZ2dlci5tYXRjaE1lZGlhKHtcbiAgICAgICAgICAgIFwiKG1pbi13aWR0aDogMTEwMHB4KVwiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgIT09IDAuOSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlID0gMC45O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIihtYXgtd2lkdGg6IDgwMXB4KVwiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgIT09IDAuNykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlID0gMC43O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIihtYXgtd2lkdGg6IDYwMHB4KVwiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgIT09IDAuNikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlID0gMC43O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIihtYXgtd2lkdGg6IDQ3NXB4KVwiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgIT09IDAuNikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlID0gMC43O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1vdXNlTW92ZSgpIHtcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IHRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgY29uc3Qgc2luZ2xlUGVyY2VudENvZWZmaWNpZW50ID0gMC4wNSAvIGhhbGZIZWlnaHQ7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGV2KSA9PiB7XG4gICAgICAgICAgICBsZXQgbW91c2VZID0gZXYuY2xpZW50WTtcblxuICAgICAgICAgICAgZ3NhcC50byh0aGlzLnllbGxvd0xpZ2h0LnBvc2l0aW9uLCB7XG4gICAgICAgICAgICAgICAgeTogLTEgLSAobW91c2VZIC0gd2luZG93LmlubmVySGVpZ2h0KSAvIDQwMCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBnc2FwLnRvKHRoaXMuYmx1ZUxpZ2h0LnBvc2l0aW9uLCB7XG4gICAgICAgICAgICAgICAgeTogLShtb3VzZVkgLSB3aW5kb3cuaW5uZXJIZWlnaHQpIC8gNDAwLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGdzYXAudG8odGhpcy5tb2RlbHNXcmFwcGVyLnJvdGF0aW9uLCB7XG4gICAgICAgICAgICAgICAgeDogLXNpbmdsZVBlcmNlbnRDb2VmZmljaWVudCAqIChoYWxmSGVpZ2h0IC0gZXYuY2xpZW50WSksXG4gICAgICAgICAgICAgICAgZGVsYXk6IDAuMSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjYW1lcmEgc2V0dXBcbiAgICAgKi9cbiAgICBpbml0Q2FtZXJhKCkge1xuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSgzNSwgdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0LCAwLjUsIDEwMCk7XG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCA2KTtcbiAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0KDAsIDAsIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNjZW5lIHNldHVwXG4gICAgICovXG4gICAgaW5pdFNjZW5lKCkge1xuICAgICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbGlnaHRzIHNldHVwIC0gYmVjYXVzZSBvZiBwZXJmb3JtYW5jZSA+IGFsbCBpbiBvbmUgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdExpZ2h0cygpIHtcbiAgICAgICAgY29uc3QgbGlnaHRXcmFwcGVyID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICAgICAgdGhpcy55ZWxsb3dMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmViMzAxLCA1LCA0KTtcbiAgICAgICAgdGhpcy55ZWxsb3dMaWdodC5wb3NpdGlvbi5zZXQoLTEsIDEsIDIpO1xuXG4gICAgICAgIHRoaXMuYmx1ZUxpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHgyNDAwZmYsIDUsIDIpO1xuICAgICAgICB0aGlzLmJsdWVMaWdodC5wb3NpdGlvbi5zZXQoMSwgMCwgMSk7XG5cbiAgICAgICAgbGlnaHRXcmFwcGVyLmFkZCh0aGlzLmJsdWVMaWdodCk7XG4gICAgICAgIGxpZ2h0V3JhcHBlci5hZGQodGhpcy55ZWxsb3dMaWdodCk7XG5cbiAgICAgICAgdGhpcy5zY2VuZS5hZGQobGlnaHRXcmFwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZW5kZXJlciBzZXR1cFxuICAgICAqL1xuICAgIGluaXRSZW5kZXJlcigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogXCJoaWdoLXBlcmZvcm1hbmNlXCIsXG4gICAgICAgICAgICBhbHBoYTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4MDAwMDAwLCAwKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMiA/IDIgOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgICB0aGlzLm1vZGVscy5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG1vZGVsIHNldHVwIGFuZCBsb2FkIGNhbGxcbiAgICAgKi9cbiAgICBpbml0TW9kZWwoc2xpZGUsIGluZGV4KSB7XG4gICAgICAgIGlmICghc2xpZGUpIHJldHVybjtcblxuICAgICAgICB0aGlzLmxvYWRlci5sb2FkKFxuICAgICAgICAgICAgc2xpZGUuZGF0YXNldC5tb2RlbCxcbiAgICAgICAgICAgIChnbHRmKSA9PiB7XG4gICAgICAgICAgICAgICAgZ2x0Zi5zY2VuZS5yb3RhdGlvbi55ID0gLU1hdGguUEkgLyAyO1xuXG4gICAgICAgICAgICAgICAgZ2x0Zi5zY2VuZS5wb3NpdGlvbi54ID0gaW5kZXggKiB0aGlzLmNvbmZpZy5tb2RlbE9mZnNldDtcblxuICAgICAgICAgICAgICAgIGdsdGYuc2NlbmUuc2NhbGUuc2V0KHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUpO1xuXG4gICAgICAgICAgICAgICAgZ2x0Zi5zY2VuZS51dWlkID0gaW5kZXg7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc0FycmF5LnB1c2goZ2x0Zi5zY2VuZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc1dyYXBwZXIuYWRkKGdsdGYuc2NlbmUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygoeGhyLmxvYWRlZCAvIHhoci50b3RhbCkgKiAxMDAgKyBcIiUgbG9hZGVkXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQW4gZXJyb3IgaGFwcGVuZWRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgb25XaW5kb3dSZXNpemUoKSB7XG4gICAgICAgIHRoaXMucmVzaXplTW9kZWxzKCk7XG5cbiAgICAgICAgdGhpcy5tb2RlbHNXcmFwcGVyLmNoaWxkcmVuLmZvckVhY2goKG1vZGVsKSA9PiBtb2RlbC5zY2FsZS5zZXQodGhpcy5jb25maWcubW9kZWxTY2FsZSwgdGhpcy5jb25maWcubW9kZWxTY2FsZSwgdGhpcy5jb25maWcubW9kZWxTY2FsZSkpO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMubW9kZWxzLm9mZnNldFdpZHRoIC8gdGhpcy5tb2RlbHMub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMubW9kZWxzLm9mZnNldFdpZHRoLCB0aGlzLm1vZGVscy5vZmZzZXRIZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAqL1xuICAgIGFuaW1hdGUoKSB7XG4gICAgICAgIGxldCByYWYgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMubW9kZWxzLFxuICAgICAgICAgICAgc3RhcnQ6IFwidG9wIGJvdHRvbVwiLFxuICAgICAgICAgICAgZW5kOiBcImJvdHRvbSB0b3BcIixcbiAgICAgICAgICAgIG9uRW50ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MZWF2ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FbnRlckJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MZWF2ZUJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2hhbmdlU2xpZGUoaW5kZXgsIHByZXZJbmRleCkge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMubW9kZWxzQXJyYXkuZmluZCgobW9kZWwpID0+IG1vZGVsLnV1aWQgPT09IGluZGV4KTtcbiAgICAgICAgY29uc3QgcHJldk1vZGVsID0gdGhpcy5tb2RlbHNBcnJheS5maW5kKChtb2RlbCkgPT4gbW9kZWwudXVpZCA9PT0gcHJldkluZGV4KTtcblxuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBwcmV2SW5kZXggPiBpbmRleCA/IDEgOiAtMTtcblxuICAgICAgICBnc2FwLnRpbWVsaW5lKClcbiAgICAgICAgICAgIC5hZGQoXCJzdGFydFwiKVxuICAgICAgICAgICAgLnRvKFxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzV3JhcHBlci5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHg6IC1pbmRleCAqIHRoaXMuY29uZmlnLm1vZGVsT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJwb3dlcjQub3V0XCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInN0YXJ0XCIsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZnJvbVRvKFxuICAgICAgICAgICAgICAgIG1vZGVsLnJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeTogLU1hdGguUEkgLyAyICsgMi41ICogZGlyZWN0aW9uLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB5OiAtTWF0aC5QSSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyLFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwic3RhcnRcIixcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5mcm9tVG8oXG4gICAgICAgICAgICAgICAgcHJldk1vZGVsLnJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeTogLU1hdGguUEkgLyAyLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB5OiAtTWF0aC5QSSAvIDIgKyAtMi41ICogZGlyZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJwb3dlcjQub3V0XCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInN0YXJ0XCIsXG4gICAgICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IERSQUNPTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0RSQUNPTG9hZGVyXCI7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXJcIjtcbmltcG9ydCBTY3JvbGxUcmlnZ2VyIGZyb20gXCJnc2FwL1Njcm9sbFRyaWdnZXJcIjtcbmltcG9ydCBpcyBmcm9tIFwiaXNfanNcIjtcblxuZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyTW9kZWwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkRPTSA9IHtcbiAgICAgICAgICAgIHdyYXBwZXI6IFwiLmpzLWNvbnRhY3QtbW9kZWwtd3JhcHBlclwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ud3JhcHBlcik7XG4gICAgICAgIHRoaXMubW9kZWwgPSBudWxsO1xuXG4gICAgICAgIC8vIGNvbmZpZ1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIG1vZGVsT2Zmc2V0OiA2LFxuICAgICAgICAgICAgbW9kZWxTY2FsZTogMSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMud3JhcHBlcikgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTtcblxuICAgICAgICAvLyBsb2FkZXJcbiAgICAgICAgY29uc3QgZHJhY29Mb2FkZXIgPSBuZXcgRFJBQ09Mb2FkZXIoKTtcbiAgICAgICAgZHJhY29Mb2FkZXIuc2V0RGVjb2RlclBhdGgod2luZG93LmRyYWNvUGF0aCk7XG4gICAgICAgIGRyYWNvTG9hZGVyLnNldERlY29kZXJDb25maWcoe1xuICAgICAgICAgICAgdHlwZTogXCJqc1wiLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2FkZXIuc2V0RFJBQ09Mb2FkZXIoZHJhY29Mb2FkZXIpO1xuXG4gICAgICAgIFRIUkVFLkNhY2hlLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMucmVzaXplTW9kZWxzKCk7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud3JhcHBlci5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuaW5pdENhbWVyYSgpO1xuICAgICAgICB0aGlzLmluaXRTY2VuZSgpO1xuICAgICAgICB0aGlzLmluaXRMaWdodHMoKTtcbiAgICAgICAgdGhpcy5pbml0UmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5hbmltYXRlKCk7XG4gICAgICAgIGlmICghaXMubW9iaWxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0TW9kZWwoKTtcblxuICAgICAgICAvLyBoYW5kbGUgcmVzaXplXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHRoaXMub25XaW5kb3dSZXNpemUoKSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHJlc2l6ZU1vZGVscygpIHtcbiAgICAgICAgU2Nyb2xsVHJpZ2dlci5tYXRjaE1lZGlhKHtcbiAgICAgICAgICAgIFwiKG1pbi13aWR0aDogMTEwMHB4KVwiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgIT09IDAuOSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlID0gMC45O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIihtYXgtd2lkdGg6IDgwMXB4KVwiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgIT09IDAuNykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlID0gMC43O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIihtYXgtd2lkdGg6IDYwMHB4KVwiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgIT09IDAuNikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlID0gMC42O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIihtYXgtd2lkdGg6IDQ3NXB4KVwiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgIT09IDAuNikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlID0gMC42O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1vdXNlTW92ZSgpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGV2KSA9PiB7XG4gICAgICAgICAgICBsZXQgbW91c2VZID0gZXYuY2xpZW50WTtcblxuICAgICAgICAgICAgZ3NhcC50byh0aGlzLnllbGxvd0xpZ2h0LnBvc2l0aW9uLCB7XG4gICAgICAgICAgICAgICAgeTogLTEgLSAobW91c2VZIC0gd2luZG93LmlubmVySGVpZ2h0KSAvIDQwMCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBnc2FwLnRvKHRoaXMuYmx1ZUxpZ2h0LnBvc2l0aW9uLCB7XG4gICAgICAgICAgICAgICAgeTogLShtb3VzZVkgLSB3aW5kb3cuaW5uZXJIZWlnaHQpIC8gNDAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNhbWVyYSBzZXR1cFxuICAgICAqL1xuICAgIGluaXRDYW1lcmEoKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDM1LCB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQsIDAuNSwgMTAwKTtcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIC0wLjEsIDMuNSk7XG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCgwLCAtMC4xLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzY2VuZSBzZXR1cFxuICAgICAqL1xuICAgIGluaXRTY2VuZSgpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxpZ2h0cyBzZXR1cCAtIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgPiBhbGwgaW4gb25lIG9iamVjdFxuICAgICAqL1xuICAgIGluaXRMaWdodHMoKSB7XG4gICAgICAgIGNvbnN0IGxpZ2h0V3JhcHBlciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgICAgIHRoaXMueWVsbG93TGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweGZlYjMwMSwgNSwgNCk7XG4gICAgICAgIHRoaXMueWVsbG93TGlnaHQucG9zaXRpb24uc2V0KC0xLCAxLCAyKTtcblxuICAgICAgICB0aGlzLmJsdWVMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4MjQwMGZmLCA1LCAyKTtcbiAgICAgICAgdGhpcy5ibHVlTGlnaHQucG9zaXRpb24uc2V0KDEsIDAsIDEpO1xuXG4gICAgICAgIGxpZ2h0V3JhcHBlci5hZGQodGhpcy5ibHVlTGlnaHQpO1xuICAgICAgICBsaWdodFdyYXBwZXIuYWRkKHRoaXMueWVsbG93TGlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0V3JhcHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVuZGVyZXIgc2V0dXBcbiAgICAgKi9cbiAgICBpbml0UmVuZGVyZXIoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IFwiaGlnaC1wZXJmb3JtYW5jZVwiLFxuICAgICAgICAgICAgYWxwaGE6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDAwMDAwMCwgMCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDIgPyAyIDogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbW9kZWwgc2V0dXAgYW5kIGxvYWQgY2FsbFxuICAgICAqL1xuICAgIGluaXRNb2RlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMud3JhcHBlci5kYXRhc2V0Py5tb2RlbCA9PT0gXCJcIiB8fCB0aGlzLndyYXBwZXIuZGF0YXNldD8ubW9kZWwgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICB0aGlzLmxvYWRlci5sb2FkKFxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmRhdGFzZXQubW9kZWwsXG4gICAgICAgICAgICAoZ2x0ZikgPT4ge1xuICAgICAgICAgICAgICAgIGdsdGYuc2NlbmUucm90YXRpb24ueSA9IC1NYXRoLlBJIC8gMjtcblxuICAgICAgICAgICAgICAgIGdsdGYuc2NlbmUuc2NhbGUuc2V0KHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbCA9IGdsdGYuc2NlbmU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbE1vZGVsQW5pbWF0aW9uKGdsdGYuc2NlbmUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQoZ2x0Zi5zY2VuZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHhocikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCh4aHIubG9hZGVkIC8geGhyLnRvdGFsKSAqIDEwMCArIFwiJSBsb2FkZWRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBbiBlcnJvciBoYXBwZW5lZFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2Nyb2xsTW9kZWxBbmltYXRpb24obW9kZWwpIHtcbiAgICAgICAgZ3NhcC5mcm9tVG8oXG4gICAgICAgICAgICBtb2RlbC5yb3RhdGlvbixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB5OiBcIis9MC4yNVwiLFxuICAgICAgICAgICAgICAgIHg6IFwiLT0wLjFcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeTogXCItPTAuNVwiLFxuICAgICAgICAgICAgICAgIHg6IFwiKz0wLjJcIixcbiAgICAgICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMud3JhcHBlcixcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwidG9wIGJvdHRvbVwiLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwidG9wIHRvcFwiLFxuICAgICAgICAgICAgICAgICAgICBzY3J1YjogMC44LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgb25XaW5kb3dSZXNpemUoKSB7XG4gICAgICAgIHRoaXMucmVzaXplTW9kZWxzKCk7XG5cbiAgICAgICAgdGhpcy5tb2RlbC5zY2FsZS5zZXQodGhpcy5jb25maWcubW9kZWxTY2FsZSwgdGhpcy5jb25maWcubW9kZWxTY2FsZSwgdGhpcy5jb25maWcubW9kZWxTY2FsZSk7XG5cbiAgICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndyYXBwZXIub2Zmc2V0V2lkdGgsIHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAqL1xuICAgIGFuaW1hdGUoKSB7XG4gICAgICAgIGxldCByYWYgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMud3JhcHBlcixcbiAgICAgICAgICAgIHN0YXJ0OiBcInRvcCBib3R0b21cIixcbiAgICAgICAgICAgIGVuZDogXCJib3R0b20gdG9wXCIsXG4gICAgICAgICAgICBvbkVudGVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTGVhdmU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRW50ZXJCYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTGVhdmVCYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgaXMgZnJvbSBcImlzX2pzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuRE9NID0ge1xuICAgICAgICAgICAgd3JhcHBlcjogXCIuanMtY3Vyc29yXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS53cmFwcGVyKTtcbiAgICAgICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy53cmFwcGVyIHx8IGlzLnRvdWNoRGV2aWNlKCkpIHJldHVybjtcblxuICAgICAgICBjb25zdCBvZmZzZXRZID0gdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodCAqIDAuNTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMud3JhcHBlci5vZmZzZXRXaWR0aCAqIDAuMDU7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5tb3ZlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKFwiaXMtbW92ZWRcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdzYXAuc2V0KHRoaXMud3JhcHBlciwge1xuICAgICAgICAgICAgICAgIHg6IGV2LmNsaWVudFggLSBvZmZzZXRYLFxuICAgICAgICAgICAgICAgIHk6IGV2LmNsaWVudFkgLSBvZmZzZXRZLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKGV2KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShcImlzLW1vdmVkXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYVwiKS5mb3JFYWNoKChsaW5rKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNpbmdsZUxpbmsobGluayk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGFzLWhvdmVyXCIpLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2luZ2xlTGluayhsaW5rKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2luZ2xlTGluayhsaW5rKSB7XG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgU2Nyb2xsVHJpZ2dlciBmcm9tIFwiZ3NhcC9kaXN0L1Njcm9sbFRyaWdnZXJcIjtcbmltcG9ydCB7IFNwbGl0VGV4dCB9IGZyb20gXCJnc2FwL2Rpc3QvU3BsaXRUZXh0XCI7XG5cbmdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlciwgU3BsaXRUZXh0KTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmxpY2tlcmluZ1RleHQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkRPTSA9IHtcbiAgICAgICAgICAgIHdyYXBwZXI6IFwiLmpzLWZsaWNrZXJpbmctdGV4dFwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3JhcHBlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuRE9NLndyYXBwZXIpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLndyYXBwZXJzLmxlbmd0aCA8IDEpIHJldHVybjtcblxuICAgICAgICB0aGlzLndyYXBwZXJzLmZvckVhY2goKHdyYXBwZXIpID0+IHRoaXMuc2luZ2xlV3JhcHBlcih3cmFwcGVyKSk7XG4gICAgfVxuXG4gICAgc2luZ2xlV3JhcHBlcih3cmFwcGVyKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0VGV4dCh3cmFwcGVyLCB7XG4gICAgICAgICAgICB0eXBlOiBcIndvcmRzXCIsXG4gICAgICAgICAgICB3b3Jkc0NsYXNzOiBcInUtc3BsaXQtdGV4dC13b3JkXCIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYW5pbWF0ZUluKHNwbGl0LndvcmRzLCB3cmFwcGVyKTtcblxuICAgICAgICBjb25zdCB0ZXh0cyA9IHdyYXBwZXIucXVlcnlTZWxlY3RvckFsbChcImJcIik7XG5cbiAgICAgICAgaWYgKHRleHRzLmxlbmd0aCA8IDEpIHJldHVybjtcblxuICAgICAgICB0ZXh0cy5mb3JFYWNoKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICBnc2FwLnRpbWVsaW5lKHtcbiAgICAgICAgICAgICAgICBkZWxheTogMSxcbiAgICAgICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcInRvcCA5MCVcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudG8odGV4dCwge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3Q6IFwiaXMtc2VyaWZcIixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDAuMDUsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudG8odGV4dCwge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3Q6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjA1LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRvKHRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0OiBcImlzLXNlcmlmXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjA3NSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50byh0ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDAuMDc1LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRvKHRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0OiBcImlzLXNlcmlmXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFuaW1hdGVJbih3b3Jkcywgd3JhcHBlcikge1xuICAgICAgICBnc2FwLnNldCh3b3Jkcywge1xuICAgICAgICAgICAgYXV0b0FscGhhOiAwLFxuICAgICAgICB9KTtcblxuICAgICAgICBnc2FwLmZyb21UbyhcbiAgICAgICAgICAgIHdvcmRzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHk6IFwiMjAlXCIsXG4gICAgICAgICAgICAgICAgYXV0b0FscGhhOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB5OiBcIjAlXCIsXG4gICAgICAgICAgICAgICAgYXV0b0FscGhhOiAxLFxuICAgICAgICAgICAgICAgIGVhc2U6IFwicG93ZXI0Lm91dFwiLFxuICAgICAgICAgICAgICAgIHN0YWdnZXI6IDAuMDUsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDAuNSxcbiAgICAgICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHdyYXBwZXIsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcInRvcCA5MCVcIixcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcImJvdHRvbSB0b3BcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgZ3NhcCBmcm9tIFwiZ3NhcFwiO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBEUkFDT0xvYWRlciB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9EUkFDT0xvYWRlclwiO1xuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCI7XG5pbXBvcnQgU2Nyb2xsVHJpZ2dlciBmcm9tIFwiZ3NhcC9TY3JvbGxUcmlnZ2VyXCI7XG5pbXBvcnQgaXMgZnJvbSBcImlzX2pzXCI7XG5cbmdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlcik7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRlck1vZGVsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICB3cmFwcGVyOiBcIi5qcy1oZWFkZXItbW9kZWwtd3JhcHBlclwiLFxuICAgICAgICAgICAgaGVhZGVyOiBcIi5qcy1oZWFkZXJcIixcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLndyYXBwZXIpO1xuICAgICAgICB0aGlzLmhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00uaGVhZGVyKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG51bGw7XG5cbiAgICAgICAgLy8gY29uZmlnXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgbW9kZWxPZmZzZXQ6IDYsXG4gICAgICAgICAgICBtb2RlbFNjYWxlOiAxLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy53cmFwcGVyKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5sb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuXG4gICAgICAgIC8vIGxvYWRlclxuICAgICAgICBjb25zdCBkcmFjb0xvYWRlciA9IG5ldyBEUkFDT0xvYWRlcigpO1xuICAgICAgICBkcmFjb0xvYWRlci5zZXREZWNvZGVyUGF0aCh3aW5kb3cuZHJhY29QYXRoKTtcbiAgICAgICAgZHJhY29Mb2FkZXIuc2V0RGVjb2RlckNvbmZpZyh7XG4gICAgICAgICAgICB0eXBlOiBcImpzXCIsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxvYWRlci5zZXREUkFDT0xvYWRlcihkcmFjb0xvYWRlcik7XG5cbiAgICAgICAgVEhSRUUuQ2FjaGUuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5yZXNpemVNb2RlbHMoKTtcblxuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53cmFwcGVyLm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pbml0Q2FtZXJhKCk7XG4gICAgICAgIHRoaXMuaW5pdFNjZW5lKCk7XG4gICAgICAgIHRoaXMuaW5pdExpZ2h0cygpO1xuICAgICAgICB0aGlzLmluaXRSZW5kZXJlcigpO1xuICAgICAgICB0aGlzLmFuaW1hdGUoKTtcbiAgICAgICAgaWYgKCFpcy5tb2JpbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRNb2RlbCgpO1xuXG4gICAgICAgIC8vIGhhbmRsZSByZXNpemVcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4gdGhpcy5vbldpbmRvd1Jlc2l6ZSgpLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcmVzaXplTW9kZWxzKCkge1xuICAgICAgICBTY3JvbGxUcmlnZ2VyLm1hdGNoTWVkaWEoe1xuICAgICAgICAgICAgXCIobWluLXdpZHRoOiAxMTAwcHgpXCI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubW9kZWxTY2FsZSAhPT0gMC45KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgPSAwLjk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiKG1heC13aWR0aDogODAxcHgpXCI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubW9kZWxTY2FsZSAhPT0gMC43KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgPSAwLjc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiKG1heC13aWR0aDogNjAwcHgpXCI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubW9kZWxTY2FsZSAhPT0gMC42KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgPSAwLjY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiKG1heC13aWR0aDogNDc1cHgpXCI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubW9kZWxTY2FsZSAhPT0gMC42KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUgPSAwLjY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbW91c2VNb3ZlKCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGxldCBtb3VzZVkgPSBldi5jbGllbnRZO1xuXG4gICAgICAgICAgICBnc2FwLnRvKHRoaXMueWVsbG93TGlnaHQucG9zaXRpb24sIHtcbiAgICAgICAgICAgICAgICB5OiAtMSAtIChtb3VzZVkgLSB3aW5kb3cuaW5uZXJIZWlnaHQpIC8gNDAwLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGdzYXAudG8odGhpcy5ibHVlTGlnaHQucG9zaXRpb24sIHtcbiAgICAgICAgICAgICAgICB5OiAtKG1vdXNlWSAtIHdpbmRvdy5pbm5lckhlaWdodCkgLyA0MDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2FtZXJhIHNldHVwXG4gICAgICovXG4gICAgaW5pdENhbWVyYSgpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoMzUsIHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCwgMC41LCAxMDApO1xuICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgNik7XG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCgwLCAwLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzY2VuZSBzZXR1cFxuICAgICAqL1xuICAgIGluaXRTY2VuZSgpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxpZ2h0cyBzZXR1cCAtIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgPiBhbGwgaW4gb25lIG9iamVjdFxuICAgICAqL1xuICAgIGluaXRMaWdodHMoKSB7XG4gICAgICAgIGNvbnN0IGxpZ2h0V3JhcHBlciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgICAgIHRoaXMueWVsbG93TGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweGZlYjMwMSwgNSwgNCk7XG4gICAgICAgIHRoaXMueWVsbG93TGlnaHQucG9zaXRpb24uc2V0KC0xLCAxLCAyKTtcblxuICAgICAgICB0aGlzLmJsdWVMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4MjQwMGZmLCA1LCAyKTtcbiAgICAgICAgdGhpcy5ibHVlTGlnaHQucG9zaXRpb24uc2V0KDEsIDAsIDEpO1xuXG4gICAgICAgIGxpZ2h0V3JhcHBlci5hZGQodGhpcy5ibHVlTGlnaHQpO1xuICAgICAgICBsaWdodFdyYXBwZXIuYWRkKHRoaXMueWVsbG93TGlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0V3JhcHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVuZGVyZXIgc2V0dXBcbiAgICAgKi9cbiAgICBpbml0UmVuZGVyZXIoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IFwiaGlnaC1wZXJmb3JtYW5jZVwiLFxuICAgICAgICAgICAgYWxwaGE6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDAwMDAwMCwgMCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDIgPyAyIDogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbW9kZWwgc2V0dXAgYW5kIGxvYWQgY2FsbFxuICAgICAqL1xuICAgIGluaXRNb2RlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMud3JhcHBlci5kYXRhc2V0Py5tb2RlbCA9PT0gXCJcIiB8fCB0aGlzLndyYXBwZXIuZGF0YXNldD8ubW9kZWwgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICB0aGlzLmxvYWRlci5sb2FkKFxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmRhdGFzZXQubW9kZWwsXG4gICAgICAgICAgICAoZ2x0ZikgPT4ge1xuICAgICAgICAgICAgICAgIGdsdGYuc2NlbmUucm90YXRpb24ueSA9IC1NYXRoLlBJIC8gMjtcblxuICAgICAgICAgICAgICAgIGdsdGYuc2NlbmUuc2NhbGUuc2V0KHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbCA9IGdsdGYuc2NlbmU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbE1vZGVsQW5pbWF0aW9uKGdsdGYuc2NlbmUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQoZ2x0Zi5zY2VuZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHhocikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCh4aHIubG9hZGVkIC8geGhyLnRvdGFsKSAqIDEwMCArIFwiJSBsb2FkZWRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBbiBlcnJvciBoYXBwZW5lZFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2Nyb2xsTW9kZWxBbmltYXRpb24obW9kZWwpIHtcbiAgICAgICAgZ3NhcC5mcm9tVG8oXG4gICAgICAgICAgICBtb2RlbC5yb3RhdGlvbixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB5OiBcIis9MC4yNVwiLFxuICAgICAgICAgICAgICAgIHg6IFwiLT0wLjFcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeTogXCItPTAuNVwiLFxuICAgICAgICAgICAgICAgIHg6IFwiKz0wLjJcIixcbiAgICAgICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMuaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogXCJ0b3AgdG9wXCIsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogXCJib3R0b20gdG9wXCIsXG4gICAgICAgICAgICAgICAgICAgIHNjcnViOiAwLjgsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5yZXNpemVNb2RlbHMoKTtcblxuICAgICAgICB0aGlzLm1vZGVsLnNjYWxlLnNldCh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlLCB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlLCB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlKTtcblxuICAgICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLndyYXBwZXIub2Zmc2V0V2lkdGggLyB0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud3JhcHBlci5vZmZzZXRXaWR0aCwgdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICovXG4gICAgYW5pbWF0ZSgpIHtcbiAgICAgICAgbGV0IHJhZiA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlcmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy53cmFwcGVyLFxuICAgICAgICAgICAgc3RhcnQ6IFwidG9wIGJvdHRvbVwiLFxuICAgICAgICAgICAgZW5kOiBcImJvdHRvbSB0b3BcIixcbiAgICAgICAgICAgIG9uRW50ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MZWF2ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FbnRlckJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MZWF2ZUJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IGdzYXAgZnJvbSBcImdzYXBcIjtcbmltcG9ydCBTY3JvbGxUcmlnZ2VyIGZyb20gXCJnc2FwL1Njcm9sbFRyaWdnZXJcIjtcblxuZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcbi8qKlxuICogTWFycXVlZSBDb250cm9sbGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcnF1ZWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkRPTSA9IHtcbiAgICAgICAgICAgIGl0ZW06IFwiLmpzLXNjcm9sbC1tYXJxdWVlXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5pdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5ET00uaXRlbSk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJNYXJxdWVlQ29udHJvbGxlciBpbml0KClcIik7XG4gICAgICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZUxpbmUoaXRlbSwgaW5kZXggJSAyID09PSAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGluZVxuICAgICAqIEBwYXJhbSBkaXJlY3Rpb25cbiAgICAgKi9cbiAgICBhbmltYXRlTGluZShsaW5lLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gLXdpbmRvdy5pbm5lcldpZHRoIC8gNDtcbiAgICAgICAgbGV0IGVuZCA9IDA7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICAgICAgZW5kID0gLXdpbmRvdy5pbm5lcldpZHRoIC8gNDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdzYXAuZnJvbVRvKFxuICAgICAgICAgICAgbGluZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB4OiBzdGFydCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeDogZW5kLFxuICAgICAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogbGluZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwidG9wIGJvdHRvbVwiLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwiYm90dG9tIHRvcFwiLFxuICAgICAgICAgICAgICAgICAgICBzY3J1YjogMC4yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZWFzZTogXCJub25lXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qKlxuICogTmF2aWdhdGlvbiBjb250cm9sbGVyXG4gKiBcInNtYXJ0XCIgbmF2aWdhdGlvbiB3aGljaCBnb2VzIG9mZiBzY3JlZW4gd2hlbiBzY3JvbGxpbmcgZG93biBmb3IgYSBiZXR0ZXIgb3ZlcnZpZXcgb2YgY29udGVudCBhbmQgVVhcbiAqIG5hdmlnYXRpb24gYXBwZWFycyB3aGVuIHNjcm9sbGluZyB1cFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZpZ2F0aW9uQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOYXZpZ2F0aW9uIERPTSBzZWxlY3RvcnNcbiAgICAgICAgICogTmF2aWdhdGlvbiBET00gc3RhdGUgQ1NTIGNsYXNzZXNcbiAgICAgICAgICogQHR5cGUge3tuYXZpZ2F0aW9uOiBzdHJpbmcsIHN0YXRlczoge25hdmlnYXRpb25TbGlkZVVwOiBzdHJpbmcsIG5hdmlnYXRpb25TY3JvbGxlZDogc3RyaW5nLCBuYXZpZ2F0aW9uRml4ZWQ6IHN0cmluZ319fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBcIi5qcy1uYXZpZ2F0aW9uXCIsXG4gICAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU2Nyb2xsZWQ6IFwiaGFzLXNjcm9sbGVkXCIsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkZpeGVkOiBcImlzLWZpeGVkXCIsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvblNsaWRlVXA6IFwic2xpZGUtdXBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZsYWcsIHN0YXRlIHZhcmlhYmxlIGZvciBzY3JvbGxpbmcgZXZlbnRcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogYW1vdW50IG9mIHBpeGVscyB0byBzY3JvbGwgZnJvbSB0b3AgZm9yIGFkZGluZyBcImhhcy1zY3JvbGxlZFwiIHN0YXRlIGNsYXNzXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjcm9sbE5hdmlnYXRpb25PZmZzZXQgPSAyMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB2YXJpYWJsZSBmb3Igc3RvcmluZyBhbW91bnQgb2Ygc2Nyb2xsIGZyb20gdG9wIHBvc2l0aW9uIHZhbHVlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzVG9wID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHZhcmlhYmxlIGZvciBzdG9yaW5nIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uIHZhbHVlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRUb3AgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbERlbHRhID0gMDtcbiAgICAgICAgdGhpcy5zY3JvbGxPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmZXRjaCBuYXZpZ2F0aW9uIGVsZW1lbnQgRE9NIGVsZW1lbnRcbiAgICAgICAgICogQHR5cGUge0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hdmlnYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLm5hdmlnYXRpb24pO1xuICAgIH1cblxuICAgIC8vcmVnaW9uIG1ldGhvZHNcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMubmF2aWdhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJOYXZpZ2F0aW9uIGluaXQoKVwiKTtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5ET00ubmF2aWdhdGlvbn0gZG9lcyBub3QgZXhpc3QgaW4gdGhlIERPTSFgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgbmF2aWdhdGlvbkNvbnRyb2xsZXIoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNjcm9sbGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuY2hlY2tTY3JvbGwoKSwgMjUwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5jaGVja1Njcm9sbCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgY2hlY2tTY3JvbGwoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgbGV0IGN1cnJlbnRUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcblxuICAgICAgICB0aGlzLmNoYW5nZU5hdmlnYXRpb25TdGF0ZShjdXJyZW50VG9wKTtcblxuICAgICAgICB0aGlzLnByZXZpb3VzVG9wID0gY3VycmVudFRvcDtcbiAgICAgICAgdGhpcy5zY3JvbGxpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjdXJyZW50VG9wXG4gICAgICovXG4gICAgY2hhbmdlTmF2aWdhdGlvblN0YXRlKGN1cnJlbnRUb3ApIHtcbiAgICAgICAgaWYgKGN1cnJlbnRUb3AgPiB0aGlzLnNjcm9sbE5hdmlnYXRpb25PZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QuYWRkKHRoaXMuRE9NLnN0YXRlcy5uYXZpZ2F0aW9uU2Nyb2xsZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5ET00uc3RhdGVzLm5hdmlnYXRpb25TY3JvbGxlZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcmV2aW91c1RvcCA+PSBjdXJyZW50VG9wKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGluZ1VwKGN1cnJlbnRUb3ApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxpbmdEb3duKGN1cnJlbnRUb3ApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3VycmVudFRvcFxuICAgICAqL1xuICAgIHNjcm9sbGluZ1VwKGN1cnJlbnRUb3ApIHtcbiAgICAgICAgaWYgKGN1cnJlbnRUb3AgPCB0aGlzLnNjcm9sbE5hdmlnYXRpb25PZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuRE9NLnN0YXRlcy5uYXZpZ2F0aW9uU2xpZGVVcCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2aW91c1RvcCAtIGN1cnJlbnRUb3AgPiB0aGlzLnNjcm9sbERlbHRhKSB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkRPTS5zdGF0ZXMubmF2aWdhdGlvblNsaWRlVXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3VycmVudFRvcFxuICAgICAqL1xuICAgIHNjcm9sbGluZ0Rvd24oY3VycmVudFRvcCkge1xuICAgICAgICBpZiAoY3VycmVudFRvcCA+IHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCArIHRoaXMuc2Nyb2xsT2Zmc2V0KSB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2xhc3NMaXN0LmFkZCh0aGlzLkRPTS5zdGF0ZXMubmF2aWdhdGlvblNsaWRlVXApO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUb3AgPiB0aGlzLnNjcm9sbE5hdmlnYXRpb25PZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuRE9NLnN0YXRlcy5uYXZpZ2F0aW9uU2xpZGVVcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL2VuZHJlZ2lvblxufVxuIiwiLyoqXG4gKiBHcmlkIGhlbHBlclxuICogU2hvdyBncmlkIG92ZXJsYXkgd2hlbiBkZXZlbG9waW5nXG4gKiBOb3QgaW5jbHVkZWQgaW4gcHJvZHVjdGlvbiBidW5kbGUgSlMgZmlsZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkSGVscGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyaWQgRE9NIHNlbGVjdG9yXG4gICAgICAgICAqIEB0eXBlIHt7Z3JpZDogc3RyaW5nfX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuRE9NID0ge1xuICAgICAgICAgICAgZ3JpZDogXCJncmlkXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyaWQgb3B0aW9uc1xuICAgICAgICAgKiBAdHlwZSB7e1xuICAgICAgICAgKiBndXR0ZXJGaXhlZDogYm9vbGVhbixcbiAgICAgICAgICogaW5pdGlhbERpc3BsYXk6IHN0cmluZyxcbiAgICAgICAgICogZ3JpZEZpeGVkOiBib29sZWFuLFxuICAgICAgICAgKiBndXR0ZXJXaWR0aDogbnVtYmVyLFxuICAgICAgICAgKiBncmlkQ29sb3I6IHN0cmluZyxcbiAgICAgICAgICogY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICAgICAgICogZ3JpZFdpZHRoOiBudW1iZXIsXG4gICAgICAgICAqIGNvbHVtbkJnQ29sb3I6IHN0cmluZ1xuICAgICAgICAgKiB9fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncmlkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGluaXRpYWxEaXNwbGF5OiBcIm5vbmVcIiwgLy8gXCJmbGV4XCIgb3IgXCJub25lXCIg4oCUIGluaXRpYWwgZGlzcGxheSBmb3IgdGhlIGdyaWQg4oCUIHN0cmluZ1xuICAgICAgICAgICAgY29sdW1uQ291bnQ6IDI0LCAvLyBudW1iZXIgb2YgZ3JpZCBjb2x1bW5zIOKAlCBpbnRlZ2VyXG4gICAgICAgICAgICBncmlkV2lkdGg6IDE0NDAsIC8vIGJhc2UgZ3JpZCB1c2VkIGluIGRlc2lnbjsgdmFsdWUgaW4gcHgg4oCUIGludGVnZXJcbiAgICAgICAgICAgIGdyaWRGaXhlZDogZmFsc2UsIC8vIHNob3VsZCBncmlkIHdpZHRoIGJlIHJlc3RyaWN0ZWQgdG8gZ3JpZFdpZHRoIG9yIGl0IHNob3VsZCBnbyBmdWxsIHdpZHRoIGEgbmQgYmVoYXZlIGZsdWlkbHkgYWNyb3NzIGFsbCBzY3JlZW4gc2l6ZXNcbiAgICAgICAgICAgIGd1dHRlcldpZHRoOiAwLCAvLyBncmlkIGd1dHRlcnMgdmFsdWUgaW4gcHgg4oCUIGludGVnZXJcbiAgICAgICAgICAgIGd1dHRlckZpeGVkOiBmYWxzZSwgLy8gc2hvdWxkIGdyaWQgZ3V0dGVyIGJlIGEgZml4ZWQgdmFsdWUgKHB4KSBvciBmbHVpZCDigJQgaW50ZWdlclxuICAgICAgICAgICAgZ3JpZENvbG9yOiBcInJnYigyNTUsIDAsIDI1NSwgMC4xNSlcIiwgLy8gZ3JpZCBndWlkZXMgY29sb3Ig4oCUIHN0cmluZyBvZiBhbiByZ2JhIG9yIGhleCB2YWx1ZVxuICAgICAgICAgICAgY29sdW1uQmdDb2xvcjogXCJyZ2IoMjU1LCAwLCAyNTUsIDAuMDI1KVwiLCAvLyBncmlkIGNvbHVtbnMgYmFja2dyb3VuZCBjb2xvciDigJQgc3RyaW5nIG9mIGFuIHJnYmEgb3IgaGV4IHZhbHVlXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29uc29sZUxvZ1N0eWxlID0gW1xuICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yOiAjYTZhNmE2XCIsXG4gICAgICAgICAgICBcImNvbG9yOiBibGFja1wiLFxuICAgICAgICAgICAgXCJkaXNwbGF5OiBibG9ja1wiLFxuICAgICAgICAgICAgXCJsaW5lLWhlaWdodDogMjRweFwiLFxuICAgICAgICAgICAgXCJ0ZXh0LWFsaWduOiBjZW50ZXJcIixcbiAgICAgICAgICAgIFwiYm9yZGVyOiAxcHggc29saWQgI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJmb250LXdlaWdodDogYm9sZFwiLFxuICAgICAgICBdLmpvaW4oXCI7XCIpO1xuXG4gICAgICAgIGNvbnNvbGUuaW5mbyhcInRvZ2dsZSBncmlkOiAlYyBBbHQvT3B0aW9uICsgRyBcIiwgY29uc29sZUxvZ1N0eWxlKTtcblxuICAgICAgICB0aGlzLmdyaWQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY29sdW1uV2lkdGggPVxuICAgICAgICAgICAgKHRoaXMuZ3JpZE9wdGlvbnMuZ3JpZFdpZHRoIC0gKHRoaXMuZ3JpZE9wdGlvbnMuY29sdW1uQ291bnQgLSAxKSAqIHRoaXMuZ3JpZE9wdGlvbnMuZ3V0dGVyV2lkdGgpIC8gdGhpcy5ncmlkT3B0aW9ucy5jb2x1bW5Db3VudDtcblxuICAgICAgICB0aGlzLmNvbHVtbldpZHRoUGVyY2VudGFnZSA9IGAkeyh0aGlzLmNvbHVtbldpZHRoIC8gdGhpcy5ncmlkT3B0aW9ucy5ncmlkV2lkdGgpICogMTAwfSVgO1xuXG4gICAgICAgIHRoaXMuZ3V0dGVyV2lkdGhQZXJjZW50YWdlID0gYCR7KHRoaXMuZ3JpZE9wdGlvbnMuZ3V0dGVyV2lkdGggLyB0aGlzLmdyaWRPcHRpb25zLmdyaWRXaWR0aCkgKiAxMDB9JWA7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmlkSGVscGVyIGluaXQoKVwiKTtcbiAgICAgICAgdGhpcy5pbml0R3JpZCgpO1xuICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXQoKTtcbiAgICB9XG5cbiAgICBpbml0R3JpZCgpIHtcbiAgICAgICAgLy8gY3JlYXRlIGdyaWQgb3ZlcmxheSBlbGVtZW50XG4gICAgICAgIHRoaXMuZ3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZ3JpZC5pZCA9IHRoaXMuRE9NLmdyaWQ7XG5cbiAgICAgICAgLy8gc3R5bGUgZ3JpZCBlbGVtZW50XG4gICAgICAgIHRoaXMuZ3JpZC5zdHlsZS5jc3NUZXh0ID0gYFxuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICBkaXNwbGF5OiAke3RoaXMuZ3JpZE9wdGlvbnMuaW5pdGlhbERpc3BsYXl9O1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgICAgICAgICAgei1pbmRleDogOTk5O1xuICAgICAgICBgO1xuXG4gICAgICAgIGlmICh0aGlzLmdyaWRPcHRpb25zLmdyaWRGaXhlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5ncmlkLnN0eWxlLm1heFdpZHRoID0gYCR7dGhpcy5ncmlkT3B0aW9ucy5ncmlkV2lkdGh9cHhgO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmdyaWRPcHRpb25zLmd1dHRlcldpZHRoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5ncmlkLnN0eWxlLmJvcmRlckxlZnQgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBncmlkIGNvbnRhaW5lciB0byBwYWdlXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5ncmlkKTtcblxuICAgICAgICAvLyBhZGQgY29sdW1ucyB0byBncmlkXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmlkT3B0aW9ucy5jb2x1bW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgICAgICAgICB0aGlzLmdyaWQuYXBwZW5kQ2hpbGQoY29sdW1uKTtcblxuICAgICAgICAgICAgY29sdW1uLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgICAgICAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuZ3JpZE9wdGlvbnMuY29sdW1uQmdDb2xvcn07XG4gICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAke3RoaXMuZ3JpZE9wdGlvbnMuZ3JpZENvbG9yfTtcbiAgICAgICAgICAgIGA7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdyaWRPcHRpb25zLmd1dHRlcldpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbHVtbi5zdHlsZS5ib3JkZXJSaWdodCA9IGAxcHggc29saWQgJHt0aGlzLmdyaWRPcHRpb25zLmdyaWRDb2xvcn1gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWQuc3R5bGUuYm9yZGVyUmlnaHQgPSBgMXB4IHNvbGlkICR7dGhpcy5ncmlkT3B0aW9ucy5ncmlkQ29sb3J9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZE9wdGlvbnMuZ3V0dGVyRml4ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4uc3R5bGUubWFyZ2luUmlnaHQgPSBgJHt0aGlzLmdyaWRPcHRpb25zLmd1dHRlcldpZHRofXB4YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sdW1uLnN0eWxlLm1hcmdpblJpZ2h0ID0gdGhpcy5ndXR0ZXJXaWR0aFBlcmNlbnRhZ2U7XG4gICAgICAgICAgICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gdGhpcy5jb2x1bW5XaWR0aFBlcmNlbnRhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdyaWQubGFzdENoaWxkLnN0eWxlLm1hcmdpblJpZ2h0ID0gMDtcbiAgICB9XG5cbiAgICBrZXlib2FyZFNob3J0Y3V0KCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXYua2V5Q29kZSA9PT0gNzEgJiYgZXYuYWx0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZC5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKipcbiAqIE1BSU4gSlMgRklMRVxuICovXG5cbi8qKlxuICogSGVscGVyc1xuICogSW1wb3J0cyBvZiBoZWxwZXIgZnVuY3Rpb25zIGFyZSBzdHJpcHBlZCBvdXQgb2YgYnVuZGxlXG4gKiBJbmNsdWRlIHRoZW0gd2l0aGluIFwic3RhcnQtc3RyaXAtY29kZVwiIGFuZCBcImVuZC1zdHJpcC1jb2RlXCIgY29tbWVudHNcbiAqL1xuLyogc3RhcnQtc3RyaXAtY29kZSAqL1xuaW1wb3J0IEdyaWRIZWxwZXIgZnJvbSBcIi4vaGVscGVycy9HcmlkSGVscGVyXCI7XG4vKiBlbmQtc3RyaXAtY29kZSAqL1xuLyoqXG4gKiBDb21wb25lbnRzXG4gKi9cbmltcG9ydCBOYXZpZ2F0aW9uQ29udHJvbGxlciBmcm9tIFwiLi9jb21wb25lbnRzL05hdmlnYXRpb25Db250cm9sbGVyXCI7XG5pbXBvcnQgQ3Vyc29yIGZyb20gXCIuL2NvbXBvbmVudHMvQ3Vyc29yXCI7XG5pbXBvcnQgVGhyZWVEU2xpZGVyIGZyb20gXCIuL2NvbXBvbmVudHMvM2RTbGlkZXJcIjtcbmltcG9ydCBIZWFkZXJNb2RlbCBmcm9tIFwiLi9jb21wb25lbnRzL0hlYWRlck1vZGVsXCI7XG5pbXBvcnQgQ29udGFjdE1vZGVsIGZyb20gXCIuL2NvbXBvbmVudHMvQ29udGFjdE1vZGVsXCI7XG5pbXBvcnQgTWFycXVlZSBmcm9tIFwiLi9jb21wb25lbnRzL01hcnF1ZWVcIjtcbmltcG9ydCBGbGlja2VyaW5nVGV4dCBmcm9tIFwiLi9jb21wb25lbnRzL0ZsaWNrZXJpbmdUZXh0XCI7XG5cbi8qKlxuICogQ2hlY2sgaWYgZG9jdW1lbnQgaXMgcmVhZHkgY3Jvc3MtYnJvd3NlclxuICogQHBhcmFtIGNhbGxiYWNrXG4gKi9cbmNvbnN0IHJlYWR5ID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2N1bWVudCBpcyBhbHJlYWR5IHJlYWR5LCBjYWxsIHRoZSBjYWxsYmFjayBkaXJlY3RseVxuICAgICAgICAgKi9cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBtb2Rlcm4gYnJvd3NlcnMgdG8gcmVnaXN0ZXIgRE9NQ29udGVudExvYWRlZFxuICAgICAgICAgKi9cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbGQgSUUgYnJvd3NlcnNcbiAgICAgICAgICovXG4gICAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERvY3VtZW50IHJlYWR5IGNhbGxiYWNrXG4gKi9cbnJlYWR5KCgpID0+IHtcbiAgICAvKipcbiAgICAgKiBIRUxQRVJTIElOSVRcbiAgICAgKiBPbmx5IGluaXQgaGVscGVycyBpZiB0aGV5IGV4aXN0XG4gICAgICogV2lsbCBiZSB1bmRlZmluZWQgb24gcHJvZHVjdGlvbiBiZWNhdXNlIG9mIGltcG9ydCBzdHJpcHBpbmdcbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIEdyaWRIZWxwZXIgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZEhlbHBlcigpO1xuICAgICAgICBncmlkLmluaXQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgZG9jLnN0eWxlLnNldFByb3BlcnR5KFwiLS13aW4taGVpZ2h0XCIsIGAke3dpbmRvdy5pbm5lckhlaWdodH1weGApO1xuXG4gICAgLyoqXG4gICAgICogQ09NUE9ORU5UUyBJTklUXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBOYXZpZ2F0aW9uXG4gICAgICogQHR5cGUge05hdmlnYXRpb25Db250cm9sbGVyfVxuICAgICAqL1xuICAgIGNvbnN0IG5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbkNvbnRyb2xsZXIoKTtcbiAgICBuYXZpZ2F0aW9uLmluaXQoKTtcblxuICAgIC8qKlxuICAgICAqIFRocmVlRFNsaWRlclxuICAgICAqIEB0eXBlIHtUaHJlZURTbGlkZXJ9XG4gICAgICovXG4gICAgY29uc3QgdGhyZWVEU2xpZGVyID0gbmV3IFRocmVlRFNsaWRlcigpO1xuICAgIHRocmVlRFNsaWRlci5pbml0KCk7XG5cbiAgICAvKipcbiAgICAgKiBIZWFkZXJNb2RlbFxuICAgICAqIEB0eXBlIHtIZWFkZXJNb2RlbH1cbiAgICAgKi9cbiAgICBjb25zdCBoZWFkZXJNb2RlbCA9IG5ldyBIZWFkZXJNb2RlbCgpO1xuICAgIGhlYWRlck1vZGVsLmluaXQoKTtcblxuICAgIC8qKlxuICAgICAqIENvbnRhY3RNb2RlbFxuICAgICAqIEB0eXBlIHtDb250YWN0TW9kZWx9XG4gICAgICovXG4gICAgY29uc3QgY29udGFjdE1vZGVsID0gbmV3IENvbnRhY3RNb2RlbCgpO1xuICAgIGNvbnRhY3RNb2RlbC5pbml0KCk7XG5cbiAgICBjb25zdCBtYXJxdWVlID0gbmV3IE1hcnF1ZWUoKTtcbiAgICBtYXJxdWVlLmluaXQoKTtcblxuICAgIGNvbnN0IGZsaWNrZXJpbmdUZXh0ID0gbmV3IEZsaWNrZXJpbmdUZXh0KCk7XG4gICAgZmxpY2tlcmluZ1RleHQuaW5pdCgpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJzb3JcbiAgICAgICAgICogQHR5cGUge0N1cnNvcn1cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IG5ldyBDdXJzb3IoKTtcbiAgICAgICAgY3Vyc29yLmluaXQoKTtcbiAgICB9LCA1MDApO1xufSk7XG4iXX0="}