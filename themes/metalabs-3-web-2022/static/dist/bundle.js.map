{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/gsap/dist/ScrollTrigger.js","static/js/components/3dSlider.js","static/js/components/3dSliderModels.js","static/js/components/Cursor.js","static/js/components/FlickeringText.js","static/js/components/HeaderModel.js","static/js/components/Marquee.js","static/js/components/NavigationController.js","static/js/helpers/GridHelper.js","static/js/index.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.window = global.window || {}));\n}(this, (function (exports) { 'use strict';\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  /*!\n   * Observer 3.10.4\n   * https://greensock.com\n   *\n   * @license Copyright 2008-2022, GreenSock. All rights reserved.\n   * Subject to the terms at https://greensock.com/standard-license or for\n   * Club GreenSock members, the agreement issued with that membership.\n   * @author: Jack Doyle, jack@greensock.com\n  */\n  var gsap,\n      _coreInitted,\n      _clamp,\n      _win,\n      _doc,\n      _docEl,\n      _body,\n      _isTouch,\n      _pointerType,\n      ScrollTrigger,\n      _root,\n      _normalizer,\n      _eventTypes,\n      _getGSAP = function _getGSAP() {\n    return gsap || typeof window !== \"undefined\" && (gsap = window.gsap) && gsap.registerPlugin && gsap;\n  },\n      _startup = 1,\n      _observers = [],\n      _scrollers = [],\n      _proxies = [],\n      _getTime = Date.now,\n      _bridge = function _bridge(name, value) {\n    return value;\n  },\n      _integrate = function _integrate() {\n    var core = ScrollTrigger.core,\n        data = core.bridge || {},\n        scrollers = core._scrollers,\n        proxies = core._proxies;\n    scrollers.push.apply(scrollers, _scrollers);\n    proxies.push.apply(proxies, _proxies);\n    _scrollers = scrollers;\n    _proxies = proxies;\n\n    _bridge = function _bridge(name, value) {\n      return data[name](value);\n    };\n  },\n      _getProxyProp = function _getProxyProp(element, property) {\n    return ~_proxies.indexOf(element) && _proxies[_proxies.indexOf(element) + 1][property];\n  },\n      _isViewport = function _isViewport(el) {\n    return !!~_root.indexOf(el);\n  },\n      _addListener = function _addListener(element, type, func, nonPassive, capture) {\n    return element.addEventListener(type, func, {\n      passive: !nonPassive,\n      capture: !!capture\n    });\n  },\n      _removeListener = function _removeListener(element, type, func, capture) {\n    return element.removeEventListener(type, func, !!capture);\n  },\n      _scrollLeft = \"scrollLeft\",\n      _scrollTop = \"scrollTop\",\n      _onScroll = function _onScroll() {\n    return _normalizer && _normalizer.isPressed || _scrollers.cache++;\n  },\n      _scrollCacheFunc = function _scrollCacheFunc(f, doNotCache) {\n    var cachingFunc = function cachingFunc(value) {\n      if (value || value === 0) {\n        _startup && (_win.history.scrollRestoration = \"manual\");\n        var isNormalizing = _normalizer && _normalizer.isPressed;\n        value = cachingFunc.v = Math.round(value) || (_normalizer && _normalizer.iOS ? 1 : 0);\n        f(value);\n        cachingFunc.cacheID = _scrollers.cache;\n        isNormalizing && _bridge(\"ss\", value);\n      } else if (doNotCache || _scrollers.cache !== cachingFunc.cacheID || _bridge(\"ref\")) {\n        cachingFunc.cacheID = _scrollers.cache;\n        cachingFunc.v = f();\n      }\n\n      return cachingFunc.v + cachingFunc.offset;\n    };\n\n    cachingFunc.offset = 0;\n    return f && cachingFunc;\n  },\n      _horizontal = {\n    s: _scrollLeft,\n    p: \"left\",\n    p2: \"Left\",\n    os: \"right\",\n    os2: \"Right\",\n    d: \"width\",\n    d2: \"Width\",\n    a: \"x\",\n    sc: _scrollCacheFunc(function (value) {\n      return arguments.length ? _win.scrollTo(value, _vertical.sc()) : _win.pageXOffset || _doc[_scrollLeft] || _docEl[_scrollLeft] || _body[_scrollLeft] || 0;\n    })\n  },\n      _vertical = {\n    s: _scrollTop,\n    p: \"top\",\n    p2: \"Top\",\n    os: \"bottom\",\n    os2: \"Bottom\",\n    d: \"height\",\n    d2: \"Height\",\n    a: \"y\",\n    op: _horizontal,\n    sc: _scrollCacheFunc(function (value) {\n      return arguments.length ? _win.scrollTo(_horizontal.sc(), value) : _win.pageYOffset || _doc[_scrollTop] || _docEl[_scrollTop] || _body[_scrollTop] || 0;\n    })\n  },\n      _getTarget = function _getTarget(t) {\n    return gsap.utils.toArray(t)[0] || (typeof t === \"string\" && gsap.config().nullTargetWarn !== false ? console.warn(\"Element not found:\", t) : null);\n  },\n      _getScrollFunc = function _getScrollFunc(element, _ref) {\n    var s = _ref.s,\n        sc = _ref.sc;\n\n    var i = _scrollers.indexOf(element),\n        offset = sc === _vertical.sc ? 1 : 2;\n\n    !~i && (i = _scrollers.push(element) - 1);\n    return _scrollers[i + offset] || (_scrollers[i + offset] = _scrollCacheFunc(_getProxyProp(element, s), true) || (_isViewport(element) ? sc : _scrollCacheFunc(function (value) {\n      return arguments.length ? element[s] = value : element[s];\n    })));\n  },\n      _getVelocityProp = function _getVelocityProp(value, minTimeRefresh, useDelta) {\n    var v1 = value,\n        v2 = value,\n        t1 = _getTime(),\n        t2 = t1,\n        min = minTimeRefresh || 50,\n        dropToZeroTime = Math.max(500, min * 3),\n        update = function update(value, force) {\n      var t = _getTime();\n\n      if (force || t - t1 > min) {\n        v2 = v1;\n        v1 = value;\n        t2 = t1;\n        t1 = t;\n      } else if (useDelta) {\n        v1 += value;\n      } else {\n        v1 = v2 + (value - v2) / (t - t2) * (t1 - t2);\n      }\n    },\n        reset = function reset() {\n      v2 = v1 = useDelta ? 0 : v1;\n      t2 = t1 = 0;\n    },\n        getVelocity = function getVelocity(latestValue) {\n      var tOld = t2,\n          vOld = v2,\n          t = _getTime();\n\n      (latestValue || latestValue === 0) && latestValue !== v1 && update(latestValue);\n      return t1 === t2 || t - t2 > dropToZeroTime ? 0 : (v1 + (useDelta ? vOld : -vOld)) / ((useDelta ? t : t1) - tOld) * 1000;\n    };\n\n    return {\n      update: update,\n      reset: reset,\n      getVelocity: getVelocity\n    };\n  },\n      _getEvent = function _getEvent(e, preventDefault) {\n    preventDefault && !e._gsapAllow && e.preventDefault();\n    return e.changedTouches ? e.changedTouches[0] : e;\n  },\n      _getAbsoluteMax = function _getAbsoluteMax(a) {\n    var max = Math.max.apply(Math, a),\n        min = Math.min.apply(Math, a);\n    return Math.abs(max) >= Math.abs(min) ? max : min;\n  },\n      _setScrollTrigger = function _setScrollTrigger() {\n    ScrollTrigger = gsap.core.globals().ScrollTrigger;\n    ScrollTrigger && ScrollTrigger.core && _integrate();\n  },\n      _initCore = function _initCore(core) {\n    gsap = core || _getGSAP();\n\n    if (gsap && typeof document !== \"undefined\" && document.body) {\n      _win = window;\n      _doc = document;\n      _docEl = _doc.documentElement;\n      _body = _doc.body;\n      _root = [_win, _doc, _docEl, _body];\n      _clamp = gsap.utils.clamp;\n      _pointerType = \"onpointerenter\" in _body ? \"pointer\" : \"mouse\";\n      _isTouch = Observer.isTouch = _win.matchMedia && _win.matchMedia(\"(hover: none), (pointer: coarse)\").matches ? 1 : \"ontouchstart\" in _win || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0 ? 2 : 0;\n      _eventTypes = Observer.eventTypes = (\"ontouchstart\" in _docEl ? \"touchstart,touchmove,touchcancel,touchend\" : !(\"onpointerdown\" in _docEl) ? \"mousedown,mousemove,mouseup,mouseup\" : \"pointerdown,pointermove,pointercancel,pointerup\").split(\",\");\n      setTimeout(function () {\n        return _startup = 0;\n      }, 500);\n\n      _setScrollTrigger();\n\n      _coreInitted = 1;\n    }\n\n    return _coreInitted;\n  };\n\n  _horizontal.op = _vertical;\n  _scrollers.cache = 0;\n  var Observer = function () {\n    function Observer(vars) {\n      this.init(vars);\n    }\n\n    var _proto = Observer.prototype;\n\n    _proto.init = function init(vars) {\n      _coreInitted || _initCore(gsap) || console.warn(\"Please gsap.registerPlugin(Observer)\");\n      ScrollTrigger || _setScrollTrigger();\n      var tolerance = vars.tolerance,\n          dragMinimum = vars.dragMinimum,\n          type = vars.type,\n          target = vars.target,\n          lineHeight = vars.lineHeight,\n          debounce = vars.debounce,\n          preventDefault = vars.preventDefault,\n          onStop = vars.onStop,\n          onStopDelay = vars.onStopDelay,\n          ignore = vars.ignore,\n          wheelSpeed = vars.wheelSpeed,\n          event = vars.event,\n          onDragStart = vars.onDragStart,\n          onDragEnd = vars.onDragEnd,\n          onDrag = vars.onDrag,\n          onPress = vars.onPress,\n          onRelease = vars.onRelease,\n          onRight = vars.onRight,\n          onLeft = vars.onLeft,\n          onUp = vars.onUp,\n          onDown = vars.onDown,\n          onChangeX = vars.onChangeX,\n          onChangeY = vars.onChangeY,\n          onChange = vars.onChange,\n          onToggleX = vars.onToggleX,\n          onToggleY = vars.onToggleY,\n          onHover = vars.onHover,\n          onHoverEnd = vars.onHoverEnd,\n          onMove = vars.onMove,\n          ignoreCheck = vars.ignoreCheck,\n          isNormalizer = vars.isNormalizer,\n          onGestureStart = vars.onGestureStart,\n          onGestureEnd = vars.onGestureEnd,\n          onWheel = vars.onWheel,\n          onEnable = vars.onEnable,\n          onDisable = vars.onDisable,\n          onClick = vars.onClick,\n          scrollSpeed = vars.scrollSpeed,\n          capture = vars.capture,\n          allowClicks = vars.allowClicks,\n          lockAxis = vars.lockAxis,\n          onLockAxis = vars.onLockAxis;\n      this.target = target = _getTarget(target) || _docEl;\n      this.vars = vars;\n      ignore && (ignore = gsap.utils.toArray(ignore));\n      tolerance = tolerance || 0;\n      dragMinimum = dragMinimum || 0;\n      wheelSpeed = wheelSpeed || 1;\n      scrollSpeed = scrollSpeed || 1;\n      type = type || \"wheel,touch,pointer\";\n      debounce = debounce !== false;\n      lineHeight || (lineHeight = parseFloat(_win.getComputedStyle(_body).lineHeight) || 22);\n\n      var id,\n          onStopDelayedCall,\n          dragged,\n          moved,\n          wheeled,\n          locked,\n          axis,\n          self = this,\n          prevDeltaX = 0,\n          prevDeltaY = 0,\n          scrollFuncX = _getScrollFunc(target, _horizontal),\n          scrollFuncY = _getScrollFunc(target, _vertical),\n          scrollX = scrollFuncX(),\n          scrollY = scrollFuncY(),\n          limitToTouch = ~type.indexOf(\"touch\") && !~type.indexOf(\"pointer\") && _eventTypes[0] === \"pointerdown\",\n          isViewport = _isViewport(target),\n          ownerDoc = target.ownerDocument || _doc,\n          deltaX = [0, 0, 0],\n          deltaY = [0, 0, 0],\n          onClickTime = 0,\n          clickCapture = function clickCapture() {\n        return onClickTime = _getTime();\n      },\n          _ignoreCheck = function _ignoreCheck(e, isPointerOrTouch) {\n        return (self.event = e) && ignore && ~ignore.indexOf(e.target) || isPointerOrTouch && limitToTouch && e.pointerType !== \"touch\" || ignoreCheck && ignoreCheck(e, isPointerOrTouch);\n      },\n          onStopFunc = function onStopFunc() {\n        self._vx.reset();\n\n        self._vy.reset();\n\n        onStopDelayedCall.pause();\n        onStop && onStop(self);\n      },\n          update = function update() {\n        var dx = self.deltaX = _getAbsoluteMax(deltaX),\n            dy = self.deltaY = _getAbsoluteMax(deltaY),\n            changedX = Math.abs(dx) >= tolerance,\n            changedY = Math.abs(dy) >= tolerance;\n\n        onChange && (changedX || changedY) && onChange(self, dx, dy, deltaX, deltaY);\n\n        if (changedX) {\n          onRight && self.deltaX > 0 && onRight(self);\n          onLeft && self.deltaX < 0 && onLeft(self);\n          onChangeX && onChangeX(self);\n          onToggleX && self.deltaX < 0 !== prevDeltaX < 0 && onToggleX(self);\n          prevDeltaX = self.deltaX;\n          deltaX[0] = deltaX[1] = deltaX[2] = 0;\n        }\n\n        if (changedY) {\n          onDown && self.deltaY > 0 && onDown(self);\n          onUp && self.deltaY < 0 && onUp(self);\n          onChangeY && onChangeY(self);\n          onToggleY && self.deltaY < 0 !== prevDeltaY < 0 && onToggleY(self);\n          prevDeltaY = self.deltaY;\n          deltaY[0] = deltaY[1] = deltaY[2] = 0;\n        }\n\n        if (moved || dragged) {\n          onMove && onMove(self);\n          onLockAxis && locked && onLockAxis(self);\n\n          if (dragged) {\n            onDrag(self);\n            dragged = false;\n          }\n\n          moved = locked = false;\n        }\n\n        if (wheeled) {\n          onWheel(self);\n          wheeled = false;\n        }\n\n        id = 0;\n      },\n          onDelta = function onDelta(x, y, index) {\n        deltaX[index] += x;\n        deltaY[index] += y;\n\n        self._vx.update(x);\n\n        self._vy.update(y);\n\n        debounce ? id || (id = requestAnimationFrame(update)) : update();\n      },\n          onTouchOrPointerDelta = function onTouchOrPointerDelta(x, y) {\n        if (axis !== \"y\") {\n          deltaX[2] += x;\n\n          self._vx.update(x, true);\n        }\n\n        if (axis !== \"x\") {\n          deltaY[2] += y;\n\n          self._vy.update(y, true);\n        }\n\n        if (lockAxis && !axis) {\n          self.axis = axis = Math.abs(x) > Math.abs(y) ? \"x\" : \"y\";\n          locked = true;\n        }\n\n        debounce ? id || (id = requestAnimationFrame(update)) : update();\n      },\n          _onDrag = function _onDrag(e) {\n        if (_ignoreCheck(e, 1)) {\n          return;\n        }\n\n        e = _getEvent(e, preventDefault);\n        var x = e.clientX,\n            y = e.clientY,\n            dx = x - self.x,\n            dy = y - self.y,\n            isDragging = self.isDragging;\n        self.x = x;\n        self.y = y;\n\n        if (isDragging || Math.abs(self.startX - x) >= dragMinimum || Math.abs(self.startY - y) >= dragMinimum) {\n          onDrag && (dragged = true);\n          isDragging || (self.isDragging = true);\n          onTouchOrPointerDelta(dx, dy);\n          isDragging || onDragStart && onDragStart(self);\n        }\n      },\n          _onPress = self.onPress = function (e) {\n        if (_ignoreCheck(e, 1)) {\n          return;\n        }\n\n        self.axis = axis = null;\n        onStopDelayedCall.pause();\n        self.isPressed = true;\n        e = _getEvent(e);\n        prevDeltaX = prevDeltaY = 0;\n        self.startX = self.x = e.clientX;\n        self.startY = self.y = e.clientY;\n\n        self._vx.reset();\n\n        self._vy.reset();\n\n        _addListener(isNormalizer ? target : ownerDoc, _eventTypes[1], _onDrag, preventDefault, true);\n\n        self.deltaX = self.deltaY = 0;\n        onPress && onPress(self);\n      },\n          _onRelease = function _onRelease(e) {\n        if (_ignoreCheck(e, 1)) {\n          return;\n        }\n\n        _removeListener(isNormalizer ? target : ownerDoc, _eventTypes[1], _onDrag, true);\n\n        var wasDragging = self.isDragging && (Math.abs(self.x - self.startX) > 3 || Math.abs(self.y - self.startY) > 3),\n            eventData = _getEvent(e);\n\n        if (!wasDragging) {\n          self._vx.reset();\n\n          self._vy.reset();\n\n          if (preventDefault && allowClicks) {\n            gsap.delayedCall(0.08, function () {\n              if (_getTime() - onClickTime > 300 && !e.defaultPrevented) {\n                if (e.target.click) {\n                  e.target.click();\n                } else if (ownerDoc.createEvent) {\n                  var syntheticEvent = ownerDoc.createEvent(\"MouseEvents\");\n                  syntheticEvent.initMouseEvent(\"click\", true, true, _win, 1, eventData.screenX, eventData.screenY, eventData.clientX, eventData.clientY, false, false, false, false, 0, null);\n                  e.target.dispatchEvent(syntheticEvent);\n                }\n              }\n            });\n          }\n        }\n\n        self.isDragging = self.isGesturing = self.isPressed = false;\n        onStop && !isNormalizer && onStopDelayedCall.restart(true);\n        onDragEnd && wasDragging && onDragEnd(self);\n        onRelease && onRelease(self, wasDragging);\n      },\n          _onGestureStart = function _onGestureStart(e) {\n        return e.touches && e.touches.length > 1 && (self.isGesturing = true) && onGestureStart(e, self.isDragging);\n      },\n          _onGestureEnd = function _onGestureEnd() {\n        return (self.isGesturing = false) || onGestureEnd(self);\n      },\n          onScroll = function onScroll(e) {\n        if (_ignoreCheck(e)) {\n          return;\n        }\n\n        var x = scrollFuncX(),\n            y = scrollFuncY();\n        onDelta((x - scrollX) * scrollSpeed, (y - scrollY) * scrollSpeed, 1);\n        scrollX = x;\n        scrollY = y;\n        onStop && onStopDelayedCall.restart(true);\n      },\n          _onWheel = function _onWheel(e) {\n        if (_ignoreCheck(e)) {\n          return;\n        }\n\n        e = _getEvent(e, preventDefault);\n        onWheel && (wheeled = true);\n        var multiplier = (e.deltaMode === 1 ? lineHeight : e.deltaMode === 2 ? _win.innerHeight : 1) * wheelSpeed;\n        onDelta(e.deltaX * multiplier, e.deltaY * multiplier, 0);\n        onStop && !isNormalizer && onStopDelayedCall.restart(true);\n      },\n          _onMove = function _onMove(e) {\n        if (_ignoreCheck(e)) {\n          return;\n        }\n\n        var x = e.clientX,\n            y = e.clientY,\n            dx = x - self.x,\n            dy = y - self.y;\n        self.x = x;\n        self.y = y;\n        moved = true;\n        (dx || dy) && onTouchOrPointerDelta(dx, dy);\n      },\n          _onHover = function _onHover(e) {\n        self.event = e;\n        onHover(self);\n      },\n          _onHoverEnd = function _onHoverEnd(e) {\n        self.event = e;\n        onHoverEnd(self);\n      },\n          _onClick = function _onClick(e) {\n        return _ignoreCheck(e) || _getEvent(e, preventDefault) && onClick(self);\n      };\n\n      onStopDelayedCall = self._dc = gsap.delayedCall(onStopDelay || 0.25, onStopFunc).pause();\n      self.deltaX = self.deltaY = 0;\n      self._vx = _getVelocityProp(0, 50, true);\n      self._vy = _getVelocityProp(0, 50, true);\n      self.scrollX = scrollFuncX;\n      self.scrollY = scrollFuncY;\n      self.isDragging = self.isGesturing = self.isPressed = false;\n\n      self.enable = function (e) {\n        if (!self.isEnabled) {\n          _addListener(isViewport ? ownerDoc : target, \"scroll\", _onScroll);\n\n          type.indexOf(\"scroll\") >= 0 && _addListener(isViewport ? ownerDoc : target, \"scroll\", onScroll, preventDefault, capture);\n          type.indexOf(\"wheel\") >= 0 && _addListener(target, \"wheel\", _onWheel, preventDefault, capture);\n\n          if (type.indexOf(\"touch\") >= 0 && _isTouch || type.indexOf(\"pointer\") >= 0) {\n            _addListener(target, _eventTypes[0], _onPress, preventDefault, capture);\n\n            _addListener(ownerDoc, _eventTypes[2], _onRelease);\n\n            _addListener(ownerDoc, _eventTypes[3], _onRelease);\n\n            allowClicks && _addListener(target, \"click\", clickCapture, false, true);\n            onClick && _addListener(target, \"click\", _onClick);\n            onGestureStart && _addListener(ownerDoc, \"gesturestart\", _onGestureStart);\n            onGestureEnd && _addListener(ownerDoc, \"gestureend\", _onGestureEnd);\n            onHover && _addListener(target, _pointerType + \"enter\", _onHover);\n            onHoverEnd && _addListener(target, _pointerType + \"leave\", _onHoverEnd);\n            onMove && _addListener(target, _pointerType + \"move\", _onMove);\n          }\n\n          self.isEnabled = true;\n          e && e.type && _onPress(e);\n          onEnable && onEnable(self);\n        }\n\n        return self;\n      };\n\n      self.disable = function () {\n        if (self.isEnabled) {\n          _observers.filter(function (o) {\n            return o !== self && _isViewport(o.target);\n          }).length || _removeListener(isViewport ? ownerDoc : target, \"scroll\", _onScroll);\n\n          if (self.isPressed) {\n            self._vx.reset();\n\n            self._vy.reset();\n\n            _removeListener(isNormalizer ? target : ownerDoc, _eventTypes[1], _onDrag, true);\n          }\n\n          _removeListener(isViewport ? ownerDoc : target, \"scroll\", onScroll, capture);\n\n          _removeListener(target, \"wheel\", _onWheel, capture);\n\n          _removeListener(target, _eventTypes[0], _onPress, capture);\n\n          _removeListener(ownerDoc, _eventTypes[2], _onRelease);\n\n          _removeListener(ownerDoc, _eventTypes[3], _onRelease);\n\n          _removeListener(target, \"click\", clickCapture, true);\n\n          _removeListener(target, \"click\", _onClick);\n\n          _removeListener(ownerDoc, \"gesturestart\", _onGestureStart);\n\n          _removeListener(ownerDoc, \"gestureend\", _onGestureEnd);\n\n          _removeListener(target, _pointerType + \"enter\", _onHover);\n\n          _removeListener(target, _pointerType + \"leave\", _onHoverEnd);\n\n          _removeListener(target, _pointerType + \"move\", _onMove);\n\n          self.isEnabled = self.isPressed = self.isDragging = false;\n          onDisable && onDisable(self);\n        }\n      };\n\n      self.kill = function () {\n        self.disable();\n\n        var i = _observers.indexOf(self);\n\n        i >= 0 && _observers.splice(i, 1);\n        _normalizer === self && (_normalizer = 0);\n      };\n\n      _observers.push(self);\n\n      isNormalizer && _isViewport(target) && (_normalizer = self);\n      self.enable(event);\n    };\n\n    _createClass(Observer, [{\n      key: \"velocityX\",\n      get: function get() {\n        return this._vx.getVelocity();\n      }\n    }, {\n      key: \"velocityY\",\n      get: function get() {\n        return this._vy.getVelocity();\n      }\n    }]);\n\n    return Observer;\n  }();\n  Observer.version = \"3.10.4\";\n\n  Observer.create = function (vars) {\n    return new Observer(vars);\n  };\n\n  Observer.register = _initCore;\n\n  Observer.getAll = function () {\n    return _observers.slice();\n  };\n\n  Observer.getById = function (id) {\n    return _observers.filter(function (o) {\n      return o.vars.id === id;\n    })[0];\n  };\n\n  _getGSAP() && gsap.registerPlugin(Observer);\n\n  /*!\n   * ScrollTrigger 3.10.4\n   * https://greensock.com\n   *\n   * @license Copyright 2008-2022, GreenSock. All rights reserved.\n   * Subject to the terms at https://greensock.com/standard-license or for\n   * Club GreenSock members, the agreement issued with that membership.\n   * @author: Jack Doyle, jack@greensock.com\n  */\n\n  var gsap$1,\n      _coreInitted$1,\n      _win$1,\n      _doc$1,\n      _docEl$1,\n      _body$1,\n      _root$1,\n      _resizeDelay,\n      _toArray,\n      _clamp$1,\n      _time2,\n      _syncInterval,\n      _refreshing,\n      _pointerIsDown,\n      _transformProp,\n      _i,\n      _prevWidth,\n      _prevHeight,\n      _autoRefresh,\n      _sort,\n      _suppressOverwrites,\n      _ignoreResize,\n      _normalizer$1,\n      _ignoreMobileResize,\n      _baseScreenHeight,\n      _baseScreenWidth,\n      _fixIOSBug,\n      _limitCallbacks,\n      _startup$1 = 1,\n      _getTime$1 = Date.now,\n      _time1 = _getTime$1(),\n      _lastScrollTime = 0,\n      _enabled = 0,\n      _pointerDownHandler = function _pointerDownHandler() {\n    return _pointerIsDown = 1;\n  },\n      _pointerUpHandler = function _pointerUpHandler() {\n    return _pointerIsDown = 0;\n  },\n      _passThrough = function _passThrough(v) {\n    return v;\n  },\n      _round = function _round(value) {\n    return Math.round(value * 100000) / 100000 || 0;\n  },\n      _windowExists = function _windowExists() {\n    return typeof window !== \"undefined\";\n  },\n      _getGSAP$1 = function _getGSAP() {\n    return gsap$1 || _windowExists() && (gsap$1 = window.gsap) && gsap$1.registerPlugin && gsap$1;\n  },\n      _isViewport$1 = function _isViewport(e) {\n    return !!~_root$1.indexOf(e);\n  },\n      _getBoundsFunc = function _getBoundsFunc(element) {\n    return _getProxyProp(element, \"getBoundingClientRect\") || (_isViewport$1(element) ? function () {\n      _winOffsets.width = _win$1.innerWidth;\n      _winOffsets.height = _win$1.innerHeight;\n      return _winOffsets;\n    } : function () {\n      return _getBounds(element);\n    });\n  },\n      _getSizeFunc = function _getSizeFunc(scroller, isViewport, _ref) {\n    var d = _ref.d,\n        d2 = _ref.d2,\n        a = _ref.a;\n    return (a = _getProxyProp(scroller, \"getBoundingClientRect\")) ? function () {\n      return a()[d];\n    } : function () {\n      return (isViewport ? _win$1[\"inner\" + d2] : scroller[\"client\" + d2]) || 0;\n    };\n  },\n      _getOffsetsFunc = function _getOffsetsFunc(element, isViewport) {\n    return !isViewport || ~_proxies.indexOf(element) ? _getBoundsFunc(element) : function () {\n      return _winOffsets;\n    };\n  },\n      _maxScroll = function _maxScroll(element, _ref2) {\n    var s = _ref2.s,\n        d2 = _ref2.d2,\n        d = _ref2.d,\n        a = _ref2.a;\n    return (s = \"scroll\" + d2) && (a = _getProxyProp(element, s)) ? a() - _getBoundsFunc(element)()[d] : _isViewport$1(element) ? (_docEl$1[s] || _body$1[s]) - (_win$1[\"inner\" + d2] || _docEl$1[\"client\" + d2] || _body$1[\"client\" + d2]) : element[s] - element[\"offset\" + d2];\n  },\n      _iterateAutoRefresh = function _iterateAutoRefresh(func, events) {\n    for (var i = 0; i < _autoRefresh.length; i += 3) {\n      (!events || ~events.indexOf(_autoRefresh[i + 1])) && func(_autoRefresh[i], _autoRefresh[i + 1], _autoRefresh[i + 2]);\n    }\n  },\n      _isString = function _isString(value) {\n    return typeof value === \"string\";\n  },\n      _isFunction = function _isFunction(value) {\n    return typeof value === \"function\";\n  },\n      _isNumber = function _isNumber(value) {\n    return typeof value === \"number\";\n  },\n      _isObject = function _isObject(value) {\n    return typeof value === \"object\";\n  },\n      _callIfFunc = function _callIfFunc(value) {\n    return _isFunction(value) && value();\n  },\n      _combineFunc = function _combineFunc(f1, f2) {\n    return function () {\n      var result1 = _callIfFunc(f1),\n          result2 = _callIfFunc(f2);\n\n      return function () {\n        _callIfFunc(result1);\n\n        _callIfFunc(result2);\n      };\n    };\n  },\n      _endAnimation = function _endAnimation(animation, reversed, pause) {\n    return animation && animation.progress(reversed ? 0 : 1) && pause && animation.pause();\n  },\n      _callback = function _callback(self, func) {\n    if (self.enabled) {\n      var result = func(self);\n      result && result.totalTime && (self.callbackAnimation = result);\n    }\n  },\n      _abs = Math.abs,\n      _left = \"left\",\n      _top = \"top\",\n      _right = \"right\",\n      _bottom = \"bottom\",\n      _width = \"width\",\n      _height = \"height\",\n      _Right = \"Right\",\n      _Left = \"Left\",\n      _Top = \"Top\",\n      _Bottom = \"Bottom\",\n      _padding = \"padding\",\n      _margin = \"margin\",\n      _Width = \"Width\",\n      _Height = \"Height\",\n      _px = \"px\",\n      _getComputedStyle = function _getComputedStyle(element) {\n    return _win$1.getComputedStyle(element);\n  },\n      _makePositionable = function _makePositionable(element) {\n    var position = _getComputedStyle(element).position;\n\n    element.style.position = position === \"absolute\" || position === \"fixed\" ? position : \"relative\";\n  },\n      _setDefaults = function _setDefaults(obj, defaults) {\n    for (var p in defaults) {\n      p in obj || (obj[p] = defaults[p]);\n    }\n\n    return obj;\n  },\n      _getBounds = function _getBounds(element, withoutTransforms) {\n    var tween = withoutTransforms && _getComputedStyle(element)[_transformProp] !== \"matrix(1, 0, 0, 1, 0, 0)\" && gsap$1.to(element, {\n      x: 0,\n      y: 0,\n      xPercent: 0,\n      yPercent: 0,\n      rotation: 0,\n      rotationX: 0,\n      rotationY: 0,\n      scale: 1,\n      skewX: 0,\n      skewY: 0\n    }).progress(1),\n        bounds = element.getBoundingClientRect();\n    tween && tween.progress(0).kill();\n    return bounds;\n  },\n      _getSize = function _getSize(element, _ref3) {\n    var d2 = _ref3.d2;\n    return element[\"offset\" + d2] || element[\"client\" + d2] || 0;\n  },\n      _getLabelRatioArray = function _getLabelRatioArray(timeline) {\n    var a = [],\n        labels = timeline.labels,\n        duration = timeline.duration(),\n        p;\n\n    for (p in labels) {\n      a.push(labels[p] / duration);\n    }\n\n    return a;\n  },\n      _getClosestLabel = function _getClosestLabel(animation) {\n    return function (value) {\n      return gsap$1.utils.snap(_getLabelRatioArray(animation), value);\n    };\n  },\n      _snapDirectional = function _snapDirectional(snapIncrementOrArray) {\n    var snap = gsap$1.utils.snap(snapIncrementOrArray),\n        a = Array.isArray(snapIncrementOrArray) && snapIncrementOrArray.slice(0).sort(function (a, b) {\n      return a - b;\n    });\n    return a ? function (value, direction, threshold) {\n      if (threshold === void 0) {\n        threshold = 1e-3;\n      }\n\n      var i;\n\n      if (!direction) {\n        return snap(value);\n      }\n\n      if (direction > 0) {\n        value -= threshold;\n\n        for (i = 0; i < a.length; i++) {\n          if (a[i] >= value) {\n            return a[i];\n          }\n        }\n\n        return a[i - 1];\n      } else {\n        i = a.length;\n        value += threshold;\n\n        while (i--) {\n          if (a[i] <= value) {\n            return a[i];\n          }\n        }\n      }\n\n      return a[0];\n    } : function (value, direction, threshold) {\n      if (threshold === void 0) {\n        threshold = 1e-3;\n      }\n\n      var snapped = snap(value);\n      return !direction || Math.abs(snapped - value) < threshold || snapped - value < 0 === direction < 0 ? snapped : snap(direction < 0 ? value - snapIncrementOrArray : value + snapIncrementOrArray);\n    };\n  },\n      _getLabelAtDirection = function _getLabelAtDirection(timeline) {\n    return function (value, st) {\n      return _snapDirectional(_getLabelRatioArray(timeline))(value, st.direction);\n    };\n  },\n      _multiListener = function _multiListener(func, element, types, callback) {\n    return types.split(\",\").forEach(function (type) {\n      return func(element, type, callback);\n    });\n  },\n      _addListener$1 = function _addListener(element, type, func, nonPassive, capture) {\n    return element.addEventListener(type, func, {\n      passive: !nonPassive,\n      capture: !!capture\n    });\n  },\n      _removeListener$1 = function _removeListener(element, type, func, capture) {\n    return element.removeEventListener(type, func, !!capture);\n  },\n      _wheelListener = function _wheelListener(func, el, scrollFunc) {\n    return scrollFunc && scrollFunc.wheelHandler && func(el, \"wheel\", scrollFunc);\n  },\n      _markerDefaults = {\n    startColor: \"green\",\n    endColor: \"red\",\n    indent: 0,\n    fontSize: \"16px\",\n    fontWeight: \"normal\"\n  },\n      _defaults = {\n    toggleActions: \"play\",\n    anticipatePin: 0\n  },\n      _keywords = {\n    top: 0,\n    left: 0,\n    center: 0.5,\n    bottom: 1,\n    right: 1\n  },\n      _offsetToPx = function _offsetToPx(value, size) {\n    if (_isString(value)) {\n      var eqIndex = value.indexOf(\"=\"),\n          relative = ~eqIndex ? +(value.charAt(eqIndex - 1) + 1) * parseFloat(value.substr(eqIndex + 1)) : 0;\n\n      if (~eqIndex) {\n        value.indexOf(\"%\") > eqIndex && (relative *= size / 100);\n        value = value.substr(0, eqIndex - 1);\n      }\n\n      value = relative + (value in _keywords ? _keywords[value] * size : ~value.indexOf(\"%\") ? parseFloat(value) * size / 100 : parseFloat(value) || 0);\n    }\n\n    return value;\n  },\n      _createMarker = function _createMarker(type, name, container, direction, _ref4, offset, matchWidthEl, containerAnimation) {\n    var startColor = _ref4.startColor,\n        endColor = _ref4.endColor,\n        fontSize = _ref4.fontSize,\n        indent = _ref4.indent,\n        fontWeight = _ref4.fontWeight;\n\n    var e = _doc$1.createElement(\"div\"),\n        useFixedPosition = _isViewport$1(container) || _getProxyProp(container, \"pinType\") === \"fixed\",\n        isScroller = type.indexOf(\"scroller\") !== -1,\n        parent = useFixedPosition ? _body$1 : container,\n        isStart = type.indexOf(\"start\") !== -1,\n        color = isStart ? startColor : endColor,\n        css = \"border-color:\" + color + \";font-size:\" + fontSize + \";color:\" + color + \";font-weight:\" + fontWeight + \";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;\";\n\n    css += \"position:\" + ((isScroller || containerAnimation) && useFixedPosition ? \"fixed;\" : \"absolute;\");\n    (isScroller || containerAnimation || !useFixedPosition) && (css += (direction === _vertical ? _right : _bottom) + \":\" + (offset + parseFloat(indent)) + \"px;\");\n    matchWidthEl && (css += \"box-sizing:border-box;text-align:left;width:\" + matchWidthEl.offsetWidth + \"px;\");\n    e._isStart = isStart;\n    e.setAttribute(\"class\", \"gsap-marker-\" + type + (name ? \" marker-\" + name : \"\"));\n    e.style.cssText = css;\n    e.innerText = name || name === 0 ? type + \"-\" + name : type;\n    parent.children[0] ? parent.insertBefore(e, parent.children[0]) : parent.appendChild(e);\n    e._offset = e[\"offset\" + direction.op.d2];\n\n    _positionMarker(e, 0, direction, isStart);\n\n    return e;\n  },\n      _positionMarker = function _positionMarker(marker, start, direction, flipped) {\n    var vars = {\n      display: \"block\"\n    },\n        side = direction[flipped ? \"os2\" : \"p2\"],\n        oppositeSide = direction[flipped ? \"p2\" : \"os2\"];\n    marker._isFlipped = flipped;\n    vars[direction.a + \"Percent\"] = flipped ? -100 : 0;\n    vars[direction.a] = flipped ? \"1px\" : 0;\n    vars[\"border\" + side + _Width] = 1;\n    vars[\"border\" + oppositeSide + _Width] = 0;\n    vars[direction.p] = start + \"px\";\n    gsap$1.set(marker, vars);\n  },\n      _triggers = [],\n      _ids = {},\n      _rafID,\n      _sync = function _sync() {\n    return _getTime$1() - _lastScrollTime > 34 && _updateAll();\n  },\n      _onScroll$1 = function _onScroll() {\n    if (!_normalizer$1 || !_normalizer$1.isPressed || _normalizer$1.startX > _body$1.clientWidth) {\n      _scrollers.cache++;\n      _rafID || (_rafID = requestAnimationFrame(_updateAll));\n      _lastScrollTime || _dispatch(\"scrollStart\");\n      _lastScrollTime = _getTime$1();\n    }\n  },\n      _setBaseDimensions = function _setBaseDimensions() {\n    _baseScreenWidth = _win$1.innerWidth;\n    _baseScreenHeight = _win$1.innerHeight;\n  },\n      _onResize = function _onResize() {\n    _scrollers.cache++;\n    !_refreshing && !_ignoreResize && !_doc$1.fullscreenElement && !_doc$1.webkitFullscreenElement && (!_ignoreMobileResize || _baseScreenWidth !== _win$1.innerWidth || Math.abs(_win$1.innerHeight - _baseScreenHeight) > _win$1.innerHeight * 0.25) && _resizeDelay.restart(true);\n  },\n      _listeners = {},\n      _emptyArray = [],\n      _media = [],\n      _creatingMedia,\n      _lastMediaTick,\n      _onMediaChange = function _onMediaChange(e) {\n    var tick = gsap$1.ticker.frame,\n        matches = [],\n        i = 0,\n        index;\n\n    if (_lastMediaTick !== tick || _startup$1) {\n      _revertAll();\n\n      for (; i < _media.length; i += 4) {\n        index = _win$1.matchMedia(_media[i]).matches;\n\n        if (index !== _media[i + 3]) {\n          _media[i + 3] = index;\n          index ? matches.push(i) : _revertAll(1, _media[i]) || _isFunction(_media[i + 2]) && _media[i + 2]();\n        }\n      }\n\n      _revertRecorded();\n\n      for (i = 0; i < matches.length; i++) {\n        index = matches[i];\n        _creatingMedia = _media[index];\n        _media[index + 2] = _media[index + 1](e);\n      }\n\n      _creatingMedia = 0;\n      _coreInitted$1 && _refreshAll(0, 1);\n      _lastMediaTick = tick;\n\n      _dispatch(\"matchMedia\");\n    }\n  },\n      _softRefresh = function _softRefresh() {\n    return _removeListener$1(ScrollTrigger$1, \"scrollEnd\", _softRefresh) || _refreshAll(true);\n  },\n      _dispatch = function _dispatch(type) {\n    return _listeners[type] && _listeners[type].map(function (f) {\n      return f();\n    }) || _emptyArray;\n  },\n      _savedStyles = [],\n      _revertRecorded = function _revertRecorded(media) {\n    for (var i = 0; i < _savedStyles.length; i += 5) {\n      if (!media || _savedStyles[i + 4] === media) {\n        _savedStyles[i].style.cssText = _savedStyles[i + 1];\n        _savedStyles[i].getBBox && _savedStyles[i].setAttribute(\"transform\", _savedStyles[i + 2] || \"\");\n        _savedStyles[i + 3].uncache = 1;\n      }\n    }\n  },\n      _revertAll = function _revertAll(kill, media) {\n    var trigger;\n\n    for (_i = 0; _i < _triggers.length; _i++) {\n      trigger = _triggers[_i];\n\n      if (!media || trigger.media === media) {\n        if (kill) {\n          trigger.kill(1);\n        } else {\n          trigger.revert();\n        }\n      }\n    }\n\n    media && _revertRecorded(media);\n    media || _dispatch(\"revert\");\n  },\n      _clearScrollMemory = function _clearScrollMemory() {\n    return _scrollers.cache++ && _scrollers.forEach(function (obj) {\n      return typeof obj === \"function\" && (obj.rec = 0);\n    });\n  },\n      _refreshingAll,\n      _refreshID = 0,\n      _refreshAll = function _refreshAll(force, skipRevert) {\n    if (_lastScrollTime && !force) {\n      _addListener$1(ScrollTrigger$1, \"scrollEnd\", _softRefresh);\n\n      return;\n    }\n\n    _refreshingAll = true;\n\n    var refreshInits = _dispatch(\"refreshInit\");\n\n    _sort && ScrollTrigger$1.sort();\n    skipRevert || _revertAll();\n\n    _triggers.slice(0).forEach(function (t) {\n      return t.refresh();\n    });\n\n    _triggers.forEach(function (t) {\n      return t.vars.end === \"max\" && t.setPositions(t.start, _maxScroll(t.scroller, t._dir));\n    });\n\n    refreshInits.forEach(function (result) {\n      return result && result.render && result.render(-1);\n    });\n\n    _clearScrollMemory();\n\n    _resizeDelay.pause();\n\n    _refreshID++;\n    _refreshingAll = false;\n\n    _dispatch(\"refresh\");\n  },\n      _lastScroll = 0,\n      _direction = 1,\n      _primary,\n      _updateAll = function _updateAll() {\n    if (!_refreshingAll) {\n      ScrollTrigger$1.isUpdating = true;\n      _primary && _primary.update(0);\n\n      var l = _triggers.length,\n          time = _getTime$1(),\n          recordVelocity = time - _time1 >= 50,\n          scroll = l && _triggers[0].scroll();\n\n      _direction = _lastScroll > scroll ? -1 : 1;\n      _lastScroll = scroll;\n\n      if (recordVelocity) {\n        if (_lastScrollTime && !_pointerIsDown && time - _lastScrollTime > 200) {\n          _lastScrollTime = 0;\n\n          _dispatch(\"scrollEnd\");\n        }\n\n        _time2 = _time1;\n        _time1 = time;\n      }\n\n      if (_direction < 0) {\n        _i = l;\n\n        while (_i-- > 0) {\n          _triggers[_i] && _triggers[_i].update(0, recordVelocity);\n        }\n\n        _direction = 1;\n      } else {\n        for (_i = 0; _i < l; _i++) {\n          _triggers[_i] && _triggers[_i].update(0, recordVelocity);\n        }\n      }\n\n      ScrollTrigger$1.isUpdating = false;\n    }\n\n    _rafID = 0;\n  },\n      _propNamesToCopy = [_left, _top, _bottom, _right, _margin + _Bottom, _margin + _Right, _margin + _Top, _margin + _Left, \"display\", \"flexShrink\", \"float\", \"zIndex\", \"gridColumnStart\", \"gridColumnEnd\", \"gridRowStart\", \"gridRowEnd\", \"gridArea\", \"justifySelf\", \"alignSelf\", \"placeSelf\", \"order\"],\n      _stateProps = _propNamesToCopy.concat([_width, _height, \"boxSizing\", \"max\" + _Width, \"max\" + _Height, \"position\", _margin, _padding, _padding + _Top, _padding + _Right, _padding + _Bottom, _padding + _Left]),\n      _swapPinOut = function _swapPinOut(pin, spacer, state) {\n    _setState(state);\n\n    var cache = pin._gsap;\n\n    if (cache.spacerIsNative) {\n      _setState(cache.spacerState);\n    } else if (pin.parentNode === spacer) {\n      var parent = spacer.parentNode;\n\n      if (parent) {\n        parent.insertBefore(pin, spacer);\n        parent.removeChild(spacer);\n      }\n    }\n  },\n      _swapPinIn = function _swapPinIn(pin, spacer, cs, spacerState) {\n    if (pin.parentNode !== spacer) {\n      var i = _propNamesToCopy.length,\n          spacerStyle = spacer.style,\n          pinStyle = pin.style,\n          p;\n\n      while (i--) {\n        p = _propNamesToCopy[i];\n        spacerStyle[p] = cs[p];\n      }\n\n      spacerStyle.position = cs.position === \"absolute\" ? \"absolute\" : \"relative\";\n      cs.display === \"inline\" && (spacerStyle.display = \"inline-block\");\n      pinStyle[_bottom] = pinStyle[_right] = spacerStyle.flexBasis = \"auto\";\n      spacerStyle.overflow = \"visible\";\n      spacerStyle.boxSizing = \"border-box\";\n      spacerStyle[_width] = _getSize(pin, _horizontal) + _px;\n      spacerStyle[_height] = _getSize(pin, _vertical) + _px;\n      spacerStyle[_padding] = pinStyle[_margin] = pinStyle[_top] = pinStyle[_left] = \"0\";\n\n      _setState(spacerState);\n\n      pinStyle[_width] = pinStyle[\"max\" + _Width] = cs[_width];\n      pinStyle[_height] = pinStyle[\"max\" + _Height] = cs[_height];\n      pinStyle[_padding] = cs[_padding];\n      pin.parentNode.insertBefore(spacer, pin);\n      spacer.appendChild(pin);\n    }\n  },\n      _capsExp = /([A-Z])/g,\n      _setState = function _setState(state) {\n    if (state) {\n      var style = state.t.style,\n          l = state.length,\n          i = 0,\n          p,\n          value;\n      (state.t._gsap || gsap$1.core.getCache(state.t)).uncache = 1;\n\n      for (; i < l; i += 2) {\n        value = state[i + 1];\n        p = state[i];\n\n        if (value) {\n          style[p] = value;\n        } else if (style[p]) {\n          style.removeProperty(p.replace(_capsExp, \"-$1\").toLowerCase());\n        }\n      }\n    }\n  },\n      _getState = function _getState(element) {\n    var l = _stateProps.length,\n        style = element.style,\n        state = [],\n        i = 0;\n\n    for (; i < l; i++) {\n      state.push(_stateProps[i], style[_stateProps[i]]);\n    }\n\n    state.t = element;\n    return state;\n  },\n      _copyState = function _copyState(state, override, omitOffsets) {\n    var result = [],\n        l = state.length,\n        i = omitOffsets ? 8 : 0,\n        p;\n\n    for (; i < l; i += 2) {\n      p = state[i];\n      result.push(p, p in override ? override[p] : state[i + 1]);\n    }\n\n    result.t = state.t;\n    return result;\n  },\n      _winOffsets = {\n    left: 0,\n    top: 0\n  },\n      _parsePosition = function _parsePosition(value, trigger, scrollerSize, direction, scroll, marker, markerScroller, self, scrollerBounds, borderWidth, useFixedPosition, scrollerMax, containerAnimation) {\n    _isFunction(value) && (value = value(self));\n\n    if (_isString(value) && value.substr(0, 3) === \"max\") {\n      value = scrollerMax + (value.charAt(4) === \"=\" ? _offsetToPx(\"0\" + value.substr(3), scrollerSize) : 0);\n    }\n\n    var time = containerAnimation ? containerAnimation.time() : 0,\n        p1,\n        p2,\n        element;\n    containerAnimation && containerAnimation.seek(0);\n\n    if (!_isNumber(value)) {\n      _isFunction(trigger) && (trigger = trigger(self));\n      var offsets = value.split(\" \"),\n          bounds,\n          localOffset,\n          globalOffset,\n          display;\n      element = _getTarget(trigger) || _body$1;\n      bounds = _getBounds(element) || {};\n\n      if ((!bounds || !bounds.left && !bounds.top) && _getComputedStyle(element).display === \"none\") {\n        display = element.style.display;\n        element.style.display = \"block\";\n        bounds = _getBounds(element);\n        display ? element.style.display = display : element.style.removeProperty(\"display\");\n      }\n\n      localOffset = _offsetToPx(offsets[0], bounds[direction.d]);\n      globalOffset = _offsetToPx(offsets[1] || \"0\", scrollerSize);\n      value = bounds[direction.p] - scrollerBounds[direction.p] - borderWidth + localOffset + scroll - globalOffset;\n      markerScroller && _positionMarker(markerScroller, globalOffset, direction, scrollerSize - globalOffset < 20 || markerScroller._isStart && globalOffset > 20);\n      scrollerSize -= scrollerSize - globalOffset;\n    } else if (markerScroller) {\n      _positionMarker(markerScroller, scrollerSize, direction, true);\n    }\n\n    if (marker) {\n      var position = value + scrollerSize,\n          isStart = marker._isStart;\n      p1 = \"scroll\" + direction.d2;\n\n      _positionMarker(marker, position, direction, isStart && position > 20 || !isStart && (useFixedPosition ? Math.max(_body$1[p1], _docEl$1[p1]) : marker.parentNode[p1]) <= position + 1);\n\n      if (useFixedPosition) {\n        scrollerBounds = _getBounds(markerScroller);\n        useFixedPosition && (marker.style[direction.op.p] = scrollerBounds[direction.op.p] - direction.op.m - marker._offset + _px);\n      }\n    }\n\n    if (containerAnimation && element) {\n      p1 = _getBounds(element);\n      containerAnimation.seek(scrollerMax);\n      p2 = _getBounds(element);\n      containerAnimation._caScrollDist = p1[direction.p] - p2[direction.p];\n      value = value / containerAnimation._caScrollDist * scrollerMax;\n    }\n\n    containerAnimation && containerAnimation.seek(time);\n    return containerAnimation ? value : Math.round(value);\n  },\n      _prefixExp = /(webkit|moz|length|cssText|inset)/i,\n      _reparent = function _reparent(element, parent, top, left) {\n    if (element.parentNode !== parent) {\n      var style = element.style,\n          p,\n          cs;\n\n      if (parent === _body$1) {\n        element._stOrig = style.cssText;\n        cs = _getComputedStyle(element);\n\n        for (p in cs) {\n          if (!+p && !_prefixExp.test(p) && cs[p] && typeof style[p] === \"string\" && p !== \"0\") {\n            style[p] = cs[p];\n          }\n        }\n\n        style.top = top;\n        style.left = left;\n      } else {\n        style.cssText = element._stOrig;\n      }\n\n      gsap$1.core.getCache(element).uncache = 1;\n      parent.appendChild(element);\n    }\n  },\n      _getTweenCreator = function _getTweenCreator(scroller, direction) {\n    var getScroll = _getScrollFunc(scroller, direction),\n        prop = \"_scroll\" + direction.p2,\n        lastScroll1,\n        lastScroll2,\n        getTween = function getTween(scrollTo, vars, initialValue, change1, change2) {\n      var tween = getTween.tween,\n          onComplete = vars.onComplete,\n          modifiers = {};\n      initialValue = initialValue || getScroll();\n      change2 = change1 && change2 || 0;\n      change1 = change1 || scrollTo - initialValue;\n      tween && tween.kill();\n      lastScroll1 = Math.round(initialValue);\n      vars[prop] = scrollTo;\n      vars.modifiers = modifiers;\n\n      modifiers[prop] = function (value) {\n        value = _round(getScroll());\n\n        if (value !== lastScroll1 && value !== lastScroll2 && Math.abs(value - lastScroll1) > 2 && Math.abs(value - lastScroll2) > 2) {\n          tween.kill();\n          getTween.tween = 0;\n        } else {\n          value = initialValue + change1 * tween.ratio + change2 * tween.ratio * tween.ratio;\n        }\n\n        lastScroll2 = lastScroll1;\n        return lastScroll1 = _round(value);\n      };\n\n      vars.onComplete = function () {\n        getTween.tween = 0;\n        onComplete && onComplete.call(tween);\n      };\n\n      tween = getTween.tween = gsap$1.to(scroller, vars);\n      return tween;\n    };\n\n    scroller[prop] = getScroll;\n\n    getScroll.wheelHandler = function () {\n      return getTween.tween && getTween.tween.kill() && (getTween.tween = 0);\n    };\n\n    _addListener$1(scroller, \"wheel\", getScroll.wheelHandler);\n\n    return getTween;\n  };\n\n  var ScrollTrigger$1 = function () {\n    function ScrollTrigger(vars, animation) {\n      _coreInitted$1 || ScrollTrigger.register(gsap$1) || console.warn(\"Please gsap.registerPlugin(ScrollTrigger)\");\n      this.init(vars, animation);\n    }\n\n    var _proto = ScrollTrigger.prototype;\n\n    _proto.init = function init(vars, animation) {\n      this.progress = this.start = 0;\n      this.vars && this.kill(true, true);\n\n      if (!_enabled) {\n        this.update = this.refresh = this.kill = _passThrough;\n        return;\n      }\n\n      vars = _setDefaults(_isString(vars) || _isNumber(vars) || vars.nodeType ? {\n        trigger: vars\n      } : vars, _defaults);\n\n      var _vars = vars,\n          onUpdate = _vars.onUpdate,\n          toggleClass = _vars.toggleClass,\n          id = _vars.id,\n          onToggle = _vars.onToggle,\n          onRefresh = _vars.onRefresh,\n          scrub = _vars.scrub,\n          trigger = _vars.trigger,\n          pin = _vars.pin,\n          pinSpacing = _vars.pinSpacing,\n          invalidateOnRefresh = _vars.invalidateOnRefresh,\n          anticipatePin = _vars.anticipatePin,\n          onScrubComplete = _vars.onScrubComplete,\n          onSnapComplete = _vars.onSnapComplete,\n          once = _vars.once,\n          snap = _vars.snap,\n          pinReparent = _vars.pinReparent,\n          pinSpacer = _vars.pinSpacer,\n          containerAnimation = _vars.containerAnimation,\n          fastScrollEnd = _vars.fastScrollEnd,\n          preventOverlaps = _vars.preventOverlaps,\n          direction = vars.horizontal || vars.containerAnimation && vars.horizontal !== false ? _horizontal : _vertical,\n          isToggle = !scrub && scrub !== 0,\n          scroller = _getTarget(vars.scroller || _win$1),\n          scrollerCache = gsap$1.core.getCache(scroller),\n          isViewport = _isViewport$1(scroller),\n          useFixedPosition = (\"pinType\" in vars ? vars.pinType : _getProxyProp(scroller, \"pinType\") || isViewport && \"fixed\") === \"fixed\",\n          callbacks = [vars.onEnter, vars.onLeave, vars.onEnterBack, vars.onLeaveBack],\n          toggleActions = isToggle && vars.toggleActions.split(\" \"),\n          markers = \"markers\" in vars ? vars.markers : _defaults.markers,\n          borderWidth = isViewport ? 0 : parseFloat(_getComputedStyle(scroller)[\"border\" + direction.p2 + _Width]) || 0,\n          self = this,\n          onRefreshInit = vars.onRefreshInit && function () {\n        return vars.onRefreshInit(self);\n      },\n          getScrollerSize = _getSizeFunc(scroller, isViewport, direction),\n          getScrollerOffsets = _getOffsetsFunc(scroller, isViewport),\n          lastSnap = 0,\n          lastRefresh = 0,\n          scrollFunc = _getScrollFunc(scroller, direction),\n          tweenTo,\n          pinCache,\n          snapFunc,\n          scroll1,\n          scroll2,\n          start,\n          end,\n          markerStart,\n          markerEnd,\n          markerStartTrigger,\n          markerEndTrigger,\n          markerVars,\n          change,\n          pinOriginalState,\n          pinActiveState,\n          pinState,\n          spacer,\n          offset,\n          pinGetter,\n          pinSetter,\n          pinStart,\n          pinChange,\n          spacingStart,\n          spacerState,\n          markerStartSetter,\n          markerEndSetter,\n          cs,\n          snap1,\n          snap2,\n          scrubTween,\n          scrubSmooth,\n          snapDurClamp,\n          snapDelayedCall,\n          prevProgress,\n          prevScroll,\n          prevAnimProgress,\n          caMarkerSetter,\n          customRevertReturn;\n\n      self.media = _creatingMedia;\n      self._dir = direction;\n      anticipatePin *= 45;\n      self.scroller = scroller;\n      self.scroll = containerAnimation ? containerAnimation.time.bind(containerAnimation) : scrollFunc;\n      scroll1 = scrollFunc();\n      self.vars = vars;\n      animation = animation || vars.animation;\n\n      if (\"refreshPriority\" in vars) {\n        _sort = 1;\n        vars.refreshPriority === -9999 && (_primary = self);\n      }\n\n      scrollerCache.tweenScroll = scrollerCache.tweenScroll || {\n        top: _getTweenCreator(scroller, _vertical),\n        left: _getTweenCreator(scroller, _horizontal)\n      };\n      self.tweenTo = tweenTo = scrollerCache.tweenScroll[direction.p];\n\n      self.scrubDuration = function (value) {\n        scrubSmooth = _isNumber(value) && value;\n\n        if (!scrubSmooth) {\n          scrubTween && scrubTween.progress(1).kill();\n          scrubTween = 0;\n        } else {\n          scrubTween ? scrubTween.duration(value) : scrubTween = gsap$1.to(animation, {\n            ease: \"expo\",\n            totalProgress: \"+=0.001\",\n            duration: scrubSmooth,\n            paused: true,\n            onComplete: function onComplete() {\n              return onScrubComplete && onScrubComplete(self);\n            }\n          });\n        }\n      };\n\n      if (animation) {\n        animation.vars.lazy = false;\n        animation._initted || animation.vars.immediateRender !== false && vars.immediateRender !== false && animation.render(0, true, true);\n        self.animation = animation.pause();\n        animation.scrollTrigger = self;\n        self.scrubDuration(scrub);\n        snap1 = 0;\n        id || (id = animation.vars.id);\n      }\n\n      _triggers.push(self);\n\n      if (snap) {\n        if (!_isObject(snap) || snap.push) {\n          snap = {\n            snapTo: snap\n          };\n        }\n\n        \"scrollBehavior\" in _body$1.style && gsap$1.set(isViewport ? [_body$1, _docEl$1] : scroller, {\n          scrollBehavior: \"auto\"\n        });\n        snapFunc = _isFunction(snap.snapTo) ? snap.snapTo : snap.snapTo === \"labels\" ? _getClosestLabel(animation) : snap.snapTo === \"labelsDirectional\" ? _getLabelAtDirection(animation) : snap.directional !== false ? function (value, st) {\n          return _snapDirectional(snap.snapTo)(value, _getTime$1() - lastRefresh < 500 ? 0 : st.direction);\n        } : gsap$1.utils.snap(snap.snapTo);\n        snapDurClamp = snap.duration || {\n          min: 0.1,\n          max: 2\n        };\n        snapDurClamp = _isObject(snapDurClamp) ? _clamp$1(snapDurClamp.min, snapDurClamp.max) : _clamp$1(snapDurClamp, snapDurClamp);\n        snapDelayedCall = gsap$1.delayedCall(snap.delay || scrubSmooth / 2 || 0.1, function () {\n          var scroll = scrollFunc(),\n              refreshedRecently = _getTime$1() - lastRefresh < 500,\n              tween = tweenTo.tween;\n\n          if ((refreshedRecently || Math.abs(self.getVelocity()) < 10) && !tween && !_pointerIsDown && lastSnap !== scroll) {\n            var progress = (scroll - start) / change,\n                totalProgress = animation && !isToggle ? animation.totalProgress() : progress,\n                velocity = refreshedRecently ? 0 : (totalProgress - snap2) / (_getTime$1() - _time2) * 1000 || 0,\n                change1 = gsap$1.utils.clamp(-progress, 1 - progress, _abs(velocity / 2) * velocity / 0.185),\n                naturalEnd = progress + (snap.inertia === false ? 0 : change1),\n                endValue = _clamp$1(0, 1, snapFunc(naturalEnd, self)),\n                endScroll = Math.round(start + endValue * change),\n                _snap = snap,\n                onStart = _snap.onStart,\n                _onInterrupt = _snap.onInterrupt,\n                _onComplete = _snap.onComplete;\n\n            if (scroll <= end && scroll >= start && endScroll !== scroll) {\n              if (tween && !tween._initted && tween.data <= _abs(endScroll - scroll)) {\n                return;\n              }\n\n              if (snap.inertia === false) {\n                change1 = endValue - progress;\n              }\n\n              tweenTo(endScroll, {\n                duration: snapDurClamp(_abs(Math.max(_abs(naturalEnd - totalProgress), _abs(endValue - totalProgress)) * 0.185 / velocity / 0.05 || 0)),\n                ease: snap.ease || \"power3\",\n                data: _abs(endScroll - scroll),\n                onInterrupt: function onInterrupt() {\n                  return snapDelayedCall.restart(true) && _onInterrupt && _onInterrupt(self);\n                },\n                onComplete: function onComplete() {\n                  self.update();\n                  lastSnap = scrollFunc();\n                  snap1 = snap2 = animation && !isToggle ? animation.totalProgress() : self.progress;\n                  onSnapComplete && onSnapComplete(self);\n                  _onComplete && _onComplete(self);\n                }\n              }, scroll, change1 * change, endScroll - scroll - change1 * change);\n              onStart && onStart(self, tweenTo.tween);\n            }\n          } else if (self.isActive && lastSnap !== scroll) {\n            snapDelayedCall.restart(true);\n          }\n        }).pause();\n      }\n\n      id && (_ids[id] = self);\n      trigger = self.trigger = _getTarget(trigger || pin);\n      customRevertReturn = trigger && trigger._gsap && trigger._gsap.stRevert;\n      customRevertReturn && (customRevertReturn = customRevertReturn(self));\n      pin = pin === true ? trigger : _getTarget(pin);\n      _isString(toggleClass) && (toggleClass = {\n        targets: trigger,\n        className: toggleClass\n      });\n\n      if (pin) {\n        pinSpacing === false || pinSpacing === _margin || (pinSpacing = !pinSpacing && _getComputedStyle(pin.parentNode).display === \"flex\" ? false : _padding);\n        self.pin = pin;\n        vars.force3D !== false && gsap$1.set(pin, {\n          force3D: true\n        });\n        pinCache = gsap$1.core.getCache(pin);\n\n        if (!pinCache.spacer) {\n          if (pinSpacer) {\n            pinSpacer = _getTarget(pinSpacer);\n            pinSpacer && !pinSpacer.nodeType && (pinSpacer = pinSpacer.current || pinSpacer.nativeElement);\n            pinCache.spacerIsNative = !!pinSpacer;\n            pinSpacer && (pinCache.spacerState = _getState(pinSpacer));\n          }\n\n          pinCache.spacer = spacer = pinSpacer || _doc$1.createElement(\"div\");\n          spacer.classList.add(\"pin-spacer\");\n          id && spacer.classList.add(\"pin-spacer-\" + id);\n          pinCache.pinState = pinOriginalState = _getState(pin);\n        } else {\n          pinOriginalState = pinCache.pinState;\n        }\n\n        self.spacer = spacer = pinCache.spacer;\n        cs = _getComputedStyle(pin);\n        spacingStart = cs[pinSpacing + direction.os2];\n        pinGetter = gsap$1.getProperty(pin);\n        pinSetter = gsap$1.quickSetter(pin, direction.a, _px);\n\n        _swapPinIn(pin, spacer, cs);\n\n        pinState = _getState(pin);\n      }\n\n      if (markers) {\n        markerVars = _isObject(markers) ? _setDefaults(markers, _markerDefaults) : _markerDefaults;\n        markerStartTrigger = _createMarker(\"scroller-start\", id, scroller, direction, markerVars, 0);\n        markerEndTrigger = _createMarker(\"scroller-end\", id, scroller, direction, markerVars, 0, markerStartTrigger);\n        offset = markerStartTrigger[\"offset\" + direction.op.d2];\n\n        var content = _getTarget(_getProxyProp(scroller, \"content\") || scroller);\n\n        markerStart = this.markerStart = _createMarker(\"start\", id, content, direction, markerVars, offset, 0, containerAnimation);\n        markerEnd = this.markerEnd = _createMarker(\"end\", id, content, direction, markerVars, offset, 0, containerAnimation);\n        containerAnimation && (caMarkerSetter = gsap$1.quickSetter([markerStart, markerEnd], direction.a, _px));\n\n        if (!useFixedPosition && !(_proxies.length && _getProxyProp(scroller, \"fixedMarkers\") === true)) {\n          _makePositionable(isViewport ? _body$1 : scroller);\n\n          gsap$1.set([markerStartTrigger, markerEndTrigger], {\n            force3D: true\n          });\n          markerStartSetter = gsap$1.quickSetter(markerStartTrigger, direction.a, _px);\n          markerEndSetter = gsap$1.quickSetter(markerEndTrigger, direction.a, _px);\n        }\n      }\n\n      if (containerAnimation) {\n        var oldOnUpdate = containerAnimation.vars.onUpdate,\n            oldParams = containerAnimation.vars.onUpdateParams;\n        containerAnimation.eventCallback(\"onUpdate\", function () {\n          self.update(0, 0, 1);\n          oldOnUpdate && oldOnUpdate.apply(oldParams || []);\n        });\n      }\n\n      self.previous = function () {\n        return _triggers[_triggers.indexOf(self) - 1];\n      };\n\n      self.next = function () {\n        return _triggers[_triggers.indexOf(self) + 1];\n      };\n\n      self.revert = function (revert) {\n        var r = revert !== false || !self.enabled,\n            prevRefreshing = _refreshing;\n\n        if (r !== self.isReverted) {\n          if (r) {\n            self.scroll.rec || !_refreshing || !_refreshingAll || (self.scroll.rec = scrollFunc());\n            prevScroll = Math.max(scrollFunc(), self.scroll.rec || 0);\n            prevProgress = self.progress;\n            prevAnimProgress = animation && animation.progress();\n          }\n\n          markerStart && [markerStart, markerEnd, markerStartTrigger, markerEndTrigger].forEach(function (m) {\n            return m.style.display = r ? \"none\" : \"block\";\n          });\n          r && (_refreshing = 1);\n          self.update(r);\n          _refreshing = prevRefreshing;\n          pin && (r ? _swapPinOut(pin, spacer, pinOriginalState) : (!pinReparent || !self.isActive) && _swapPinIn(pin, spacer, _getComputedStyle(pin), spacerState));\n          self.isReverted = r;\n        }\n      };\n\n      self.refresh = function (soft, force) {\n        if ((_refreshing || !self.enabled) && !force) {\n          return;\n        }\n\n        if (pin && soft && _lastScrollTime) {\n          _addListener$1(ScrollTrigger, \"scrollEnd\", _softRefresh);\n\n          return;\n        }\n\n        !_refreshingAll && onRefreshInit && onRefreshInit(self);\n        _refreshing = 1;\n        lastRefresh = _getTime$1();\n\n        if (tweenTo.tween) {\n          tweenTo.tween.kill();\n          tweenTo.tween = 0;\n        }\n\n        scrubTween && scrubTween.pause();\n        invalidateOnRefresh && animation && animation.time(-0.01, true).invalidate();\n        self.isReverted || self.revert();\n\n        var size = getScrollerSize(),\n            scrollerBounds = getScrollerOffsets(),\n            max = containerAnimation ? containerAnimation.duration() : _maxScroll(scroller, direction),\n            offset = 0,\n            otherPinOffset = 0,\n            parsedEnd = vars.end,\n            parsedEndTrigger = vars.endTrigger || trigger,\n            parsedStart = vars.start || (vars.start === 0 || !trigger ? 0 : pin ? \"0 0\" : \"0 100%\"),\n            pinnedContainer = self.pinnedContainer = vars.pinnedContainer && _getTarget(vars.pinnedContainer),\n            triggerIndex = trigger && Math.max(0, _triggers.indexOf(self)) || 0,\n            i = triggerIndex,\n            cs,\n            bounds,\n            scroll,\n            isVertical,\n            override,\n            curTrigger,\n            curPin,\n            oppositeScroll,\n            initted,\n            revertedPins;\n\n        while (i--) {\n          curTrigger = _triggers[i];\n          curTrigger.end || curTrigger.refresh(0, 1) || (_refreshing = 1);\n          curPin = curTrigger.pin;\n\n          if (curPin && (curPin === trigger || curPin === pin) && !curTrigger.isReverted) {\n            revertedPins || (revertedPins = []);\n            revertedPins.unshift(curTrigger);\n            curTrigger.revert();\n          }\n\n          if (curTrigger !== _triggers[i]) {\n            triggerIndex--;\n            i--;\n          }\n        }\n\n        _isFunction(parsedStart) && (parsedStart = parsedStart(self));\n        start = _parsePosition(parsedStart, trigger, size, direction, scrollFunc(), markerStart, markerStartTrigger, self, scrollerBounds, borderWidth, useFixedPosition, max, containerAnimation) || (pin ? -0.001 : 0);\n        _isFunction(parsedEnd) && (parsedEnd = parsedEnd(self));\n\n        if (_isString(parsedEnd) && !parsedEnd.indexOf(\"+=\")) {\n          if (~parsedEnd.indexOf(\" \")) {\n            parsedEnd = (_isString(parsedStart) ? parsedStart.split(\" \")[0] : \"\") + parsedEnd;\n          } else {\n            offset = _offsetToPx(parsedEnd.substr(2), size);\n            parsedEnd = _isString(parsedStart) ? parsedStart : start + offset;\n            parsedEndTrigger = trigger;\n          }\n        }\n\n        end = Math.max(start, _parsePosition(parsedEnd || (parsedEndTrigger ? \"100% 0\" : max), parsedEndTrigger, size, direction, scrollFunc() + offset, markerEnd, markerEndTrigger, self, scrollerBounds, borderWidth, useFixedPosition, max, containerAnimation)) || -0.001;\n        change = end - start || (start -= 0.01) && 0.001;\n        offset = 0;\n        i = triggerIndex;\n\n        while (i--) {\n          curTrigger = _triggers[i];\n          curPin = curTrigger.pin;\n\n          if (curPin && curTrigger.start - curTrigger._pinPush < start && !containerAnimation && curTrigger.end > 0) {\n            cs = curTrigger.end - curTrigger.start;\n\n            if ((curPin === trigger || curPin === pinnedContainer) && !_isNumber(parsedStart)) {\n              offset += cs * (1 - curTrigger.progress);\n            }\n\n            curPin === pin && (otherPinOffset += cs);\n          }\n        }\n\n        start += offset;\n        end += offset;\n        self._pinPush = otherPinOffset;\n\n        if (markerStart && offset) {\n          cs = {};\n          cs[direction.a] = \"+=\" + offset;\n          pinnedContainer && (cs[direction.p] = \"-=\" + scrollFunc());\n          gsap$1.set([markerStart, markerEnd], cs);\n        }\n\n        if (pin) {\n          cs = _getComputedStyle(pin);\n          isVertical = direction === _vertical;\n          scroll = scrollFunc();\n          pinStart = parseFloat(pinGetter(direction.a)) + otherPinOffset;\n          !max && end > 1 && ((isViewport ? _body$1 : scroller).style[\"overflow-\" + direction.a] = \"scroll\");\n\n          _swapPinIn(pin, spacer, cs);\n\n          pinState = _getState(pin);\n          bounds = _getBounds(pin, true);\n          oppositeScroll = useFixedPosition && _getScrollFunc(scroller, isVertical ? _horizontal : _vertical)();\n\n          if (pinSpacing) {\n            spacerState = [pinSpacing + direction.os2, change + otherPinOffset + _px];\n            spacerState.t = spacer;\n            i = pinSpacing === _padding ? _getSize(pin, direction) + change + otherPinOffset : 0;\n            i && spacerState.push(direction.d, i + _px);\n\n            _setState(spacerState);\n\n            useFixedPosition && scrollFunc(prevScroll);\n          }\n\n          if (useFixedPosition) {\n            override = {\n              top: bounds.top + (isVertical ? scroll - start : oppositeScroll) + _px,\n              left: bounds.left + (isVertical ? oppositeScroll : scroll - start) + _px,\n              boxSizing: \"border-box\",\n              position: \"fixed\"\n            };\n            override[_width] = override[\"max\" + _Width] = Math.ceil(bounds.width) + _px;\n            override[_height] = override[\"max\" + _Height] = Math.ceil(bounds.height) + _px;\n            override[_margin] = override[_margin + _Top] = override[_margin + _Right] = override[_margin + _Bottom] = override[_margin + _Left] = \"0\";\n            override[_padding] = cs[_padding];\n            override[_padding + _Top] = cs[_padding + _Top];\n            override[_padding + _Right] = cs[_padding + _Right];\n            override[_padding + _Bottom] = cs[_padding + _Bottom];\n            override[_padding + _Left] = cs[_padding + _Left];\n            pinActiveState = _copyState(pinOriginalState, override, pinReparent);\n          }\n\n          if (animation) {\n            initted = animation._initted;\n\n            _suppressOverwrites(1);\n\n            animation.render(animation.duration(), true, true);\n            pinChange = pinGetter(direction.a) - pinStart + change + otherPinOffset;\n            change !== pinChange && useFixedPosition && pinActiveState.splice(pinActiveState.length - 2, 2);\n            animation.render(0, true, true);\n            initted || animation.invalidate();\n\n            _suppressOverwrites(0);\n          } else {\n            pinChange = change;\n          }\n        } else if (trigger && scrollFunc() && !containerAnimation) {\n          bounds = trigger.parentNode;\n\n          while (bounds && bounds !== _body$1) {\n            if (bounds._pinOffset) {\n              start -= bounds._pinOffset;\n              end -= bounds._pinOffset;\n            }\n\n            bounds = bounds.parentNode;\n          }\n        }\n\n        revertedPins && revertedPins.forEach(function (t) {\n          return t.revert(false);\n        });\n        self.start = start;\n        self.end = end;\n        scroll1 = scroll2 = scrollFunc();\n\n        if (!containerAnimation) {\n          scroll1 < prevScroll && scrollFunc(prevScroll);\n          self.scroll.rec = 0;\n        }\n\n        self.revert(false);\n\n        if (snapDelayedCall) {\n          lastSnap = -1;\n          self.isActive && scrollFunc(start + change * prevProgress);\n          snapDelayedCall.restart(true);\n        }\n\n        _refreshing = 0;\n        animation && isToggle && (animation._initted || prevAnimProgress) && animation.progress() !== prevAnimProgress && animation.progress(prevAnimProgress, true).render(animation.time(), true, true);\n\n        if (prevProgress !== self.progress || containerAnimation) {\n          animation && !isToggle && animation.totalProgress(prevProgress, true);\n          self.progress = prevProgress;\n          self.update(0, 0, 1);\n        }\n\n        pin && pinSpacing && (spacer._pinOffset = Math.round(self.progress * pinChange));\n        onRefresh && onRefresh(self);\n      };\n\n      self.getVelocity = function () {\n        return (scrollFunc() - scroll2) / (_getTime$1() - _time2) * 1000 || 0;\n      };\n\n      self.endAnimation = function () {\n        _endAnimation(self.callbackAnimation);\n\n        if (animation) {\n          scrubTween ? scrubTween.progress(1) : !animation.paused() ? _endAnimation(animation, animation.reversed()) : isToggle || _endAnimation(animation, self.direction < 0, 1);\n        }\n      };\n\n      self.labelToScroll = function (label) {\n        return animation && animation.labels && (start || self.refresh() || start) + animation.labels[label] / animation.duration() * change || 0;\n      };\n\n      self.getTrailing = function (name) {\n        var i = _triggers.indexOf(self),\n            a = self.direction > 0 ? _triggers.slice(0, i).reverse() : _triggers.slice(i + 1);\n\n        return (_isString(name) ? a.filter(function (t) {\n          return t.vars.preventOverlaps === name;\n        }) : a).filter(function (t) {\n          return self.direction > 0 ? t.end <= start : t.start >= end;\n        });\n      };\n\n      self.update = function (reset, recordVelocity, forceFake) {\n        if (containerAnimation && !forceFake && !reset) {\n          return;\n        }\n\n        var scroll = self.scroll(),\n            p = reset ? 0 : (scroll - start) / change,\n            clipped = p < 0 ? 0 : p > 1 ? 1 : p || 0,\n            prevProgress = self.progress,\n            isActive,\n            wasActive,\n            toggleState,\n            action,\n            stateChanged,\n            toggled,\n            isAtMax,\n            isTakingAction;\n\n        if (recordVelocity) {\n          scroll2 = scroll1;\n          scroll1 = containerAnimation ? scrollFunc() : scroll;\n\n          if (snap) {\n            snap2 = snap1;\n            snap1 = animation && !isToggle ? animation.totalProgress() : clipped;\n          }\n        }\n\n        anticipatePin && !clipped && pin && !_refreshing && !_startup$1 && _lastScrollTime && start < scroll + (scroll - scroll2) / (_getTime$1() - _time2) * anticipatePin && (clipped = 0.0001);\n\n        if (clipped !== prevProgress && self.enabled) {\n          isActive = self.isActive = !!clipped && clipped < 1;\n          wasActive = !!prevProgress && prevProgress < 1;\n          toggled = isActive !== wasActive;\n          stateChanged = toggled || !!clipped !== !!prevProgress;\n          self.direction = clipped > prevProgress ? 1 : -1;\n          self.progress = clipped;\n\n          if (stateChanged && !_refreshing) {\n            toggleState = clipped && !prevProgress ? 0 : clipped === 1 ? 1 : prevProgress === 1 ? 2 : 3;\n\n            if (isToggle) {\n              action = !toggled && toggleActions[toggleState + 1] !== \"none\" && toggleActions[toggleState + 1] || toggleActions[toggleState];\n              isTakingAction = animation && (action === \"complete\" || action === \"reset\" || action in animation);\n            }\n          }\n\n          preventOverlaps && (toggled || isTakingAction) && (isTakingAction || scrub || !animation) && (_isFunction(preventOverlaps) ? preventOverlaps(self) : self.getTrailing(preventOverlaps).forEach(function (t) {\n            return t.endAnimation();\n          }));\n\n          if (!isToggle) {\n            if (scrubTween && !_refreshing && !_startup$1) {\n              (containerAnimation || _primary && _primary !== self) && scrubTween.render(scrubTween._dp._time - scrubTween._start);\n\n              if (scrubTween.resetTo) {\n                scrubTween.resetTo(\"totalProgress\", clipped, animation._tTime / animation._tDur);\n              } else {\n                scrubTween.vars.totalProgress = clipped;\n                scrubTween.invalidate().restart();\n              }\n            } else if (animation) {\n              animation.totalProgress(clipped, !!_refreshing);\n            }\n          }\n\n          if (pin) {\n            reset && pinSpacing && (spacer.style[pinSpacing + direction.os2] = spacingStart);\n\n            if (!useFixedPosition) {\n              pinSetter(_round(pinStart + pinChange * clipped));\n            } else if (stateChanged) {\n              isAtMax = !reset && clipped > prevProgress && end + 1 > scroll && scroll + 1 >= _maxScroll(scroller, direction);\n\n              if (pinReparent) {\n                if (!reset && (isActive || isAtMax)) {\n                  var bounds = _getBounds(pin, true),\n                      _offset = scroll - start;\n\n                  _reparent(pin, _body$1, bounds.top + (direction === _vertical ? _offset : 0) + _px, bounds.left + (direction === _vertical ? 0 : _offset) + _px);\n                } else {\n                  _reparent(pin, spacer);\n                }\n              }\n\n              _setState(isActive || isAtMax ? pinActiveState : pinState);\n\n              pinChange !== change && clipped < 1 && isActive || pinSetter(pinStart + (clipped === 1 && !isAtMax ? pinChange : 0));\n            }\n          }\n\n          snap && !tweenTo.tween && !_refreshing && !_startup$1 && snapDelayedCall.restart(true);\n          toggleClass && (toggled || once && clipped && (clipped < 1 || !_limitCallbacks)) && _toArray(toggleClass.targets).forEach(function (el) {\n            return el.classList[isActive || once ? \"add\" : \"remove\"](toggleClass.className);\n          });\n          onUpdate && !isToggle && !reset && onUpdate(self);\n\n          if (stateChanged && !_refreshing) {\n            if (isToggle) {\n              if (isTakingAction) {\n                if (action === \"complete\") {\n                  animation.pause().totalProgress(1);\n                } else if (action === \"reset\") {\n                  animation.restart(true).pause();\n                } else if (action === \"restart\") {\n                  animation.restart(true);\n                } else {\n                  animation[action]();\n                }\n              }\n\n              onUpdate && onUpdate(self);\n            }\n\n            if (toggled || !_limitCallbacks) {\n              onToggle && toggled && _callback(self, onToggle);\n              callbacks[toggleState] && _callback(self, callbacks[toggleState]);\n              once && (clipped === 1 ? self.kill(false, 1) : callbacks[toggleState] = 0);\n\n              if (!toggled) {\n                toggleState = clipped === 1 ? 1 : 3;\n                callbacks[toggleState] && _callback(self, callbacks[toggleState]);\n              }\n            }\n\n            if (fastScrollEnd && !isActive && Math.abs(self.getVelocity()) > (_isNumber(fastScrollEnd) ? fastScrollEnd : 2500)) {\n              _endAnimation(self.callbackAnimation);\n\n              scrubTween ? scrubTween.progress(1) : _endAnimation(animation, !clipped, 1);\n            }\n          } else if (isToggle && onUpdate && !_refreshing) {\n            onUpdate(self);\n          }\n        }\n\n        if (markerEndSetter) {\n          var n = containerAnimation ? scroll / containerAnimation.duration() * (containerAnimation._caScrollDist || 0) : scroll;\n          markerStartSetter(n + (markerStartTrigger._isFlipped ? 1 : 0));\n          markerEndSetter(n);\n        }\n\n        caMarkerSetter && caMarkerSetter(-scroll / containerAnimation.duration() * (containerAnimation._caScrollDist || 0));\n      };\n\n      self.enable = function (reset, refresh) {\n        if (!self.enabled) {\n          self.enabled = true;\n\n          _addListener$1(scroller, \"resize\", _onResize);\n\n          _addListener$1(isViewport ? _doc$1 : scroller, \"scroll\", _onScroll$1);\n\n          onRefreshInit && _addListener$1(ScrollTrigger, \"refreshInit\", onRefreshInit);\n\n          if (reset !== false) {\n            self.progress = prevProgress = 0;\n            scroll1 = scroll2 = lastSnap = scrollFunc();\n          }\n\n          refresh !== false && self.refresh();\n        }\n      };\n\n      self.getTween = function (snap) {\n        return snap && tweenTo ? tweenTo.tween : scrubTween;\n      };\n\n      self.setPositions = function (newStart, newEnd) {\n        if (pin) {\n          pinStart += newStart - start;\n          pinChange += newEnd - newStart - change;\n        }\n\n        self.start = start = newStart;\n        self.end = end = newEnd;\n        change = newEnd - newStart;\n        self.update();\n      };\n\n      self.disable = function (reset, allowAnimation) {\n        if (self.enabled) {\n          reset !== false && self.revert();\n          self.enabled = self.isActive = false;\n          allowAnimation || scrubTween && scrubTween.pause();\n          prevScroll = 0;\n          pinCache && (pinCache.uncache = 1);\n          onRefreshInit && _removeListener$1(ScrollTrigger, \"refreshInit\", onRefreshInit);\n\n          if (snapDelayedCall) {\n            snapDelayedCall.pause();\n            tweenTo.tween && tweenTo.tween.kill() && (tweenTo.tween = 0);\n          }\n\n          if (!isViewport) {\n            var i = _triggers.length;\n\n            while (i--) {\n              if (_triggers[i].scroller === scroller && _triggers[i] !== self) {\n                return;\n              }\n            }\n\n            _removeListener$1(scroller, \"resize\", _onResize);\n\n            _removeListener$1(scroller, \"scroll\", _onScroll$1);\n          }\n        }\n      };\n\n      self.kill = function (revert, allowAnimation) {\n        self.disable(revert, allowAnimation);\n        scrubTween && !allowAnimation && scrubTween.kill();\n        id && delete _ids[id];\n\n        var i = _triggers.indexOf(self);\n\n        i >= 0 && _triggers.splice(i, 1);\n        i === _i && _direction > 0 && _i--;\n        i = 0;\n\n        _triggers.forEach(function (t) {\n          return t.scroller === self.scroller && (i = 1);\n        });\n\n        i || (self.scroll.rec = 0);\n\n        if (animation) {\n          animation.scrollTrigger = null;\n          revert && animation.render(-1);\n          allowAnimation || animation.kill();\n        }\n\n        markerStart && [markerStart, markerEnd, markerStartTrigger, markerEndTrigger].forEach(function (m) {\n          return m.parentNode && m.parentNode.removeChild(m);\n        });\n        _primary === self && (_primary = 0);\n\n        if (pin) {\n          pinCache && (pinCache.uncache = 1);\n          i = 0;\n\n          _triggers.forEach(function (t) {\n            return t.pin === pin && i++;\n          });\n\n          i || (pinCache.spacer = 0);\n        }\n\n        vars.onKill && vars.onKill(self);\n      };\n\n      self.enable(false, false);\n      customRevertReturn && customRevertReturn(self);\n      !animation || !animation.add || change ? self.refresh() : gsap$1.delayedCall(0.01, function () {\n        return start || end || self.refresh();\n      }) && (change = 0.01) && (start = end = 0);\n    };\n\n    ScrollTrigger.register = function register(core) {\n      if (!_coreInitted$1) {\n        gsap$1 = core || _getGSAP$1();\n        _windowExists() && window.document && ScrollTrigger.enable();\n        _coreInitted$1 = _enabled;\n      }\n\n      return _coreInitted$1;\n    };\n\n    ScrollTrigger.defaults = function defaults(config) {\n      if (config) {\n        for (var p in config) {\n          _defaults[p] = config[p];\n        }\n      }\n\n      return _defaults;\n    };\n\n    ScrollTrigger.disable = function disable(reset, kill) {\n      _enabled = 0;\n\n      _triggers.forEach(function (trigger) {\n        return trigger[kill ? \"kill\" : \"disable\"](reset);\n      });\n\n      _removeListener$1(_win$1, \"wheel\", _onScroll$1);\n\n      _removeListener$1(_doc$1, \"scroll\", _onScroll$1);\n\n      clearInterval(_syncInterval);\n\n      _removeListener$1(_doc$1, \"touchcancel\", _passThrough);\n\n      _removeListener$1(_body$1, \"touchstart\", _passThrough);\n\n      _multiListener(_removeListener$1, _doc$1, \"pointerdown,touchstart,mousedown\", _pointerDownHandler);\n\n      _multiListener(_removeListener$1, _doc$1, \"pointerup,touchend,mouseup\", _pointerUpHandler);\n\n      _resizeDelay.kill();\n\n      _iterateAutoRefresh(_removeListener$1);\n\n      for (var i = 0; i < _scrollers.length; i += 3) {\n        _wheelListener(_removeListener$1, _scrollers[i], _scrollers[i + 1]);\n\n        _wheelListener(_removeListener$1, _scrollers[i], _scrollers[i + 2]);\n      }\n    };\n\n    ScrollTrigger.enable = function enable() {\n      _win$1 = window;\n      _doc$1 = document;\n      _docEl$1 = _doc$1.documentElement;\n      _body$1 = _doc$1.body;\n\n      if (gsap$1) {\n        _toArray = gsap$1.utils.toArray;\n        _clamp$1 = gsap$1.utils.clamp;\n        _suppressOverwrites = gsap$1.core.suppressOverwrites || _passThrough;\n        gsap$1.core.globals(\"ScrollTrigger\", ScrollTrigger);\n\n        if (_body$1) {\n          _enabled = 1;\n          Observer.register(gsap$1);\n          ScrollTrigger.isTouch = Observer.isTouch;\n          _fixIOSBug = Observer.isTouch && /(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent);\n\n          _addListener$1(_win$1, \"wheel\", _onScroll$1);\n\n          _root$1 = [_win$1, _doc$1, _docEl$1, _body$1];\n          ScrollTrigger.matchMedia({\n            \"(orientation: portrait)\": function orientationPortrait() {\n              _setBaseDimensions();\n\n              return _setBaseDimensions;\n            }\n          });\n\n          _addListener$1(_doc$1, \"scroll\", _onScroll$1);\n\n          var bodyStyle = _body$1.style,\n              border = bodyStyle.borderTopStyle,\n              bounds,\n              i;\n          bodyStyle.borderTopStyle = \"solid\";\n          bounds = _getBounds(_body$1);\n          _vertical.m = Math.round(bounds.top + _vertical.sc()) || 0;\n          _horizontal.m = Math.round(bounds.left + _horizontal.sc()) || 0;\n          border ? bodyStyle.borderTopStyle = border : bodyStyle.removeProperty(\"border-top-style\");\n          _syncInterval = setInterval(_sync, 250);\n          gsap$1.delayedCall(0.5, function () {\n            return _startup$1 = 0;\n          });\n\n          _addListener$1(_doc$1, \"touchcancel\", _passThrough);\n\n          _addListener$1(_body$1, \"touchstart\", _passThrough);\n\n          _multiListener(_addListener$1, _doc$1, \"pointerdown,touchstart,mousedown\", _pointerDownHandler);\n\n          _multiListener(_addListener$1, _doc$1, \"pointerup,touchend,mouseup\", _pointerUpHandler);\n\n          _transformProp = gsap$1.utils.checkPrefix(\"transform\");\n\n          _stateProps.push(_transformProp);\n\n          _coreInitted$1 = _getTime$1();\n          _resizeDelay = gsap$1.delayedCall(0.2, _refreshAll).pause();\n          _autoRefresh = [_doc$1, \"visibilitychange\", function () {\n            var w = _win$1.innerWidth,\n                h = _win$1.innerHeight;\n\n            if (_doc$1.hidden) {\n              _prevWidth = w;\n              _prevHeight = h;\n            } else if (_prevWidth !== w || _prevHeight !== h) {\n              _onResize();\n            }\n          }, _doc$1, \"DOMContentLoaded\", _refreshAll, _win$1, \"load\", _refreshAll, _win$1, \"resize\", _onResize];\n\n          _iterateAutoRefresh(_addListener$1);\n\n          _triggers.forEach(function (trigger) {\n            return trigger.enable(0, 1);\n          });\n\n          for (i = 0; i < _scrollers.length; i += 3) {\n            _wheelListener(_removeListener$1, _scrollers[i], _scrollers[i + 1]);\n\n            _wheelListener(_removeListener$1, _scrollers[i], _scrollers[i + 2]);\n          }\n        }\n      }\n    };\n\n    ScrollTrigger.config = function config(vars) {\n      \"limitCallbacks\" in vars && (_limitCallbacks = !!vars.limitCallbacks);\n      var ms = vars.syncInterval;\n      ms && clearInterval(_syncInterval) || (_syncInterval = ms) && setInterval(_sync, ms);\n      \"ignoreMobileResize\" in vars && (_ignoreMobileResize = ScrollTrigger.isTouch === 1 && vars.ignoreMobileResize);\n\n      if (\"autoRefreshEvents\" in vars) {\n        _iterateAutoRefresh(_removeListener$1) || _iterateAutoRefresh(_addListener$1, vars.autoRefreshEvents || \"none\");\n        _ignoreResize = (vars.autoRefreshEvents + \"\").indexOf(\"resize\") === -1;\n      }\n    };\n\n    ScrollTrigger.scrollerProxy = function scrollerProxy(target, vars) {\n      var t = _getTarget(target),\n          i = _scrollers.indexOf(t),\n          isViewport = _isViewport$1(t);\n\n      if (~i) {\n        _scrollers.splice(i, isViewport ? 6 : 2);\n      }\n\n      if (vars) {\n        isViewport ? _proxies.unshift(_win$1, vars, _body$1, vars, _docEl$1, vars) : _proxies.unshift(t, vars);\n      }\n    };\n\n    ScrollTrigger.matchMedia = function matchMedia(vars) {\n      var mq, p, i, func, result;\n\n      for (p in vars) {\n        i = _media.indexOf(p);\n        func = vars[p];\n        _creatingMedia = p;\n\n        if (p === \"all\") {\n          func();\n        } else {\n          mq = _win$1.matchMedia(p);\n\n          if (mq) {\n            mq.matches && (result = func());\n\n            if (~i) {\n              _media[i + 1] = _combineFunc(_media[i + 1], func);\n              _media[i + 2] = _combineFunc(_media[i + 2], result);\n            } else {\n              i = _media.length;\n\n              _media.push(p, func, result);\n\n              mq.addListener ? mq.addListener(_onMediaChange) : mq.addEventListener(\"change\", _onMediaChange);\n            }\n\n            _media[i + 3] = mq.matches;\n          }\n        }\n\n        _creatingMedia = 0;\n      }\n\n      return _media;\n    };\n\n    ScrollTrigger.clearMatchMedia = function clearMatchMedia(query) {\n      query || (_media.length = 0);\n      query = _media.indexOf(query);\n      query >= 0 && _media.splice(query, 4);\n    };\n\n    ScrollTrigger.isInViewport = function isInViewport(element, ratio, horizontal) {\n      var bounds = (_isString(element) ? _getTarget(element) : element).getBoundingClientRect(),\n          offset = bounds[horizontal ? _width : _height] * ratio || 0;\n      return horizontal ? bounds.right - offset > 0 && bounds.left + offset < _win$1.innerWidth : bounds.bottom - offset > 0 && bounds.top + offset < _win$1.innerHeight;\n    };\n\n    ScrollTrigger.positionInViewport = function positionInViewport(element, referencePoint, horizontal) {\n      _isString(element) && (element = _getTarget(element));\n      var bounds = element.getBoundingClientRect(),\n          size = bounds[horizontal ? _width : _height],\n          offset = referencePoint == null ? size / 2 : referencePoint in _keywords ? _keywords[referencePoint] * size : ~referencePoint.indexOf(\"%\") ? parseFloat(referencePoint) * size / 100 : parseFloat(referencePoint) || 0;\n      return horizontal ? (bounds.left + offset) / _win$1.innerWidth : (bounds.top + offset) / _win$1.innerHeight;\n    };\n\n    return ScrollTrigger;\n  }();\n  ScrollTrigger$1.version = \"3.10.4\";\n\n  ScrollTrigger$1.saveStyles = function (targets) {\n    return targets ? _toArray(targets).forEach(function (target) {\n      if (target && target.style) {\n        var i = _savedStyles.indexOf(target);\n\n        i >= 0 && _savedStyles.splice(i, 5);\n\n        _savedStyles.push(target, target.style.cssText, target.getBBox && target.getAttribute(\"transform\"), gsap$1.core.getCache(target), _creatingMedia);\n      }\n    }) : _savedStyles;\n  };\n\n  ScrollTrigger$1.revert = function (soft, media) {\n    return _revertAll(!soft, media);\n  };\n\n  ScrollTrigger$1.create = function (vars, animation) {\n    return new ScrollTrigger$1(vars, animation);\n  };\n\n  ScrollTrigger$1.refresh = function (safe) {\n    return safe ? _onResize() : (_coreInitted$1 || ScrollTrigger$1.register()) && _refreshAll(true);\n  };\n\n  ScrollTrigger$1.update = _updateAll;\n  ScrollTrigger$1.clearScrollMemory = _clearScrollMemory;\n\n  ScrollTrigger$1.maxScroll = function (element, horizontal) {\n    return _maxScroll(element, horizontal ? _horizontal : _vertical);\n  };\n\n  ScrollTrigger$1.getScrollFunc = function (element, horizontal) {\n    return _getScrollFunc(_getTarget(element), horizontal ? _horizontal : _vertical);\n  };\n\n  ScrollTrigger$1.getById = function (id) {\n    return _ids[id];\n  };\n\n  ScrollTrigger$1.getAll = function () {\n    return _triggers.filter(function (t) {\n      return t.vars.id !== \"ScrollSmoother\";\n    });\n  };\n\n  ScrollTrigger$1.isScrolling = function () {\n    return !!_lastScrollTime;\n  };\n\n  ScrollTrigger$1.snapDirectional = _snapDirectional;\n\n  ScrollTrigger$1.addEventListener = function (type, callback) {\n    var a = _listeners[type] || (_listeners[type] = []);\n    ~a.indexOf(callback) || a.push(callback);\n  };\n\n  ScrollTrigger$1.removeEventListener = function (type, callback) {\n    var a = _listeners[type],\n        i = a && a.indexOf(callback);\n    i >= 0 && a.splice(i, 1);\n  };\n\n  ScrollTrigger$1.batch = function (targets, vars) {\n    var result = [],\n        varsCopy = {},\n        interval = vars.interval || 0.016,\n        batchMax = vars.batchMax || 1e9,\n        proxyCallback = function proxyCallback(type, callback) {\n      var elements = [],\n          triggers = [],\n          delay = gsap$1.delayedCall(interval, function () {\n        callback(elements, triggers);\n        elements = [];\n        triggers = [];\n      }).pause();\n      return function (self) {\n        elements.length || delay.restart(true);\n        elements.push(self.trigger);\n        triggers.push(self);\n        batchMax <= elements.length && delay.progress(1);\n      };\n    },\n        p;\n\n    for (p in vars) {\n      varsCopy[p] = p.substr(0, 2) === \"on\" && _isFunction(vars[p]) && p !== \"onRefreshInit\" ? proxyCallback(p, vars[p]) : vars[p];\n    }\n\n    if (_isFunction(batchMax)) {\n      batchMax = batchMax();\n\n      _addListener$1(ScrollTrigger$1, \"refresh\", function () {\n        return batchMax = vars.batchMax();\n      });\n    }\n\n    _toArray(targets).forEach(function (target) {\n      var config = {};\n\n      for (p in varsCopy) {\n        config[p] = varsCopy[p];\n      }\n\n      config.trigger = target;\n      result.push(ScrollTrigger$1.create(config));\n    });\n\n    return result;\n  };\n\n  var _clampScrollAndGetDurationMultiplier = function _clampScrollAndGetDurationMultiplier(scrollFunc, current, end, max) {\n    current > max ? scrollFunc(max) : current < 0 && scrollFunc(0);\n    return end > max ? (max - current) / (end - current) : end < 0 ? current / (current - end) : 1;\n  },\n      _allowNativePanning = function _allowNativePanning(target, direction) {\n    if (direction === true) {\n      target.style.removeProperty(\"touch-action\");\n    } else {\n      target.style.touchAction = direction === true ? \"auto\" : direction ? \"pan-\" + direction + (Observer.isTouch ? \" pinch-zoom\" : \"\") : \"none\";\n    }\n\n    target === _docEl$1 && _allowNativePanning(_body$1, direction);\n  },\n      _overflow = {\n    auto: 1,\n    scroll: 1\n  },\n      _nestedScroll = function _nestedScroll(_ref5) {\n    var event = _ref5.event,\n        target = _ref5.target,\n        axis = _ref5.axis;\n\n    var node = (event.changedTouches ? event.changedTouches[0] : event).target,\n        cache = node._gsap || gsap$1.core.getCache(node),\n        time = _getTime$1(),\n        cs;\n\n    if (!cache._isScrollT || time - cache._isScrollT > 2000) {\n      while (node && node.scrollHeight <= node.clientHeight) {\n        node = node.parentNode;\n      }\n\n      cache._isScroll = node && !_isViewport$1(node) && node !== target && (_overflow[(cs = _getComputedStyle(node)).overflowY] || _overflow[cs.overflowX]);\n      cache._isScrollT = time;\n    }\n\n    (cache._isScroll || axis === \"x\") && (event._gsapAllow = true);\n  },\n      _inputObserver = function _inputObserver(target, type, inputs, nested) {\n    return Observer.create({\n      target: target,\n      capture: true,\n      debounce: false,\n      lockAxis: true,\n      type: type,\n      onWheel: nested = nested && _nestedScroll,\n      onPress: nested,\n      onDrag: nested,\n      onScroll: nested,\n      onEnable: function onEnable() {\n        return inputs && _addListener$1(_doc$1, Observer.eventTypes[0], _captureInputs, false, true);\n      },\n      onDisable: function onDisable() {\n        return _removeListener$1(_doc$1, Observer.eventTypes[0], _captureInputs, true);\n      }\n    });\n  },\n      _inputExp = /(input|label|select|textarea)/i,\n      _inputIsFocused,\n      _captureInputs = function _captureInputs(e) {\n    var isInput = _inputExp.test(e.target.tagName);\n\n    if (isInput || _inputIsFocused) {\n      e._gsapAllow = true;\n      _inputIsFocused = isInput;\n    }\n  },\n      _getScrollNormalizer = function _getScrollNormalizer(vars) {\n    _isObject(vars) || (vars = {});\n    vars.preventDefault = vars.isNormalizer = vars.allowClicks = true;\n    vars.type || (vars.type = \"wheel,touch\");\n    vars.debounce = !!vars.debounce;\n    vars.id = vars.id || \"normalizer\";\n\n    var _vars2 = vars,\n        normalizeScrollX = _vars2.normalizeScrollX,\n        momentum = _vars2.momentum,\n        allowNestedScroll = _vars2.allowNestedScroll,\n        self,\n        maxY,\n        target = _getTarget(vars.target) || _docEl$1,\n        smoother = gsap$1.core.globals().ScrollSmoother,\n        content = _fixIOSBug && (vars.content && _getTarget(vars.content) || smoother && smoother.get() && smoother.get().content()),\n        scrollFuncY = _getScrollFunc(target, _vertical),\n        scrollFuncX = _getScrollFunc(target, _horizontal),\n        scale = 1,\n        initialScale = (Observer.isTouch && _win$1.visualViewport ? _win$1.visualViewport.scale * _win$1.visualViewport.width : _win$1.outerWidth) / _win$1.innerWidth,\n        wheelRefresh = 0,\n        resolveMomentumDuration = _isFunction(momentum) ? function () {\n      return momentum(self);\n    } : function () {\n      return momentum || 2.8;\n    },\n        skipTouchMove,\n        lastRefreshID,\n        inputObserver = _inputObserver(target, vars.type, true, allowNestedScroll),\n        resumeTouchMove = function resumeTouchMove() {\n      return skipTouchMove = false;\n    },\n        scrollClampX = _passThrough,\n        scrollClampY = _passThrough,\n        updateClamps = function updateClamps() {\n      maxY = _maxScroll(target, _vertical);\n      scrollClampY = _clamp$1(_fixIOSBug ? 1 : 0, maxY);\n      normalizeScrollX && (scrollClampX = _clamp$1(0, _maxScroll(target, _horizontal)));\n      lastRefreshID = _refreshID;\n    },\n        ignoreDrag = function ignoreDrag() {\n      if (skipTouchMove) {\n        requestAnimationFrame(resumeTouchMove);\n\n        var offset = _round(self.deltaY / 2),\n            scroll = scrollClampY(scrollFuncY.v - offset);\n\n        if (content && scroll !== scrollFuncY.v + scrollFuncY.offset) {\n          scrollFuncY.offset = scroll - scrollFuncY.v;\n          content.style.transform = \"translateY(\" + -scrollFuncY.offset + \"px)\";\n          content._gsap && (content._gsap.y = -scrollFuncY.offset + \"px\");\n          scrollFuncY.cacheID = _scrollers.cache;\n\n          _updateAll();\n        }\n\n        return true;\n      }\n\n      if (content) {\n        content.style.transform = \"translateY(0px)\";\n        scrollFuncY.offset = scrollFuncY.cacheID = 0;\n        content._gsap && (content._gsap.y = \"0px\");\n      }\n\n      skipTouchMove = true;\n    },\n        tween,\n        startScrollX,\n        startScrollY,\n        onStopDelayedCall,\n        onResize = function onResize() {\n      updateClamps();\n\n      if (tween.isActive() && tween.vars.scrollY > maxY) {\n        scrollFuncY() > maxY ? tween.progress(1) && scrollFuncY(maxY) : tween.resetTo(\"scrollY\", maxY);\n      }\n    };\n\n    vars.ignoreCheck = function (e) {\n      return _fixIOSBug && e.type === \"touchmove\" && ignoreDrag() || scale > 1.05 && e.type !== \"touchstart\" || self.isGesturing || e.touches && e.touches.length > 1;\n    };\n\n    vars.onPress = function () {\n      var prevScale = scale;\n      scale = _round((_win$1.visualViewport && _win$1.visualViewport.scale || 1) / initialScale);\n      tween.pause();\n      prevScale !== scale && _allowNativePanning(target, scale > 1.01 ? true : normalizeScrollX ? false : \"x\");\n      skipTouchMove = false;\n      startScrollX = scrollFuncX();\n      startScrollY = scrollFuncY();\n      updateClamps();\n      lastRefreshID = _refreshID;\n    };\n\n    vars.onRelease = vars.onGestureStart = function (self, wasDragging) {\n      if (content) {\n        content.style.transform = \"translateY(0px)\";\n        scrollFuncY.offset = scrollFuncY.cacheID = 0;\n        content._gsap && (content._gsap.y = \"0px\");\n      }\n\n      if (!wasDragging) {\n        onStopDelayedCall.restart(true);\n      } else {\n        _scrollers.cache++;\n        var dur = resolveMomentumDuration(),\n            currentScroll,\n            endScroll;\n\n        if (normalizeScrollX) {\n          currentScroll = scrollFuncX();\n          endScroll = currentScroll + dur * 0.05 * -self.velocityX / 0.227;\n          dur *= _clampScrollAndGetDurationMultiplier(scrollFuncX, currentScroll, endScroll, _maxScroll(target, _horizontal));\n          tween.vars.scrollX = scrollClampX(endScroll);\n        }\n\n        currentScroll = scrollFuncY();\n        endScroll = currentScroll + dur * 0.05 * -self.velocityY / 0.227;\n        dur *= _clampScrollAndGetDurationMultiplier(scrollFuncY, currentScroll, endScroll, _maxScroll(target, _vertical));\n        tween.vars.scrollY = scrollClampY(endScroll);\n        tween.invalidate().duration(dur).play(0.01);\n\n        if (_fixIOSBug && tween.vars.scrollY >= maxY || currentScroll >= maxY - 1) {\n          gsap$1.to({}, {\n            onUpdate: onResize,\n            duration: dur\n          });\n        }\n      }\n    };\n\n    vars.onWheel = function () {\n      tween._ts && tween.pause();\n\n      if (_getTime$1() - wheelRefresh > 1000) {\n        lastRefreshID = 0;\n        wheelRefresh = _getTime$1();\n      }\n    };\n\n    vars.onChange = function (self, dx, dy, xArray, yArray) {\n      _refreshID !== lastRefreshID && updateClamps();\n      dx && normalizeScrollX && scrollFuncX(scrollClampX(xArray[2] === dx ? startScrollX + (self.startX - self.x) : scrollFuncX() + dx - xArray[1]));\n      dy && scrollFuncY(scrollClampY(yArray[2] === dy ? startScrollY + (self.startY - self.y) : scrollFuncY() + dy - yArray[1]));\n\n      _updateAll();\n    };\n\n    vars.onEnable = function () {\n      _allowNativePanning(target, normalizeScrollX ? false : \"x\");\n\n      _addListener$1(_win$1, \"resize\", onResize);\n\n      inputObserver.enable();\n    };\n\n    vars.onDisable = function () {\n      _allowNativePanning(target, true);\n\n      _removeListener$1(_win$1, \"resize\", onResize);\n\n      inputObserver.kill();\n    };\n\n    self = new Observer(vars);\n    self.iOS = _fixIOSBug;\n    _fixIOSBug && !scrollFuncY() && scrollFuncY(1);\n    onStopDelayedCall = self._dc;\n    tween = gsap$1.to(self, {\n      ease: \"power4\",\n      paused: true,\n      scrollX: normalizeScrollX ? \"+=0.1\" : \"+=0\",\n      scrollY: \"+=0.1\",\n      onComplete: onStopDelayedCall.vars.onComplete\n    });\n    return self;\n  };\n\n  ScrollTrigger$1.sort = function (func) {\n    return _triggers.sort(func || function (a, b) {\n      return (a.vars.refreshPriority || 0) * -1e6 + a.start - (b.start + (b.vars.refreshPriority || 0) * -1e6);\n    });\n  };\n\n  ScrollTrigger$1.observe = function (vars) {\n    return new Observer(vars);\n  };\n\n  ScrollTrigger$1.normalizeScroll = function (vars) {\n    if (typeof vars === \"undefined\") {\n      return _normalizer$1;\n    }\n\n    if (vars === true && _normalizer$1) {\n      return _normalizer$1.enable();\n    }\n\n    if (vars === false) {\n      return _normalizer$1 && _normalizer$1.kill();\n    }\n\n    var normalizer = vars instanceof Observer ? vars : _getScrollNormalizer(vars);\n    _normalizer$1 && _normalizer$1.target === normalizer.target && _normalizer$1.kill();\n    _isViewport$1(normalizer.target) && (_normalizer$1 = normalizer);\n    return normalizer;\n  };\n\n  ScrollTrigger$1.core = {\n    _getVelocityProp: _getVelocityProp,\n    _inputObserver: _inputObserver,\n    _scrollers: _scrollers,\n    _proxies: _proxies,\n    bridge: {\n      ss: function ss() {\n        _lastScrollTime || _dispatch(\"scrollStart\");\n        _lastScrollTime = _getTime$1();\n      },\n      ref: function ref() {\n        return _refreshing;\n      }\n    }\n  };\n  _getGSAP$1() && gsap$1.registerPlugin(ScrollTrigger$1);\n\n  exports.ScrollTrigger = ScrollTrigger$1;\n  exports.default = ScrollTrigger$1;\n\n  if (typeof(window) === 'undefined' || window !== exports) {Object.defineProperty(exports, '__esModule', { value: true });} else {delete window.default;}\n\n})));\n","import gsap from \"gsap\";\nimport { SplitText } from \"gsap/dist/SplitText\";\nimport Swiper, { Navigation, Pagination } from \"swiper\";\nimport ThreeDSliderModels from \"./3dSliderModels\";\n\ngsap.registerPlugin(SplitText);\n\nexport default class ThreeDSlider {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-3d-slider-wrapper\",\n            slider: \".js-3d-slider\",\n            next: \".js-3d-slider-next\",\n            prev: \".js-3d-slider-prev\",\n            pagination: \".js-3d-slider-pagination\",\n            primaryTitle: \".js-slide-title-primary\",\n            secondaryTitle: \".js-slide-title-secondary\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n    }\n\n    init() {\n        if (!this.wrapper) return;\n        this.models = new ThreeDSliderModels(this.wrapper);\n\n        const slider = this.wrapper.querySelector(this.DOM.slider);\n        const next = this.wrapper.querySelector(this.DOM.next);\n        const prev = this.wrapper.querySelector(this.DOM.prev);\n        const pagination = this.wrapper.querySelector(this.DOM.pagination);\n\n        const swiper = new Swiper(slider, {\n            modules: [Navigation, Pagination],\n            loop: false,\n            pagination: {\n                el: pagination,\n                clickable: false,\n                renderBullet: (index, className) => {\n                    return `\n                        <span class=\"${className}\">\n                            <span>\n                                <svg class=\"u-icon\" viewBox=\"0 0 12 19\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M6.18029 18.7476C9.98524 18.7476 11.5688 15.6579 11.5688 10.0807V8.66682C11.5688 3.08968 9.98524 0 6.18029 0H5.38851C1.60556 0 0 3.0635 0 8.66682V10.0807C0 15.6841 1.60556 18.7476 5.38851 18.7476H6.18029ZM5.47649 16.3387C3.34308 16.3387 2.30936 14.4272 2.30936 10.6044V8.14315C2.30936 4.32032 3.34308 2.4089 5.47649 2.4089H6.11431C8.24772 2.4089 9.28143 4.32032 9.28143 8.14315V10.6044C9.28143 14.4272 8.24772 16.3387 6.11431 16.3387H5.47649Z\"/>\n                                </svg>\n                            </span>\n                            <span>\n                                <svg class=\"u-icon\" viewBox=\"0 0 8 19\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M2.6973 1.57724L0.851562 0H7.27867L5.43294 1.57724V16.7863L7.27867 18.3635H0.851562L2.6973 16.7863V1.57724Z\"/>\n                                </svg>\n                            </span>\n                        </span>`;\n                },\n            },\n            navigation: {\n                nextEl: next,\n                prevEl: prev,\n            },\n            on: {\n                slideChange: (swiper) => {\n                    this.animateTitles(swiper);\n\n                    this.models.changeSlide(swiper.activeIndex, swiper.previousIndex);\n                },\n                afterInit: (swiper) => {\n                    this.models.init();\n\n                    swiper.slides.forEach((slide, index) => this.models.initModel(slide, index));\n\n                    this.onScrollAnimation(swiper.slides[0], swiper);\n                },\n            },\n        });\n\n        swiper.slides.forEach((slide) => {\n            const titlePrimary = slide.querySelector(this.DOM.primaryTitle);\n            const titleSecondary = slide.querySelector(this.DOM.secondaryTitle);\n\n            const splitPrimary = new SplitText(titlePrimary, {\n                type: \"chars\",\n                charsClass: \"split-text-char\",\n            });\n\n            const splitSecondary = new SplitText(titleSecondary, {\n                type: \"chars\",\n                charsClass: \"split-text-char\",\n            });\n\n            gsap.set(splitPrimary.chars, {\n                visibility: \"hidden\",\n            });\n        });\n    }\n\n    animateTitles(swiper) {\n        this.animateTitleIn(swiper.slides[swiper.activeIndex]);\n\n        if (swiper.slides[swiper.previousIndex]) {\n            this.animateTitleOut(swiper.slides[swiper.previousIndex]);\n        }\n    }\n\n    animateTitleIn(slide) {\n        const titlePrimaryChars = slide.querySelector(this.DOM.primaryTitle).querySelectorAll(\".split-text-char\");\n        const titleSecondaryChars = slide.querySelector(this.DOM.secondaryTitle).querySelectorAll(\".split-text-char\");\n\n        gsap.to(titlePrimaryChars, {\n            visibility: \"visible\",\n            delay: 0.6,\n            duration: 0.2,\n            stagger: {\n                each: 0.05,\n                from: \"center\",\n            },\n        });\n\n        gsap.to(titleSecondaryChars, {\n            visibility: \"hidden\",\n            delay: 0.4,\n            duration: 0.2,\n            stagger: {\n                each: 0.05,\n                from: \"center\",\n            },\n        });\n    }\n\n    animateTitleOut(slide) {\n        const titlePrimaryChars = slide.querySelector(this.DOM.primaryTitle).querySelectorAll(\".split-text-char\");\n        const titleSecondaryChars = slide.querySelector(this.DOM.secondaryTitle).querySelectorAll(\".split-text-char\");\n\n        gsap.to(titlePrimaryChars, {\n            visibility: \"hidden\",\n        });\n\n        gsap.to(titleSecondaryChars, {\n            visibility: \"visible\",\n        });\n    }\n\n    onScrollAnimation(firstSlide, swiper) {\n        if (!firstSlide) return;\n\n        gsap.fromTo(\n            firstSlide,\n            {\n                x: \"100%\",\n                autoAlpha: 0,\n            },\n            {\n                x: \"0%\",\n                autoAlpha: 1,\n                ease: \"power4.out\",\n                duration: 1.2,\n                scrollTrigger: {\n                    trigger: this.wrapper,\n                    start: \"top 40%\",\n                    end: \"bottom bottom\",\n                },\n                onStart: () => this.animateTitles(swiper),\n            },\n        );\n    }\n}\n","import gsap from \"gsap\";\nimport * as THREE from \"three\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\nimport is from \"is_js\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class ThreeDSliderModels {\n    constructor(wrapper) {\n        this.DOM = {\n            models: \".js-3d-slider-models\",\n            slide: \".js-3d-slider-slide\",\n        };\n\n        this.models = wrapper.querySelector(this.DOM.models);\n\n        // config\n        this.config = {\n            modelOffset: 6,\n            modelScale: 1,\n        };\n    }\n\n    init() {\n        if (!this.models) return;\n\n        this.modelsArray = [];\n\n        this.modelsWrapper = new THREE.Object3D();\n\n        this.loader = new GLTFLoader();\n\n        // loader\n        const dracoLoader = new DRACOLoader();\n        dracoLoader.setDecoderPath(window.dracoPath);\n        dracoLoader.setDecoderConfig({\n            type: \"js\",\n        });\n        this.loader.setDRACOLoader(dracoLoader);\n\n        THREE.Cache.enabled = true;\n\n        this.resizeModels();\n\n        this.width = this.models.offsetWidth;\n        this.height = this.models.offsetHeight;\n\n        this.initCamera();\n        this.initScene();\n        this.initLights();\n        this.initRenderer();\n        this.animate();\n        this.onScrollAnimation();\n\n        if (!is.mobile()) {\n            this.mouseMove();\n        }\n\n        this.scene.add(this.modelsWrapper);\n\n        // handle resize\n        window.addEventListener(\"resize\", () => this.onWindowResize(), false);\n    }\n\n    onScrollAnimation() {\n        gsap.timeline({\n            scrollTrigger: {\n                trigger: this.models,\n                start: \"top 30%\",\n                end: \"bottom bottom\",\n            },\n        })\n            .add(\"start\")\n            .fromTo(\n                this.modelsWrapper.position,\n                {\n                    y: -3,\n                },\n                {\n                    y: 0,\n                    ease: \"power4.out\",\n                    duration: 1,\n                },\n                \"start\",\n            )\n            .fromTo(\n                this.modelsWrapper.rotation,\n                {\n                    x: -3,\n                },\n                {\n                    x: 0,\n                    ease: \"power4.out\",\n                    duration: 1,\n                },\n                \"start\",\n            );\n    }\n\n    resizeModels() {\n        ScrollTrigger.matchMedia({\n            \"(min-width: 1100px)\": () => {\n                if (this.config.modelScale !== 0.9) {\n                    this.config.modelScale = 0.9;\n                }\n            },\n            \"(max-width: 801px)\": () => {\n                if (this.config.modelScale !== 0.7) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n            \"(max-width: 600px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n            \"(max-width: 475px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n        });\n    }\n\n    mouseMove() {\n        const halfHeight = this.height / 2;\n        const singlePercentCoefficient = 0.05 / halfHeight;\n\n        window.addEventListener(\"mousemove\", (ev) => {\n            let mouseY = ev.clientY;\n\n            gsap.to(this.yellowLight.position, {\n                y: -1 - (mouseY - window.innerHeight) / 400,\n            });\n\n            gsap.to(this.blueLight.position, {\n                y: -(mouseY - window.innerHeight) / 400,\n            });\n\n            gsap.to(this.modelsWrapper.rotation, {\n                x: -singlePercentCoefficient * (halfHeight - ev.clientY),\n                delay: 0.1,\n            });\n        });\n    }\n\n    /**\n     * camera setup\n     */\n    initCamera() {\n        this.camera = new THREE.PerspectiveCamera(35, this.width / this.height, 0.5, 100);\n        this.camera.position.set(0, 0, 6);\n        this.camera.lookAt(0, 0, 0);\n    }\n\n    /**\n     * scene setup\n     */\n    initScene() {\n        this.scene = new THREE.Scene();\n    }\n\n    /**\n     * lights setup - because of performance > all in one object\n     */\n    initLights() {\n        const lightWrapper = new THREE.Object3D();\n\n        this.yellowLight = new THREE.PointLight(0xfeb301, 5, 4);\n        this.yellowLight.position.set(-1, 1, 2);\n\n        this.blueLight = new THREE.PointLight(0x2400ff, 5, 2);\n        this.blueLight.position.set(1, 0, 1);\n\n        lightWrapper.add(this.blueLight);\n        lightWrapper.add(this.yellowLight);\n\n        this.scene.add(lightWrapper);\n    }\n\n    /**\n     * renderer setup\n     */\n    initRenderer() {\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            powerPreference: \"high-performance\",\n            alpha: true,\n        });\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        this.renderer.setClearColor(0x000000, 0);\n        this.renderer.setPixelRatio(window.devicePixelRatio > 2 ? 2 : window.devicePixelRatio);\n        this.renderer.setSize(this.width, this.height);\n        this.renderer.physicallyCorrectLights = true;\n        this.models.appendChild(this.renderer.domElement);\n    }\n\n    /**\n     * model setup and load call\n     */\n    initModel(slide, index) {\n        if (!slide) return;\n\n        this.loader.load(\n            slide.dataset.model,\n            (gltf) => {\n                gltf.scene.rotation.y = -Math.PI / 2;\n\n                gltf.scene.position.x = index * this.config.modelOffset;\n\n                gltf.scene.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale);\n\n                gltf.scene.uuid = index;\n\n                this.modelsArray.push(gltf.scene);\n\n                this.modelsWrapper.add(gltf.scene);\n            },\n            (xhr) => {\n                // console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\n            },\n            (error) => {\n                // console.log(\"An error happened\");\n            },\n        );\n    }\n\n    /**\n     *\n     */\n    onWindowResize() {\n        this.resizeModels();\n\n        this.modelsWrapper.children.forEach((model) => model.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale));\n\n        this.camera.aspect = this.models.offsetWidth / this.models.offsetHeight;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize(this.models.offsetWidth, this.models.offsetHeight);\n    }\n\n    /**\n     * requestAnimationFrame\n     */\n    animate() {\n        let raf = null;\n\n        const animate = () => {\n            this.renderer.render(this.scene, this.camera);\n            if (this.renderer != null) {\n                raf = requestAnimationFrame(animate);\n            }\n        };\n\n        ScrollTrigger.create({\n            trigger: this.models,\n            start: \"top bottom\",\n            end: \"bottom top\",\n            onEnter: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeave: () => {\n                cancelAnimationFrame(raf);\n            },\n            onEnterBack: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeaveBack: () => {\n                cancelAnimationFrame(raf);\n            },\n        });\n    }\n\n    changeSlide(index, prevIndex) {\n        const model = this.modelsArray.find((model) => model.uuid === index);\n        const prevModel = this.modelsArray.find((model) => model.uuid === prevIndex);\n\n        const direction = prevIndex > index ? 1 : -1;\n\n        gsap.timeline()\n            .add(\"start\")\n            .to(\n                this.modelsWrapper.position,\n                {\n                    x: -index * this.config.modelOffset,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            )\n            .fromTo(\n                model.rotation,\n                {\n                    y: -Math.PI / 2 + 2.5 * direction,\n                },\n                {\n                    y: -Math.PI / 2,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            )\n            .fromTo(\n                prevModel.rotation,\n                {\n                    y: -Math.PI / 2,\n                },\n                {\n                    y: -Math.PI / 2 + -2.5 * direction,\n                    duration: 2,\n                    ease: \"power4.out\",\n                },\n                \"start\",\n            );\n    }\n}\n","import gsap from \"gsap\";\nimport is from \"is_js\";\n\nexport default class Cursor {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-cursor\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n        this.moved = false;\n    }\n\n    init() {\n        if (!this.wrapper || is.touchDevice()) return;\n\n        const offsetY = this.wrapper.offsetHeight * 0.5;\n        const offsetX = this.wrapper.offsetWidth * 0.05;\n\n        window.addEventListener(\"pointermove\", (ev) => {\n            if (!this.moved) {\n                this.moved = true;\n                this.wrapper.classList.add(\"is-moved\");\n            }\n\n            gsap.set(this.wrapper, {\n                x: ev.clientX - offsetX,\n                y: ev.clientY - offsetY,\n            });\n        });\n\n        window.addEventListener(\"mouseout\", (ev) => {\n            this.moved = false;\n            this.wrapper.classList.remove(\"is-moved\");\n        });\n\n        document.querySelectorAll(\"a\").forEach((link) => {\n            this.singleLink(link);\n        });\n\n        document.querySelectorAll(\".has-hover\").forEach((link) => {\n            this.singleLink(link);\n        });\n    }\n\n    singleLink(link) {\n        link.addEventListener(\"mouseenter\", () => {\n            this.wrapper.classList.add(\"is-active\");\n        });\n\n        link.addEventListener(\"mouseleave\", () => {\n            this.wrapper.classList.remove(\"is-active\");\n        });\n    }\n}\n","import gsap from \"gsap\";\nimport ScrollTrigger from \"gsap/dist/ScrollTrigger\";\nimport { SplitText } from \"gsap/dist/SplitText\";\n\ngsap.registerPlugin(ScrollTrigger, SplitText);\n\nexport default class FlickeringText {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-flickering-text\",\n        };\n\n        this.wrappers = document.querySelectorAll(this.DOM.wrapper);\n    }\n\n    init() {\n        if (this.wrappers.length < 1) return;\n\n        this.wrappers.forEach((wrapper) => this.singleWrapper(wrapper));\n    }\n\n    singleWrapper(wrapper) {\n        const split = new SplitText(wrapper, {\n            type: \"words\",\n            wordsClass: \"u-split-text-word\",\n        });\n\n        this.animateIn(split.words, wrapper);\n\n        const texts = wrapper.querySelectorAll(\"b\");\n\n        if (texts.length < 1) return;\n\n        texts.forEach((text) => {\n            gsap.timeline({\n                delay: 1,\n                scrollTrigger: {\n                    trigger: text,\n                    start: \"top 90%\",\n                },\n            })\n                .to(text, {\n                    classList: \"is-serif\",\n                    duration: 0.05,\n                })\n                .to(text, {\n                    classList: \"\",\n                    duration: 0.05,\n                })\n                .to(text, {\n                    classList: \"is-serif\",\n                    duration: 0.075,\n                })\n                .to(text, {\n                    classList: \"\",\n                    duration: 0.075,\n                })\n                .to(text, {\n                    classList: \"is-serif\",\n                    duration: 0.1,\n                });\n        });\n    }\n\n    animateIn(words, wrapper) {\n        gsap.set(words, {\n            autoAlpha: 0,\n        });\n\n        gsap.fromTo(\n            words,\n            {\n                y: \"20%\",\n                autoAlpha: 0,\n            },\n            {\n                y: \"0%\",\n                autoAlpha: 1,\n                ease: \"power4.out\",\n                stagger: 0.05,\n                scrollTrigger: {\n                    trigger: wrapper,\n                    start: \"top 90%\",\n                    end: \"bottom top\",\n                },\n            },\n        );\n    }\n}\n","import gsap from \"gsap\";\nimport * as THREE from \"three\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\nimport is from \"is_js\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class HeaderModel {\n    constructor() {\n        this.DOM = {\n            wrapper: \".js-header-model-wrapper\",\n            header: \".js-header\",\n        };\n\n        this.wrapper = document.querySelector(this.DOM.wrapper);\n        this.header = document.querySelector(this.DOM.header);\n        this.model = null;\n\n        // config\n        this.config = {\n            modelOffset: 6,\n            modelScale: 1,\n        };\n    }\n\n    init() {\n        if (!this.wrapper) return;\n\n        this.loader = new GLTFLoader();\n\n        // loader\n        const dracoLoader = new DRACOLoader();\n        dracoLoader.setDecoderPath(window.dracoPath);\n        dracoLoader.setDecoderConfig({\n            type: \"js\",\n        });\n        this.loader.setDRACOLoader(dracoLoader);\n\n        THREE.Cache.enabled = true;\n\n        this.resizeModels();\n\n        this.width = this.wrapper.offsetWidth;\n        this.height = this.wrapper.offsetHeight;\n\n        this.initCamera();\n        this.initScene();\n        this.initLights();\n        this.initRenderer();\n        this.animate();\n        if (!is.mobile()) {\n            this.mouseMove();\n        }\n        this.initModel();\n\n        // handle resize\n        window.addEventListener(\"resize\", () => this.onWindowResize(), false);\n    }\n\n    resizeModels() {\n        ScrollTrigger.matchMedia({\n            \"(min-width: 1100px)\": () => {\n                if (this.config.modelScale !== 0.9) {\n                    this.config.modelScale = 0.9;\n                }\n            },\n            \"(max-width: 801px)\": () => {\n                if (this.config.modelScale !== 0.7) {\n                    this.config.modelScale = 0.7;\n                }\n            },\n            \"(max-width: 600px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.6;\n                }\n            },\n            \"(max-width: 475px)\": () => {\n                if (this.config.modelScale !== 0.6) {\n                    this.config.modelScale = 0.6;\n                }\n            },\n        });\n    }\n\n    mouseMove() {\n        window.addEventListener(\"mousemove\", (ev) => {\n            let mouseY = ev.clientY;\n\n            gsap.to(this.yellowLight.position, {\n                y: -1 - (mouseY - window.innerHeight) / 400,\n            });\n\n            gsap.to(this.blueLight.position, {\n                y: -(mouseY - window.innerHeight) / 400,\n            });\n        });\n    }\n\n    /**\n     * camera setup\n     */\n    initCamera() {\n        this.camera = new THREE.PerspectiveCamera(35, this.width / this.height, 0.5, 100);\n        this.camera.position.set(0, 0, 6);\n        this.camera.lookAt(0, 0, 0);\n    }\n\n    /**\n     * scene setup\n     */\n    initScene() {\n        this.scene = new THREE.Scene();\n    }\n\n    /**\n     * lights setup - because of performance > all in one object\n     */\n    initLights() {\n        const lightWrapper = new THREE.Object3D();\n\n        this.yellowLight = new THREE.PointLight(0xfeb301, 5, 4);\n        this.yellowLight.position.set(-1, 1, 2);\n\n        this.blueLight = new THREE.PointLight(0x2400ff, 5, 2);\n        this.blueLight.position.set(1, 0, 1);\n\n        lightWrapper.add(this.blueLight);\n        lightWrapper.add(this.yellowLight);\n\n        this.scene.add(lightWrapper);\n    }\n\n    /**\n     * renderer setup\n     */\n    initRenderer() {\n        this.renderer = new THREE.WebGLRenderer({\n            antialias: true,\n            powerPreference: \"high-performance\",\n            alpha: true,\n        });\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        this.renderer.setClearColor(0x000000, 0);\n        this.renderer.setPixelRatio(window.devicePixelRatio > 2 ? 2 : window.devicePixelRatio);\n        this.renderer.setSize(this.width, this.height);\n        this.renderer.physicallyCorrectLights = true;\n        this.wrapper.appendChild(this.renderer.domElement);\n    }\n\n    /**\n     * model setup and load call\n     */\n    initModel() {\n        if (this.wrapper.dataset?.model === \"\" || this.wrapper.dataset?.model === null) return;\n\n        this.loader.load(\n            this.wrapper.dataset.model,\n            (gltf) => {\n                gltf.scene.rotation.y = -Math.PI / 2;\n\n                gltf.scene.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale);\n\n                this.model = gltf.scene;\n\n                this.scrollModelAnimation(gltf.scene);\n\n                this.scene.add(gltf.scene);\n            },\n            (xhr) => {\n                // console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\n            },\n            (error) => {\n                // console.log(\"An error happened\");\n            },\n        );\n    }\n\n    scrollModelAnimation(model) {\n        gsap.fromTo(\n            model.rotation,\n            {\n                y: \"+=0.25\",\n                x: \"-=0.1\",\n            },\n            {\n                y: \"-=0.5\",\n                x: \"+=0.2\",\n                scrollTrigger: {\n                    trigger: this.header,\n                    start: \"top top\",\n                    end: \"bottom top\",\n                    scrub: 0.8,\n                },\n            },\n        );\n    }\n\n    /**\n     *\n     */\n    onWindowResize() {\n        this.resizeModels();\n\n        this.model.scale.set(this.config.modelScale, this.config.modelScale, this.config.modelScale);\n\n        this.camera.aspect = this.wrapper.offsetWidth / this.wrapper.offsetHeight;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize(this.wrapper.offsetWidth, this.wrapper.offsetHeight);\n    }\n\n    /**\n     * requestAnimationFrame\n     */\n    animate() {\n        let raf = null;\n\n        const animate = () => {\n            this.renderer.render(this.scene, this.camera);\n            if (this.renderer != null) {\n                raf = requestAnimationFrame(animate);\n            }\n        };\n\n        ScrollTrigger.create({\n            trigger: this.wrapper,\n            start: \"top bottom\",\n            end: \"bottom top\",\n            onEnter: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeave: () => {\n                cancelAnimationFrame(raf);\n            },\n            onEnterBack: () => {\n                raf = requestAnimationFrame(animate);\n            },\n            onLeaveBack: () => {\n                cancelAnimationFrame(raf);\n            },\n        });\n    }\n}\n","import gsap from \"gsap\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\n\ngsap.registerPlugin(ScrollTrigger);\n/**\n * Marquee Controller\n */\nexport default class Marquee {\n    constructor() {\n        this.DOM = {\n            item: \".js-scroll-marquee\",\n        };\n\n        this.items = document.querySelectorAll(this.DOM.item);\n    }\n\n    init() {\n        console.log(\"MarqueeController init()\");\n        if (this.items.length < 1) {\n            return;\n        }\n\n        this.items.forEach((item, index) => {\n            this.animateLine(item, index % 2 === 0);\n        });\n    }\n\n    /**\n     *\n     * @param line\n     * @param direction\n     */\n    animateLine(line, direction) {\n        let start = -window.innerWidth / 4;\n        let end = 0;\n\n        if (direction) {\n            start = 0;\n            end = -window.innerWidth / 4;\n        }\n\n        gsap.fromTo(\n            line,\n            {\n                x: start,\n            },\n            {\n                x: end,\n                scrollTrigger: {\n                    trigger: line,\n                    start: \"top bottom\",\n                    end: \"bottom top\",\n                    scrub: 0.2,\n                },\n                ease: \"none\",\n            },\n        );\n    }\n}\n","/**\n * Navigation controller\n * \"smart\" navigation which goes off screen when scrolling down for a better overview of content and UX\n * navigation appears when scrolling up\n */\nexport default class NavigationController {\n    constructor() {\n        /**\n         * Navigation DOM selectors\n         * Navigation DOM state CSS classes\n         * @type {{navigation: string, states: {navigationSlideUp: string, navigationScrolled: string, navigationFixed: string}}}\n         */\n        this.DOM = {\n            navigation: \".js-navigation\",\n            states: {\n                navigationScrolled: \"has-scrolled\",\n                navigationFixed: \"is-fixed\",\n                navigationSlideUp: \"slide-up\",\n            },\n        };\n\n        /**\n         * flag, state variable for scrolling event\n         * @type {boolean}\n         */\n        this.scrolling = false;\n        /**\n         * amount of pixels to scroll from top for adding \"has-scrolled\" state class\n         * @type {number}\n         */\n        this.scrollNavigationOffset = 200;\n        /**\n         * variable for storing amount of scroll from top position value\n         * @type {number}\n         */\n        this.previousTop = 0;\n        /**\n         * variable for storing current scroll position value\n         * @type {number}\n         */\n        this.currentTop = 0;\n        this.scrollDelta = 0;\n        this.scrollOffset = 0;\n\n        /**\n         * fetch navigation element DOM element\n         * @type {Element}\n         */\n        this.navigation = document.querySelector(this.DOM.navigation);\n    }\n\n    //region methods\n\n    /**\n     *\n     */\n    init() {\n        if (this.navigation !== null) {\n            console.log(\"Navigation init()\");\n            this.navigationController();\n        } else {\n            console.error(`${this.DOM.navigation} does not exist in the DOM!`);\n        }\n    }\n\n    /**\n     *\n     */\n    navigationController() {\n        document.addEventListener(\"scroll\", () => {\n            if (!this.scrolling) {\n                this.scrolling = true;\n\n                if (!window.requestAnimationFrame) {\n                    setTimeout(this.checkScroll(), 250);\n                } else {\n                    requestAnimationFrame(() => this.checkScroll());\n                }\n            }\n        });\n    }\n\n    /**\n     *\n     */\n    checkScroll() {\n        /**\n         *\n         * @type {number}\n         */\n        let currentTop = window.pageYOffset | document.body.scrollTop;\n\n        this.changeNavigationState(currentTop);\n\n        this.previousTop = currentTop;\n        this.scrolling = false;\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    changeNavigationState(currentTop) {\n        if (currentTop > this.scrollNavigationOffset) {\n            this.navigation.classList.add(this.DOM.states.navigationScrolled);\n        } else {\n            this.navigation.classList.remove(this.DOM.states.navigationScrolled);\n        }\n\n        if (this.previousTop >= currentTop) {\n            this.scrollingUp(currentTop);\n        } else {\n            this.scrollingDown(currentTop);\n        }\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    scrollingUp(currentTop) {\n        if (currentTop < this.scrollNavigationOffset) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        } else if (this.previousTop - currentTop > this.scrollDelta) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        }\n    }\n\n    /**\n     *\n     * @param currentTop\n     */\n    scrollingDown(currentTop) {\n        if (currentTop > this.scrollNavigationOffset + this.scrollOffset) {\n            this.navigation.classList.add(this.DOM.states.navigationSlideUp);\n        } else if (currentTop > this.scrollNavigationOffset) {\n            this.navigation.classList.remove(this.DOM.states.navigationSlideUp);\n        }\n    }\n\n    //endregion\n}\n","/**\n * Grid helper\n * Show grid overlay when developing\n * Not included in production bundle JS file\n */\nexport default class GridHelper {\n    constructor() {\n        /**\n         * Grid DOM selector\n         * @type {{grid: string}}\n         */\n        this.DOM = {\n            grid: \"grid\",\n        };\n\n        /**\n         * Grid options\n         * @type {{\n         * gutterFixed: boolean,\n         * initialDisplay: string,\n         * gridFixed: boolean,\n         * gutterWidth: number,\n         * gridColor: string,\n         * columnCount: number,\n         * gridWidth: number,\n         * columnBgColor: string\n         * }}\n         */\n        this.gridOptions = {\n            initialDisplay: \"none\", // \"flex\" or \"none\" — initial display for the grid — string\n            columnCount: 24, // number of grid columns — integer\n            gridWidth: 1440, // base grid used in design; value in px — integer\n            gridFixed: false, // should grid width be restricted to gridWidth or it should go full width a nd behave fluidly across all screen sizes\n            gutterWidth: 0, // grid gutters value in px — integer\n            gutterFixed: false, // should grid gutter be a fixed value (px) or fluid — integer\n            gridColor: \"rgb(255, 0, 255, 0.15)\", // grid guides color — string of an rgba or hex value\n            columnBgColor: \"rgb(255, 0, 255, 0.025)\", // grid columns background color — string of an rgba or hex value\n        };\n\n        const consoleLogStyle = [\n            \"background-color: #a6a6a6\",\n            \"color: black\",\n            \"display: block\",\n            \"line-height: 24px\",\n            \"text-align: center\",\n            \"border: 1px solid #ffffff\",\n            \"font-weight: bold\",\n        ].join(\";\");\n\n        console.info(\"toggle grid: %c Alt/Option + G \", consoleLogStyle);\n\n        this.grid = null;\n\n        this.columnWidth =\n            (this.gridOptions.gridWidth - (this.gridOptions.columnCount - 1) * this.gridOptions.gutterWidth) / this.gridOptions.columnCount;\n\n        this.columnWidthPercentage = `${(this.columnWidth / this.gridOptions.gridWidth) * 100}%`;\n\n        this.gutterWidthPercentage = `${(this.gridOptions.gutterWidth / this.gridOptions.gridWidth) * 100}%`;\n    }\n\n    init() {\n        console.log(\"GridHelper init()\");\n        this.initGrid();\n        this.keyboardShortcut();\n    }\n\n    initGrid() {\n        // create grid overlay element\n        this.grid = document.createElement(\"div\");\n        this.grid.id = this.DOM.grid;\n\n        // style grid element\n        this.grid.style.cssText = `\n            pointer-events: none;\n            display: ${this.gridOptions.initialDisplay};\n            flex-direction: row;\n            width: 100%;\n            height: 100%;\n            position: fixed;\n            top: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            z-index: 999;\n        `;\n\n        if (this.gridOptions.gridFixed === true) {\n            this.grid.style.maxWidth = `${this.gridOptions.gridWidth}px`;\n        }\n\n        if (!this.gridOptions.gutterWidth > 0) {\n            this.grid.style.borderLeft = \"none\";\n        }\n\n        // add grid container to page\n        document.body.appendChild(this.grid);\n\n        // add columns to grid\n        for (var i = 0; i < this.gridOptions.columnCount; i++) {\n            var column = document.createElement(\"i\");\n            this.grid.appendChild(column);\n\n            column.style.cssText = `\n                height: auto;\n                flex-grow: 1;\n                background-color: ${this.gridOptions.columnBgColor};\n                border-left: 1px solid ${this.gridOptions.gridColor};\n            `;\n\n            if (this.gridOptions.gutterWidth > 0) {\n                column.style.borderRight = `1px solid ${this.gridOptions.gridColor}`;\n            } else {\n                this.grid.style.borderRight = `1px solid ${this.gridOptions.gridColor}`;\n            }\n\n            if (this.gridOptions.gutterFixed === true) {\n                column.style.marginRight = `${this.gridOptions.gutterWidth}px`;\n            } else {\n                column.style.marginRight = this.gutterWidthPercentage;\n                column.style.width = this.columnWidthPercentage;\n            }\n        }\n\n        this.grid.lastChild.style.marginRight = 0;\n    }\n\n    keyboardShortcut() {\n        document.addEventListener(\"keyup\", (ev) => {\n            if (ev.keyCode === 71 && ev.altKey) {\n                if (this.grid.style.display === \"none\") {\n                    this.grid.style.display = \"flex\";\n                } else {\n                    this.grid.style.display = \"none\";\n                }\n            }\n        });\n    }\n}\n","/**\n * MAIN JS FILE\n */\n\n/**\n * Helpers\n * Imports of helper functions are stripped out of bundle\n * Include them within \"start-strip-code\" and \"end-strip-code\" comments\n */\n/* start-strip-code */\nimport GridHelper from \"./helpers/GridHelper\";\n/* end-strip-code */\n/**\n * Components\n */\nimport NavigationController from \"./components/NavigationController\";\nimport Cursor from \"./components/Cursor\";\nimport ThreeDSlider from \"./components/3dSlider\";\nimport HeaderModel from \"./components/HeaderModel\";\nimport Marquee from \"./components/Marquee\";\nimport FlickeringText from \"./components/FlickeringText\";\n\n/**\n * Check if document is ready cross-browser\n * @param callback\n */\nconst ready = (callback) => {\n    if (document.readyState !== \"loading\") {\n        /**\n         * Document is already ready, call the callback directly\n         */\n        callback();\n    } else if (document.addEventListener) {\n        /**\n         * All modern browsers to register DOMContentLoaded\n         */\n        document.addEventListener(\"DOMContentLoaded\", callback);\n    } else {\n        /**\n         * Old IE browsers\n         */\n        document.attachEvent(\"onreadystatechange\", function () {\n            if (document.readyState === \"complete\") {\n                callback();\n            }\n        });\n    }\n};\n\n/**\n * Document ready callback\n */\nready(() => {\n    /**\n     * HELPERS INIT\n     * Only init helpers if they exist\n     * Will be undefined on production because of import stripping\n     */\n    if (typeof GridHelper == \"function\") {\n        const grid = new GridHelper();\n        grid.init();\n    }\n\n    const doc = document.documentElement;\n    doc.style.setProperty(\"--win-height\", `${window.innerHeight}px`);\n\n    /**\n     * COMPONENTS INIT\n     */\n\n    /**\n     * Navigation\n     * @type {NavigationController}\n     */\n    const navigation = new NavigationController();\n    navigation.init();\n\n    /**\n     * ThreeDSlider\n     * @type {ThreeDSlider}\n     */\n    const threeDSlider = new ThreeDSlider();\n    threeDSlider.init();\n\n    /**\n     * HeaderModel\n     * @type {HeaderModel}\n     */\n    const headerModel = new HeaderModel();\n    headerModel.init();\n\n    const marquee = new Marquee();\n    marquee.init();\n\n    const flickeringText = new FlickeringText();\n    flickeringText.init();\n\n    setTimeout(() => {\n        /**\n         * Cursor\n         * @type {Cursor}\n         */\n        const cursor = new Cursor();\n        cursor.init();\n    }, 500);\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZ3NhcC9kaXN0L1Njcm9sbFRyaWdnZXIuanMiLCJzdGF0aWMvanMvY29tcG9uZW50cy8zZFNsaWRlci5qcyIsInN0YXRpYy9qcy9jb21wb25lbnRzLzNkU2xpZGVyTW9kZWxzLmpzIiwic3RhdGljL2pzL2NvbXBvbmVudHMvQ3Vyc29yLmpzIiwic3RhdGljL2pzL2NvbXBvbmVudHMvRmxpY2tlcmluZ1RleHQuanMiLCJzdGF0aWMvanMvY29tcG9uZW50cy9IZWFkZXJNb2RlbC5qcyIsInN0YXRpYy9qcy9jb21wb25lbnRzL01hcnF1ZWUuanMiLCJzdGF0aWMvanMvY29tcG9uZW50cy9OYXZpZ2F0aW9uQ29udHJvbGxlci5qcyIsInN0YXRpYy9qcy9oZWxwZXJzL0dyaWRIZWxwZXIuanMiLCJzdGF0aWMvanMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbC53aW5kb3cgPSBnbG9iYWwud2luZG93IHx8IHt9KSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cykgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgLyohXG4gICAqIE9ic2VydmVyIDMuMTAuNFxuICAgKiBodHRwczovL2dyZWVuc29jay5jb21cbiAgICpcbiAgICogQGxpY2Vuc2UgQ29weXJpZ2h0IDIwMDgtMjAyMiwgR3JlZW5Tb2NrLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgKiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhdCBodHRwczovL2dyZWVuc29jay5jb20vc3RhbmRhcmQtbGljZW5zZSBvciBmb3JcbiAgICogQ2x1YiBHcmVlblNvY2sgbWVtYmVycywgdGhlIGFncmVlbWVudCBpc3N1ZWQgd2l0aCB0aGF0IG1lbWJlcnNoaXAuXG4gICAqIEBhdXRob3I6IEphY2sgRG95bGUsIGphY2tAZ3JlZW5zb2NrLmNvbVxuICAqL1xuICB2YXIgZ3NhcCxcbiAgICAgIF9jb3JlSW5pdHRlZCxcbiAgICAgIF9jbGFtcCxcbiAgICAgIF93aW4sXG4gICAgICBfZG9jLFxuICAgICAgX2RvY0VsLFxuICAgICAgX2JvZHksXG4gICAgICBfaXNUb3VjaCxcbiAgICAgIF9wb2ludGVyVHlwZSxcbiAgICAgIFNjcm9sbFRyaWdnZXIsXG4gICAgICBfcm9vdCxcbiAgICAgIF9ub3JtYWxpemVyLFxuICAgICAgX2V2ZW50VHlwZXMsXG4gICAgICBfZ2V0R1NBUCA9IGZ1bmN0aW9uIF9nZXRHU0FQKCkge1xuICAgIHJldHVybiBnc2FwIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgKGdzYXAgPSB3aW5kb3cuZ3NhcCkgJiYgZ3NhcC5yZWdpc3RlclBsdWdpbiAmJiBnc2FwO1xuICB9LFxuICAgICAgX3N0YXJ0dXAgPSAxLFxuICAgICAgX29ic2VydmVycyA9IFtdLFxuICAgICAgX3Njcm9sbGVycyA9IFtdLFxuICAgICAgX3Byb3hpZXMgPSBbXSxcbiAgICAgIF9nZXRUaW1lID0gRGF0ZS5ub3csXG4gICAgICBfYnJpZGdlID0gZnVuY3Rpb24gX2JyaWRnZShuYW1lLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbiAgICAgIF9pbnRlZ3JhdGUgPSBmdW5jdGlvbiBfaW50ZWdyYXRlKCkge1xuICAgIHZhciBjb3JlID0gU2Nyb2xsVHJpZ2dlci5jb3JlLFxuICAgICAgICBkYXRhID0gY29yZS5icmlkZ2UgfHwge30sXG4gICAgICAgIHNjcm9sbGVycyA9IGNvcmUuX3Njcm9sbGVycyxcbiAgICAgICAgcHJveGllcyA9IGNvcmUuX3Byb3hpZXM7XG4gICAgc2Nyb2xsZXJzLnB1c2guYXBwbHkoc2Nyb2xsZXJzLCBfc2Nyb2xsZXJzKTtcbiAgICBwcm94aWVzLnB1c2guYXBwbHkocHJveGllcywgX3Byb3hpZXMpO1xuICAgIF9zY3JvbGxlcnMgPSBzY3JvbGxlcnM7XG4gICAgX3Byb3hpZXMgPSBwcm94aWVzO1xuXG4gICAgX2JyaWRnZSA9IGZ1bmN0aW9uIF9icmlkZ2UobmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBkYXRhW25hbWVdKHZhbHVlKTtcbiAgICB9O1xuICB9LFxuICAgICAgX2dldFByb3h5UHJvcCA9IGZ1bmN0aW9uIF9nZXRQcm94eVByb3AoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgICByZXR1cm4gfl9wcm94aWVzLmluZGV4T2YoZWxlbWVudCkgJiYgX3Byb3hpZXNbX3Byb3hpZXMuaW5kZXhPZihlbGVtZW50KSArIDFdW3Byb3BlcnR5XTtcbiAgfSxcbiAgICAgIF9pc1ZpZXdwb3J0ID0gZnVuY3Rpb24gX2lzVmlld3BvcnQoZWwpIHtcbiAgICByZXR1cm4gISF+X3Jvb3QuaW5kZXhPZihlbCk7XG4gIH0sXG4gICAgICBfYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBfYWRkTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgZnVuYywgbm9uUGFzc2l2ZSwgY2FwdHVyZSkge1xuICAgIHJldHVybiBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuYywge1xuICAgICAgcGFzc2l2ZTogIW5vblBhc3NpdmUsXG4gICAgICBjYXB0dXJlOiAhIWNhcHR1cmVcbiAgICB9KTtcbiAgfSxcbiAgICAgIF9yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIF9yZW1vdmVMaXN0ZW5lcihlbGVtZW50LCB0eXBlLCBmdW5jLCBjYXB0dXJlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jLCAhIWNhcHR1cmUpO1xuICB9LFxuICAgICAgX3Njcm9sbExlZnQgPSBcInNjcm9sbExlZnRcIixcbiAgICAgIF9zY3JvbGxUb3AgPSBcInNjcm9sbFRvcFwiLFxuICAgICAgX29uU2Nyb2xsID0gZnVuY3Rpb24gX29uU2Nyb2xsKCkge1xuICAgIHJldHVybiBfbm9ybWFsaXplciAmJiBfbm9ybWFsaXplci5pc1ByZXNzZWQgfHwgX3Njcm9sbGVycy5jYWNoZSsrO1xuICB9LFxuICAgICAgX3Njcm9sbENhY2hlRnVuYyA9IGZ1bmN0aW9uIF9zY3JvbGxDYWNoZUZ1bmMoZiwgZG9Ob3RDYWNoZSkge1xuICAgIHZhciBjYWNoaW5nRnVuYyA9IGZ1bmN0aW9uIGNhY2hpbmdGdW5jKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgICAgX3N0YXJ0dXAgJiYgKF93aW4uaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IFwibWFudWFsXCIpO1xuICAgICAgICB2YXIgaXNOb3JtYWxpemluZyA9IF9ub3JtYWxpemVyICYmIF9ub3JtYWxpemVyLmlzUHJlc3NlZDtcbiAgICAgICAgdmFsdWUgPSBjYWNoaW5nRnVuYy52ID0gTWF0aC5yb3VuZCh2YWx1ZSkgfHwgKF9ub3JtYWxpemVyICYmIF9ub3JtYWxpemVyLmlPUyA/IDEgOiAwKTtcbiAgICAgICAgZih2YWx1ZSk7XG4gICAgICAgIGNhY2hpbmdGdW5jLmNhY2hlSUQgPSBfc2Nyb2xsZXJzLmNhY2hlO1xuICAgICAgICBpc05vcm1hbGl6aW5nICYmIF9icmlkZ2UoXCJzc1wiLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGRvTm90Q2FjaGUgfHwgX3Njcm9sbGVycy5jYWNoZSAhPT0gY2FjaGluZ0Z1bmMuY2FjaGVJRCB8fCBfYnJpZGdlKFwicmVmXCIpKSB7XG4gICAgICAgIGNhY2hpbmdGdW5jLmNhY2hlSUQgPSBfc2Nyb2xsZXJzLmNhY2hlO1xuICAgICAgICBjYWNoaW5nRnVuYy52ID0gZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FjaGluZ0Z1bmMudiArIGNhY2hpbmdGdW5jLm9mZnNldDtcbiAgICB9O1xuXG4gICAgY2FjaGluZ0Z1bmMub2Zmc2V0ID0gMDtcbiAgICByZXR1cm4gZiAmJiBjYWNoaW5nRnVuYztcbiAgfSxcbiAgICAgIF9ob3Jpem9udGFsID0ge1xuICAgIHM6IF9zY3JvbGxMZWZ0LFxuICAgIHA6IFwibGVmdFwiLFxuICAgIHAyOiBcIkxlZnRcIixcbiAgICBvczogXCJyaWdodFwiLFxuICAgIG9zMjogXCJSaWdodFwiLFxuICAgIGQ6IFwid2lkdGhcIixcbiAgICBkMjogXCJXaWR0aFwiLFxuICAgIGE6IFwieFwiLFxuICAgIHNjOiBfc2Nyb2xsQ2FjaGVGdW5jKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBfd2luLnNjcm9sbFRvKHZhbHVlLCBfdmVydGljYWwuc2MoKSkgOiBfd2luLnBhZ2VYT2Zmc2V0IHx8IF9kb2NbX3Njcm9sbExlZnRdIHx8IF9kb2NFbFtfc2Nyb2xsTGVmdF0gfHwgX2JvZHlbX3Njcm9sbExlZnRdIHx8IDA7XG4gICAgfSlcbiAgfSxcbiAgICAgIF92ZXJ0aWNhbCA9IHtcbiAgICBzOiBfc2Nyb2xsVG9wLFxuICAgIHA6IFwidG9wXCIsXG4gICAgcDI6IFwiVG9wXCIsXG4gICAgb3M6IFwiYm90dG9tXCIsXG4gICAgb3MyOiBcIkJvdHRvbVwiLFxuICAgIGQ6IFwiaGVpZ2h0XCIsXG4gICAgZDI6IFwiSGVpZ2h0XCIsXG4gICAgYTogXCJ5XCIsXG4gICAgb3A6IF9ob3Jpem9udGFsLFxuICAgIHNjOiBfc2Nyb2xsQ2FjaGVGdW5jKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBfd2luLnNjcm9sbFRvKF9ob3Jpem9udGFsLnNjKCksIHZhbHVlKSA6IF93aW4ucGFnZVlPZmZzZXQgfHwgX2RvY1tfc2Nyb2xsVG9wXSB8fCBfZG9jRWxbX3Njcm9sbFRvcF0gfHwgX2JvZHlbX3Njcm9sbFRvcF0gfHwgMDtcbiAgICB9KVxuICB9LFxuICAgICAgX2dldFRhcmdldCA9IGZ1bmN0aW9uIF9nZXRUYXJnZXQodCkge1xuICAgIHJldHVybiBnc2FwLnV0aWxzLnRvQXJyYXkodClbMF0gfHwgKHR5cGVvZiB0ID09PSBcInN0cmluZ1wiICYmIGdzYXAuY29uZmlnKCkubnVsbFRhcmdldFdhcm4gIT09IGZhbHNlID8gY29uc29sZS53YXJuKFwiRWxlbWVudCBub3QgZm91bmQ6XCIsIHQpIDogbnVsbCk7XG4gIH0sXG4gICAgICBfZ2V0U2Nyb2xsRnVuYyA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxGdW5jKGVsZW1lbnQsIF9yZWYpIHtcbiAgICB2YXIgcyA9IF9yZWYucyxcbiAgICAgICAgc2MgPSBfcmVmLnNjO1xuXG4gICAgdmFyIGkgPSBfc2Nyb2xsZXJzLmluZGV4T2YoZWxlbWVudCksXG4gICAgICAgIG9mZnNldCA9IHNjID09PSBfdmVydGljYWwuc2MgPyAxIDogMjtcblxuICAgICF+aSAmJiAoaSA9IF9zY3JvbGxlcnMucHVzaChlbGVtZW50KSAtIDEpO1xuICAgIHJldHVybiBfc2Nyb2xsZXJzW2kgKyBvZmZzZXRdIHx8IChfc2Nyb2xsZXJzW2kgKyBvZmZzZXRdID0gX3Njcm9sbENhY2hlRnVuYyhfZ2V0UHJveHlQcm9wKGVsZW1lbnQsIHMpLCB0cnVlKSB8fCAoX2lzVmlld3BvcnQoZWxlbWVudCkgPyBzYyA6IF9zY3JvbGxDYWNoZUZ1bmMoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IGVsZW1lbnRbc10gPSB2YWx1ZSA6IGVsZW1lbnRbc107XG4gICAgfSkpKTtcbiAgfSxcbiAgICAgIF9nZXRWZWxvY2l0eVByb3AgPSBmdW5jdGlvbiBfZ2V0VmVsb2NpdHlQcm9wKHZhbHVlLCBtaW5UaW1lUmVmcmVzaCwgdXNlRGVsdGEpIHtcbiAgICB2YXIgdjEgPSB2YWx1ZSxcbiAgICAgICAgdjIgPSB2YWx1ZSxcbiAgICAgICAgdDEgPSBfZ2V0VGltZSgpLFxuICAgICAgICB0MiA9IHQxLFxuICAgICAgICBtaW4gPSBtaW5UaW1lUmVmcmVzaCB8fCA1MCxcbiAgICAgICAgZHJvcFRvWmVyb1RpbWUgPSBNYXRoLm1heCg1MDAsIG1pbiAqIDMpLFxuICAgICAgICB1cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUodmFsdWUsIGZvcmNlKSB7XG4gICAgICB2YXIgdCA9IF9nZXRUaW1lKCk7XG5cbiAgICAgIGlmIChmb3JjZSB8fCB0IC0gdDEgPiBtaW4pIHtcbiAgICAgICAgdjIgPSB2MTtcbiAgICAgICAgdjEgPSB2YWx1ZTtcbiAgICAgICAgdDIgPSB0MTtcbiAgICAgICAgdDEgPSB0O1xuICAgICAgfSBlbHNlIGlmICh1c2VEZWx0YSkge1xuICAgICAgICB2MSArPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHYxID0gdjIgKyAodmFsdWUgLSB2MikgLyAodCAtIHQyKSAqICh0MSAtIHQyKTtcbiAgICAgIH1cbiAgICB9LFxuICAgICAgICByZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgdjIgPSB2MSA9IHVzZURlbHRhID8gMCA6IHYxO1xuICAgICAgdDIgPSB0MSA9IDA7XG4gICAgfSxcbiAgICAgICAgZ2V0VmVsb2NpdHkgPSBmdW5jdGlvbiBnZXRWZWxvY2l0eShsYXRlc3RWYWx1ZSkge1xuICAgICAgdmFyIHRPbGQgPSB0MixcbiAgICAgICAgICB2T2xkID0gdjIsXG4gICAgICAgICAgdCA9IF9nZXRUaW1lKCk7XG5cbiAgICAgIChsYXRlc3RWYWx1ZSB8fCBsYXRlc3RWYWx1ZSA9PT0gMCkgJiYgbGF0ZXN0VmFsdWUgIT09IHYxICYmIHVwZGF0ZShsYXRlc3RWYWx1ZSk7XG4gICAgICByZXR1cm4gdDEgPT09IHQyIHx8IHQgLSB0MiA+IGRyb3BUb1plcm9UaW1lID8gMCA6ICh2MSArICh1c2VEZWx0YSA/IHZPbGQgOiAtdk9sZCkpIC8gKCh1c2VEZWx0YSA/IHQgOiB0MSkgLSB0T2xkKSAqIDEwMDA7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICAgIHJlc2V0OiByZXNldCxcbiAgICAgIGdldFZlbG9jaXR5OiBnZXRWZWxvY2l0eVxuICAgIH07XG4gIH0sXG4gICAgICBfZ2V0RXZlbnQgPSBmdW5jdGlvbiBfZ2V0RXZlbnQoZSwgcHJldmVudERlZmF1bHQpIHtcbiAgICBwcmV2ZW50RGVmYXVsdCAmJiAhZS5fZ3NhcEFsbG93ICYmIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gZS5jaGFuZ2VkVG91Y2hlcyA/IGUuY2hhbmdlZFRvdWNoZXNbMF0gOiBlO1xuICB9LFxuICAgICAgX2dldEFic29sdXRlTWF4ID0gZnVuY3Rpb24gX2dldEFic29sdXRlTWF4KGEpIHtcbiAgICB2YXIgbWF4ID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgYSksXG4gICAgICAgIG1pbiA9IE1hdGgubWluLmFwcGx5KE1hdGgsIGEpO1xuICAgIHJldHVybiBNYXRoLmFicyhtYXgpID49IE1hdGguYWJzKG1pbikgPyBtYXggOiBtaW47XG4gIH0sXG4gICAgICBfc2V0U2Nyb2xsVHJpZ2dlciA9IGZ1bmN0aW9uIF9zZXRTY3JvbGxUcmlnZ2VyKCkge1xuICAgIFNjcm9sbFRyaWdnZXIgPSBnc2FwLmNvcmUuZ2xvYmFscygpLlNjcm9sbFRyaWdnZXI7XG4gICAgU2Nyb2xsVHJpZ2dlciAmJiBTY3JvbGxUcmlnZ2VyLmNvcmUgJiYgX2ludGVncmF0ZSgpO1xuICB9LFxuICAgICAgX2luaXRDb3JlID0gZnVuY3Rpb24gX2luaXRDb3JlKGNvcmUpIHtcbiAgICBnc2FwID0gY29yZSB8fCBfZ2V0R1NBUCgpO1xuXG4gICAgaWYgKGdzYXAgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LmJvZHkpIHtcbiAgICAgIF93aW4gPSB3aW5kb3c7XG4gICAgICBfZG9jID0gZG9jdW1lbnQ7XG4gICAgICBfZG9jRWwgPSBfZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgIF9ib2R5ID0gX2RvYy5ib2R5O1xuICAgICAgX3Jvb3QgPSBbX3dpbiwgX2RvYywgX2RvY0VsLCBfYm9keV07XG4gICAgICBfY2xhbXAgPSBnc2FwLnV0aWxzLmNsYW1wO1xuICAgICAgX3BvaW50ZXJUeXBlID0gXCJvbnBvaW50ZXJlbnRlclwiIGluIF9ib2R5ID8gXCJwb2ludGVyXCIgOiBcIm1vdXNlXCI7XG4gICAgICBfaXNUb3VjaCA9IE9ic2VydmVyLmlzVG91Y2ggPSBfd2luLm1hdGNoTWVkaWEgJiYgX3dpbi5tYXRjaE1lZGlhKFwiKGhvdmVyOiBub25lKSwgKHBvaW50ZXI6IGNvYXJzZSlcIikubWF0Y2hlcyA/IDEgOiBcIm9udG91Y2hzdGFydFwiIGluIF93aW4gfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDAgPyAyIDogMDtcbiAgICAgIF9ldmVudFR5cGVzID0gT2JzZXJ2ZXIuZXZlbnRUeXBlcyA9IChcIm9udG91Y2hzdGFydFwiIGluIF9kb2NFbCA/IFwidG91Y2hzdGFydCx0b3VjaG1vdmUsdG91Y2hjYW5jZWwsdG91Y2hlbmRcIiA6ICEoXCJvbnBvaW50ZXJkb3duXCIgaW4gX2RvY0VsKSA/IFwibW91c2Vkb3duLG1vdXNlbW92ZSxtb3VzZXVwLG1vdXNldXBcIiA6IFwicG9pbnRlcmRvd24scG9pbnRlcm1vdmUscG9pbnRlcmNhbmNlbCxwb2ludGVydXBcIikuc3BsaXQoXCIsXCIpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfc3RhcnR1cCA9IDA7XG4gICAgICB9LCA1MDApO1xuXG4gICAgICBfc2V0U2Nyb2xsVHJpZ2dlcigpO1xuXG4gICAgICBfY29yZUluaXR0ZWQgPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBfY29yZUluaXR0ZWQ7XG4gIH07XG5cbiAgX2hvcml6b250YWwub3AgPSBfdmVydGljYWw7XG4gIF9zY3JvbGxlcnMuY2FjaGUgPSAwO1xuICB2YXIgT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZXIodmFycykge1xuICAgICAgdGhpcy5pbml0KHZhcnMpO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBPYnNlcnZlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uaW5pdCA9IGZ1bmN0aW9uIGluaXQodmFycykge1xuICAgICAgX2NvcmVJbml0dGVkIHx8IF9pbml0Q29yZShnc2FwKSB8fCBjb25zb2xlLndhcm4oXCJQbGVhc2UgZ3NhcC5yZWdpc3RlclBsdWdpbihPYnNlcnZlcilcIik7XG4gICAgICBTY3JvbGxUcmlnZ2VyIHx8IF9zZXRTY3JvbGxUcmlnZ2VyKCk7XG4gICAgICB2YXIgdG9sZXJhbmNlID0gdmFycy50b2xlcmFuY2UsXG4gICAgICAgICAgZHJhZ01pbmltdW0gPSB2YXJzLmRyYWdNaW5pbXVtLFxuICAgICAgICAgIHR5cGUgPSB2YXJzLnR5cGUsXG4gICAgICAgICAgdGFyZ2V0ID0gdmFycy50YXJnZXQsXG4gICAgICAgICAgbGluZUhlaWdodCA9IHZhcnMubGluZUhlaWdodCxcbiAgICAgICAgICBkZWJvdW5jZSA9IHZhcnMuZGVib3VuY2UsXG4gICAgICAgICAgcHJldmVudERlZmF1bHQgPSB2YXJzLnByZXZlbnREZWZhdWx0LFxuICAgICAgICAgIG9uU3RvcCA9IHZhcnMub25TdG9wLFxuICAgICAgICAgIG9uU3RvcERlbGF5ID0gdmFycy5vblN0b3BEZWxheSxcbiAgICAgICAgICBpZ25vcmUgPSB2YXJzLmlnbm9yZSxcbiAgICAgICAgICB3aGVlbFNwZWVkID0gdmFycy53aGVlbFNwZWVkLFxuICAgICAgICAgIGV2ZW50ID0gdmFycy5ldmVudCxcbiAgICAgICAgICBvbkRyYWdTdGFydCA9IHZhcnMub25EcmFnU3RhcnQsXG4gICAgICAgICAgb25EcmFnRW5kID0gdmFycy5vbkRyYWdFbmQsXG4gICAgICAgICAgb25EcmFnID0gdmFycy5vbkRyYWcsXG4gICAgICAgICAgb25QcmVzcyA9IHZhcnMub25QcmVzcyxcbiAgICAgICAgICBvblJlbGVhc2UgPSB2YXJzLm9uUmVsZWFzZSxcbiAgICAgICAgICBvblJpZ2h0ID0gdmFycy5vblJpZ2h0LFxuICAgICAgICAgIG9uTGVmdCA9IHZhcnMub25MZWZ0LFxuICAgICAgICAgIG9uVXAgPSB2YXJzLm9uVXAsXG4gICAgICAgICAgb25Eb3duID0gdmFycy5vbkRvd24sXG4gICAgICAgICAgb25DaGFuZ2VYID0gdmFycy5vbkNoYW5nZVgsXG4gICAgICAgICAgb25DaGFuZ2VZID0gdmFycy5vbkNoYW5nZVksXG4gICAgICAgICAgb25DaGFuZ2UgPSB2YXJzLm9uQ2hhbmdlLFxuICAgICAgICAgIG9uVG9nZ2xlWCA9IHZhcnMub25Ub2dnbGVYLFxuICAgICAgICAgIG9uVG9nZ2xlWSA9IHZhcnMub25Ub2dnbGVZLFxuICAgICAgICAgIG9uSG92ZXIgPSB2YXJzLm9uSG92ZXIsXG4gICAgICAgICAgb25Ib3ZlckVuZCA9IHZhcnMub25Ib3ZlckVuZCxcbiAgICAgICAgICBvbk1vdmUgPSB2YXJzLm9uTW92ZSxcbiAgICAgICAgICBpZ25vcmVDaGVjayA9IHZhcnMuaWdub3JlQ2hlY2ssXG4gICAgICAgICAgaXNOb3JtYWxpemVyID0gdmFycy5pc05vcm1hbGl6ZXIsXG4gICAgICAgICAgb25HZXN0dXJlU3RhcnQgPSB2YXJzLm9uR2VzdHVyZVN0YXJ0LFxuICAgICAgICAgIG9uR2VzdHVyZUVuZCA9IHZhcnMub25HZXN0dXJlRW5kLFxuICAgICAgICAgIG9uV2hlZWwgPSB2YXJzLm9uV2hlZWwsXG4gICAgICAgICAgb25FbmFibGUgPSB2YXJzLm9uRW5hYmxlLFxuICAgICAgICAgIG9uRGlzYWJsZSA9IHZhcnMub25EaXNhYmxlLFxuICAgICAgICAgIG9uQ2xpY2sgPSB2YXJzLm9uQ2xpY2ssXG4gICAgICAgICAgc2Nyb2xsU3BlZWQgPSB2YXJzLnNjcm9sbFNwZWVkLFxuICAgICAgICAgIGNhcHR1cmUgPSB2YXJzLmNhcHR1cmUsXG4gICAgICAgICAgYWxsb3dDbGlja3MgPSB2YXJzLmFsbG93Q2xpY2tzLFxuICAgICAgICAgIGxvY2tBeGlzID0gdmFycy5sb2NrQXhpcyxcbiAgICAgICAgICBvbkxvY2tBeGlzID0gdmFycy5vbkxvY2tBeGlzO1xuICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQgPSBfZ2V0VGFyZ2V0KHRhcmdldCkgfHwgX2RvY0VsO1xuICAgICAgdGhpcy52YXJzID0gdmFycztcbiAgICAgIGlnbm9yZSAmJiAoaWdub3JlID0gZ3NhcC51dGlscy50b0FycmF5KGlnbm9yZSkpO1xuICAgICAgdG9sZXJhbmNlID0gdG9sZXJhbmNlIHx8IDA7XG4gICAgICBkcmFnTWluaW11bSA9IGRyYWdNaW5pbXVtIHx8IDA7XG4gICAgICB3aGVlbFNwZWVkID0gd2hlZWxTcGVlZCB8fCAxO1xuICAgICAgc2Nyb2xsU3BlZWQgPSBzY3JvbGxTcGVlZCB8fCAxO1xuICAgICAgdHlwZSA9IHR5cGUgfHwgXCJ3aGVlbCx0b3VjaCxwb2ludGVyXCI7XG4gICAgICBkZWJvdW5jZSA9IGRlYm91bmNlICE9PSBmYWxzZTtcbiAgICAgIGxpbmVIZWlnaHQgfHwgKGxpbmVIZWlnaHQgPSBwYXJzZUZsb2F0KF93aW4uZ2V0Q29tcHV0ZWRTdHlsZShfYm9keSkubGluZUhlaWdodCkgfHwgMjIpO1xuXG4gICAgICB2YXIgaWQsXG4gICAgICAgICAgb25TdG9wRGVsYXllZENhbGwsXG4gICAgICAgICAgZHJhZ2dlZCxcbiAgICAgICAgICBtb3ZlZCxcbiAgICAgICAgICB3aGVlbGVkLFxuICAgICAgICAgIGxvY2tlZCxcbiAgICAgICAgICBheGlzLFxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIHByZXZEZWx0YVggPSAwLFxuICAgICAgICAgIHByZXZEZWx0YVkgPSAwLFxuICAgICAgICAgIHNjcm9sbEZ1bmNYID0gX2dldFNjcm9sbEZ1bmModGFyZ2V0LCBfaG9yaXpvbnRhbCksXG4gICAgICAgICAgc2Nyb2xsRnVuY1kgPSBfZ2V0U2Nyb2xsRnVuYyh0YXJnZXQsIF92ZXJ0aWNhbCksXG4gICAgICAgICAgc2Nyb2xsWCA9IHNjcm9sbEZ1bmNYKCksXG4gICAgICAgICAgc2Nyb2xsWSA9IHNjcm9sbEZ1bmNZKCksXG4gICAgICAgICAgbGltaXRUb1RvdWNoID0gfnR5cGUuaW5kZXhPZihcInRvdWNoXCIpICYmICF+dHlwZS5pbmRleE9mKFwicG9pbnRlclwiKSAmJiBfZXZlbnRUeXBlc1swXSA9PT0gXCJwb2ludGVyZG93blwiLFxuICAgICAgICAgIGlzVmlld3BvcnQgPSBfaXNWaWV3cG9ydCh0YXJnZXQpLFxuICAgICAgICAgIG93bmVyRG9jID0gdGFyZ2V0Lm93bmVyRG9jdW1lbnQgfHwgX2RvYyxcbiAgICAgICAgICBkZWx0YVggPSBbMCwgMCwgMF0sXG4gICAgICAgICAgZGVsdGFZID0gWzAsIDAsIDBdLFxuICAgICAgICAgIG9uQ2xpY2tUaW1lID0gMCxcbiAgICAgICAgICBjbGlja0NhcHR1cmUgPSBmdW5jdGlvbiBjbGlja0NhcHR1cmUoKSB7XG4gICAgICAgIHJldHVybiBvbkNsaWNrVGltZSA9IF9nZXRUaW1lKCk7XG4gICAgICB9LFxuICAgICAgICAgIF9pZ25vcmVDaGVjayA9IGZ1bmN0aW9uIF9pZ25vcmVDaGVjayhlLCBpc1BvaW50ZXJPclRvdWNoKSB7XG4gICAgICAgIHJldHVybiAoc2VsZi5ldmVudCA9IGUpICYmIGlnbm9yZSAmJiB+aWdub3JlLmluZGV4T2YoZS50YXJnZXQpIHx8IGlzUG9pbnRlck9yVG91Y2ggJiYgbGltaXRUb1RvdWNoICYmIGUucG9pbnRlclR5cGUgIT09IFwidG91Y2hcIiB8fCBpZ25vcmVDaGVjayAmJiBpZ25vcmVDaGVjayhlLCBpc1BvaW50ZXJPclRvdWNoKTtcbiAgICAgIH0sXG4gICAgICAgICAgb25TdG9wRnVuYyA9IGZ1bmN0aW9uIG9uU3RvcEZ1bmMoKSB7XG4gICAgICAgIHNlbGYuX3Z4LnJlc2V0KCk7XG5cbiAgICAgICAgc2VsZi5fdnkucmVzZXQoKTtcblxuICAgICAgICBvblN0b3BEZWxheWVkQ2FsbC5wYXVzZSgpO1xuICAgICAgICBvblN0b3AgJiYgb25TdG9wKHNlbGYpO1xuICAgICAgfSxcbiAgICAgICAgICB1cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHZhciBkeCA9IHNlbGYuZGVsdGFYID0gX2dldEFic29sdXRlTWF4KGRlbHRhWCksXG4gICAgICAgICAgICBkeSA9IHNlbGYuZGVsdGFZID0gX2dldEFic29sdXRlTWF4KGRlbHRhWSksXG4gICAgICAgICAgICBjaGFuZ2VkWCA9IE1hdGguYWJzKGR4KSA+PSB0b2xlcmFuY2UsXG4gICAgICAgICAgICBjaGFuZ2VkWSA9IE1hdGguYWJzKGR5KSA+PSB0b2xlcmFuY2U7XG5cbiAgICAgICAgb25DaGFuZ2UgJiYgKGNoYW5nZWRYIHx8IGNoYW5nZWRZKSAmJiBvbkNoYW5nZShzZWxmLCBkeCwgZHksIGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgICBpZiAoY2hhbmdlZFgpIHtcbiAgICAgICAgICBvblJpZ2h0ICYmIHNlbGYuZGVsdGFYID4gMCAmJiBvblJpZ2h0KHNlbGYpO1xuICAgICAgICAgIG9uTGVmdCAmJiBzZWxmLmRlbHRhWCA8IDAgJiYgb25MZWZ0KHNlbGYpO1xuICAgICAgICAgIG9uQ2hhbmdlWCAmJiBvbkNoYW5nZVgoc2VsZik7XG4gICAgICAgICAgb25Ub2dnbGVYICYmIHNlbGYuZGVsdGFYIDwgMCAhPT0gcHJldkRlbHRhWCA8IDAgJiYgb25Ub2dnbGVYKHNlbGYpO1xuICAgICAgICAgIHByZXZEZWx0YVggPSBzZWxmLmRlbHRhWDtcbiAgICAgICAgICBkZWx0YVhbMF0gPSBkZWx0YVhbMV0gPSBkZWx0YVhbMl0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWRZKSB7XG4gICAgICAgICAgb25Eb3duICYmIHNlbGYuZGVsdGFZID4gMCAmJiBvbkRvd24oc2VsZik7XG4gICAgICAgICAgb25VcCAmJiBzZWxmLmRlbHRhWSA8IDAgJiYgb25VcChzZWxmKTtcbiAgICAgICAgICBvbkNoYW5nZVkgJiYgb25DaGFuZ2VZKHNlbGYpO1xuICAgICAgICAgIG9uVG9nZ2xlWSAmJiBzZWxmLmRlbHRhWSA8IDAgIT09IHByZXZEZWx0YVkgPCAwICYmIG9uVG9nZ2xlWShzZWxmKTtcbiAgICAgICAgICBwcmV2RGVsdGFZID0gc2VsZi5kZWx0YVk7XG4gICAgICAgICAgZGVsdGFZWzBdID0gZGVsdGFZWzFdID0gZGVsdGFZWzJdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb3ZlZCB8fCBkcmFnZ2VkKSB7XG4gICAgICAgICAgb25Nb3ZlICYmIG9uTW92ZShzZWxmKTtcbiAgICAgICAgICBvbkxvY2tBeGlzICYmIGxvY2tlZCAmJiBvbkxvY2tBeGlzKHNlbGYpO1xuXG4gICAgICAgICAgaWYgKGRyYWdnZWQpIHtcbiAgICAgICAgICAgIG9uRHJhZyhzZWxmKTtcbiAgICAgICAgICAgIGRyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtb3ZlZCA9IGxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdoZWVsZWQpIHtcbiAgICAgICAgICBvbldoZWVsKHNlbGYpO1xuICAgICAgICAgIHdoZWVsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlkID0gMDtcbiAgICAgIH0sXG4gICAgICAgICAgb25EZWx0YSA9IGZ1bmN0aW9uIG9uRGVsdGEoeCwgeSwgaW5kZXgpIHtcbiAgICAgICAgZGVsdGFYW2luZGV4XSArPSB4O1xuICAgICAgICBkZWx0YVlbaW5kZXhdICs9IHk7XG5cbiAgICAgICAgc2VsZi5fdngudXBkYXRlKHgpO1xuXG4gICAgICAgIHNlbGYuX3Z5LnVwZGF0ZSh5KTtcblxuICAgICAgICBkZWJvdW5jZSA/IGlkIHx8IChpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpKSA6IHVwZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgICAgICBvblRvdWNoT3JQb2ludGVyRGVsdGEgPSBmdW5jdGlvbiBvblRvdWNoT3JQb2ludGVyRGVsdGEoeCwgeSkge1xuICAgICAgICBpZiAoYXhpcyAhPT0gXCJ5XCIpIHtcbiAgICAgICAgICBkZWx0YVhbMl0gKz0geDtcblxuICAgICAgICAgIHNlbGYuX3Z4LnVwZGF0ZSh4LCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChheGlzICE9PSBcInhcIikge1xuICAgICAgICAgIGRlbHRhWVsyXSArPSB5O1xuXG4gICAgICAgICAgc2VsZi5fdnkudXBkYXRlKHksIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvY2tBeGlzICYmICFheGlzKSB7XG4gICAgICAgICAgc2VsZi5heGlzID0gYXhpcyA9IE1hdGguYWJzKHgpID4gTWF0aC5hYnMoeSkgPyBcInhcIiA6IFwieVwiO1xuICAgICAgICAgIGxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBkZWJvdW5jZSA/IGlkIHx8IChpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpKSA6IHVwZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgICAgICBfb25EcmFnID0gZnVuY3Rpb24gX29uRHJhZyhlKSB7XG4gICAgICAgIGlmIChfaWdub3JlQ2hlY2soZSwgMSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBlID0gX2dldEV2ZW50KGUsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgdmFyIHggPSBlLmNsaWVudFgsXG4gICAgICAgICAgICB5ID0gZS5jbGllbnRZLFxuICAgICAgICAgICAgZHggPSB4IC0gc2VsZi54LFxuICAgICAgICAgICAgZHkgPSB5IC0gc2VsZi55LFxuICAgICAgICAgICAgaXNEcmFnZ2luZyA9IHNlbGYuaXNEcmFnZ2luZztcbiAgICAgICAgc2VsZi54ID0geDtcbiAgICAgICAgc2VsZi55ID0geTtcblxuICAgICAgICBpZiAoaXNEcmFnZ2luZyB8fCBNYXRoLmFicyhzZWxmLnN0YXJ0WCAtIHgpID49IGRyYWdNaW5pbXVtIHx8IE1hdGguYWJzKHNlbGYuc3RhcnRZIC0geSkgPj0gZHJhZ01pbmltdW0pIHtcbiAgICAgICAgICBvbkRyYWcgJiYgKGRyYWdnZWQgPSB0cnVlKTtcbiAgICAgICAgICBpc0RyYWdnaW5nIHx8IChzZWxmLmlzRHJhZ2dpbmcgPSB0cnVlKTtcbiAgICAgICAgICBvblRvdWNoT3JQb2ludGVyRGVsdGEoZHgsIGR5KTtcbiAgICAgICAgICBpc0RyYWdnaW5nIHx8IG9uRHJhZ1N0YXJ0ICYmIG9uRHJhZ1N0YXJ0KHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgICAgIF9vblByZXNzID0gc2VsZi5vblByZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKF9pZ25vcmVDaGVjayhlLCAxKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuYXhpcyA9IGF4aXMgPSBudWxsO1xuICAgICAgICBvblN0b3BEZWxheWVkQ2FsbC5wYXVzZSgpO1xuICAgICAgICBzZWxmLmlzUHJlc3NlZCA9IHRydWU7XG4gICAgICAgIGUgPSBfZ2V0RXZlbnQoZSk7XG4gICAgICAgIHByZXZEZWx0YVggPSBwcmV2RGVsdGFZID0gMDtcbiAgICAgICAgc2VsZi5zdGFydFggPSBzZWxmLnggPSBlLmNsaWVudFg7XG4gICAgICAgIHNlbGYuc3RhcnRZID0gc2VsZi55ID0gZS5jbGllbnRZO1xuXG4gICAgICAgIHNlbGYuX3Z4LnJlc2V0KCk7XG5cbiAgICAgICAgc2VsZi5fdnkucmVzZXQoKTtcblxuICAgICAgICBfYWRkTGlzdGVuZXIoaXNOb3JtYWxpemVyID8gdGFyZ2V0IDogb3duZXJEb2MsIF9ldmVudFR5cGVzWzFdLCBfb25EcmFnLCBwcmV2ZW50RGVmYXVsdCwgdHJ1ZSk7XG5cbiAgICAgICAgc2VsZi5kZWx0YVggPSBzZWxmLmRlbHRhWSA9IDA7XG4gICAgICAgIG9uUHJlc3MgJiYgb25QcmVzcyhzZWxmKTtcbiAgICAgIH0sXG4gICAgICAgICAgX29uUmVsZWFzZSA9IGZ1bmN0aW9uIF9vblJlbGVhc2UoZSkge1xuICAgICAgICBpZiAoX2lnbm9yZUNoZWNrKGUsIDEpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3JlbW92ZUxpc3RlbmVyKGlzTm9ybWFsaXplciA/IHRhcmdldCA6IG93bmVyRG9jLCBfZXZlbnRUeXBlc1sxXSwgX29uRHJhZywgdHJ1ZSk7XG5cbiAgICAgICAgdmFyIHdhc0RyYWdnaW5nID0gc2VsZi5pc0RyYWdnaW5nICYmIChNYXRoLmFicyhzZWxmLnggLSBzZWxmLnN0YXJ0WCkgPiAzIHx8IE1hdGguYWJzKHNlbGYueSAtIHNlbGYuc3RhcnRZKSA+IDMpLFxuICAgICAgICAgICAgZXZlbnREYXRhID0gX2dldEV2ZW50KGUpO1xuXG4gICAgICAgIGlmICghd2FzRHJhZ2dpbmcpIHtcbiAgICAgICAgICBzZWxmLl92eC5yZXNldCgpO1xuXG4gICAgICAgICAgc2VsZi5fdnkucmVzZXQoKTtcblxuICAgICAgICAgIGlmIChwcmV2ZW50RGVmYXVsdCAmJiBhbGxvd0NsaWNrcykge1xuICAgICAgICAgICAgZ3NhcC5kZWxheWVkQ2FsbCgwLjA4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmIChfZ2V0VGltZSgpIC0gb25DbGlja1RpbWUgPiAzMDAgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGljaykge1xuICAgICAgICAgICAgICAgICAgZS50YXJnZXQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG93bmVyRG9jLmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICB2YXIgc3ludGhldGljRXZlbnQgPSBvd25lckRvYy5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO1xuICAgICAgICAgICAgICAgICAgc3ludGhldGljRXZlbnQuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCB0cnVlLCB0cnVlLCBfd2luLCAxLCBldmVudERhdGEuc2NyZWVuWCwgZXZlbnREYXRhLnNjcmVlblksIGV2ZW50RGF0YS5jbGllbnRYLCBldmVudERhdGEuY2xpZW50WSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgZS50YXJnZXQuZGlzcGF0Y2hFdmVudChzeW50aGV0aWNFdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmlzRHJhZ2dpbmcgPSBzZWxmLmlzR2VzdHVyaW5nID0gc2VsZi5pc1ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgb25TdG9wICYmICFpc05vcm1hbGl6ZXIgJiYgb25TdG9wRGVsYXllZENhbGwucmVzdGFydCh0cnVlKTtcbiAgICAgICAgb25EcmFnRW5kICYmIHdhc0RyYWdnaW5nICYmIG9uRHJhZ0VuZChzZWxmKTtcbiAgICAgICAgb25SZWxlYXNlICYmIG9uUmVsZWFzZShzZWxmLCB3YXNEcmFnZ2luZyk7XG4gICAgICB9LFxuICAgICAgICAgIF9vbkdlc3R1cmVTdGFydCA9IGZ1bmN0aW9uIF9vbkdlc3R1cmVTdGFydChlKSB7XG4gICAgICAgIHJldHVybiBlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEgJiYgKHNlbGYuaXNHZXN0dXJpbmcgPSB0cnVlKSAmJiBvbkdlc3R1cmVTdGFydChlLCBzZWxmLmlzRHJhZ2dpbmcpO1xuICAgICAgfSxcbiAgICAgICAgICBfb25HZXN0dXJlRW5kID0gZnVuY3Rpb24gX29uR2VzdHVyZUVuZCgpIHtcbiAgICAgICAgcmV0dXJuIChzZWxmLmlzR2VzdHVyaW5nID0gZmFsc2UpIHx8IG9uR2VzdHVyZUVuZChzZWxmKTtcbiAgICAgIH0sXG4gICAgICAgICAgb25TY3JvbGwgPSBmdW5jdGlvbiBvblNjcm9sbChlKSB7XG4gICAgICAgIGlmIChfaWdub3JlQ2hlY2soZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeCA9IHNjcm9sbEZ1bmNYKCksXG4gICAgICAgICAgICB5ID0gc2Nyb2xsRnVuY1koKTtcbiAgICAgICAgb25EZWx0YSgoeCAtIHNjcm9sbFgpICogc2Nyb2xsU3BlZWQsICh5IC0gc2Nyb2xsWSkgKiBzY3JvbGxTcGVlZCwgMSk7XG4gICAgICAgIHNjcm9sbFggPSB4O1xuICAgICAgICBzY3JvbGxZID0geTtcbiAgICAgICAgb25TdG9wICYmIG9uU3RvcERlbGF5ZWRDYWxsLnJlc3RhcnQodHJ1ZSk7XG4gICAgICB9LFxuICAgICAgICAgIF9vbldoZWVsID0gZnVuY3Rpb24gX29uV2hlZWwoZSkge1xuICAgICAgICBpZiAoX2lnbm9yZUNoZWNrKGUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZSA9IF9nZXRFdmVudChlLCBwcmV2ZW50RGVmYXVsdCk7XG4gICAgICAgIG9uV2hlZWwgJiYgKHdoZWVsZWQgPSB0cnVlKTtcbiAgICAgICAgdmFyIG11bHRpcGxpZXIgPSAoZS5kZWx0YU1vZGUgPT09IDEgPyBsaW5lSGVpZ2h0IDogZS5kZWx0YU1vZGUgPT09IDIgPyBfd2luLmlubmVySGVpZ2h0IDogMSkgKiB3aGVlbFNwZWVkO1xuICAgICAgICBvbkRlbHRhKGUuZGVsdGFYICogbXVsdGlwbGllciwgZS5kZWx0YVkgKiBtdWx0aXBsaWVyLCAwKTtcbiAgICAgICAgb25TdG9wICYmICFpc05vcm1hbGl6ZXIgJiYgb25TdG9wRGVsYXllZENhbGwucmVzdGFydCh0cnVlKTtcbiAgICAgIH0sXG4gICAgICAgICAgX29uTW92ZSA9IGZ1bmN0aW9uIF9vbk1vdmUoZSkge1xuICAgICAgICBpZiAoX2lnbm9yZUNoZWNrKGUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHggPSBlLmNsaWVudFgsXG4gICAgICAgICAgICB5ID0gZS5jbGllbnRZLFxuICAgICAgICAgICAgZHggPSB4IC0gc2VsZi54LFxuICAgICAgICAgICAgZHkgPSB5IC0gc2VsZi55O1xuICAgICAgICBzZWxmLnggPSB4O1xuICAgICAgICBzZWxmLnkgPSB5O1xuICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgIChkeCB8fCBkeSkgJiYgb25Ub3VjaE9yUG9pbnRlckRlbHRhKGR4LCBkeSk7XG4gICAgICB9LFxuICAgICAgICAgIF9vbkhvdmVyID0gZnVuY3Rpb24gX29uSG92ZXIoZSkge1xuICAgICAgICBzZWxmLmV2ZW50ID0gZTtcbiAgICAgICAgb25Ib3ZlcihzZWxmKTtcbiAgICAgIH0sXG4gICAgICAgICAgX29uSG92ZXJFbmQgPSBmdW5jdGlvbiBfb25Ib3ZlckVuZChlKSB7XG4gICAgICAgIHNlbGYuZXZlbnQgPSBlO1xuICAgICAgICBvbkhvdmVyRW5kKHNlbGYpO1xuICAgICAgfSxcbiAgICAgICAgICBfb25DbGljayA9IGZ1bmN0aW9uIF9vbkNsaWNrKGUpIHtcbiAgICAgICAgcmV0dXJuIF9pZ25vcmVDaGVjayhlKSB8fCBfZ2V0RXZlbnQoZSwgcHJldmVudERlZmF1bHQpICYmIG9uQ2xpY2soc2VsZik7XG4gICAgICB9O1xuXG4gICAgICBvblN0b3BEZWxheWVkQ2FsbCA9IHNlbGYuX2RjID0gZ3NhcC5kZWxheWVkQ2FsbChvblN0b3BEZWxheSB8fCAwLjI1LCBvblN0b3BGdW5jKS5wYXVzZSgpO1xuICAgICAgc2VsZi5kZWx0YVggPSBzZWxmLmRlbHRhWSA9IDA7XG4gICAgICBzZWxmLl92eCA9IF9nZXRWZWxvY2l0eVByb3AoMCwgNTAsIHRydWUpO1xuICAgICAgc2VsZi5fdnkgPSBfZ2V0VmVsb2NpdHlQcm9wKDAsIDUwLCB0cnVlKTtcbiAgICAgIHNlbGYuc2Nyb2xsWCA9IHNjcm9sbEZ1bmNYO1xuICAgICAgc2VsZi5zY3JvbGxZID0gc2Nyb2xsRnVuY1k7XG4gICAgICBzZWxmLmlzRHJhZ2dpbmcgPSBzZWxmLmlzR2VzdHVyaW5nID0gc2VsZi5pc1ByZXNzZWQgPSBmYWxzZTtcblxuICAgICAgc2VsZi5lbmFibGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoIXNlbGYuaXNFbmFibGVkKSB7XG4gICAgICAgICAgX2FkZExpc3RlbmVyKGlzVmlld3BvcnQgPyBvd25lckRvYyA6IHRhcmdldCwgXCJzY3JvbGxcIiwgX29uU2Nyb2xsKTtcblxuICAgICAgICAgIHR5cGUuaW5kZXhPZihcInNjcm9sbFwiKSA+PSAwICYmIF9hZGRMaXN0ZW5lcihpc1ZpZXdwb3J0ID8gb3duZXJEb2MgOiB0YXJnZXQsIFwic2Nyb2xsXCIsIG9uU2Nyb2xsLCBwcmV2ZW50RGVmYXVsdCwgY2FwdHVyZSk7XG4gICAgICAgICAgdHlwZS5pbmRleE9mKFwid2hlZWxcIikgPj0gMCAmJiBfYWRkTGlzdGVuZXIodGFyZ2V0LCBcIndoZWVsXCIsIF9vbldoZWVsLCBwcmV2ZW50RGVmYXVsdCwgY2FwdHVyZSk7XG5cbiAgICAgICAgICBpZiAodHlwZS5pbmRleE9mKFwidG91Y2hcIikgPj0gMCAmJiBfaXNUb3VjaCB8fCB0eXBlLmluZGV4T2YoXCJwb2ludGVyXCIpID49IDApIHtcbiAgICAgICAgICAgIF9hZGRMaXN0ZW5lcih0YXJnZXQsIF9ldmVudFR5cGVzWzBdLCBfb25QcmVzcywgcHJldmVudERlZmF1bHQsIGNhcHR1cmUpO1xuXG4gICAgICAgICAgICBfYWRkTGlzdGVuZXIob3duZXJEb2MsIF9ldmVudFR5cGVzWzJdLCBfb25SZWxlYXNlKTtcblxuICAgICAgICAgICAgX2FkZExpc3RlbmVyKG93bmVyRG9jLCBfZXZlbnRUeXBlc1szXSwgX29uUmVsZWFzZSk7XG5cbiAgICAgICAgICAgIGFsbG93Q2xpY2tzICYmIF9hZGRMaXN0ZW5lcih0YXJnZXQsIFwiY2xpY2tcIiwgY2xpY2tDYXB0dXJlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBvbkNsaWNrICYmIF9hZGRMaXN0ZW5lcih0YXJnZXQsIFwiY2xpY2tcIiwgX29uQ2xpY2spO1xuICAgICAgICAgICAgb25HZXN0dXJlU3RhcnQgJiYgX2FkZExpc3RlbmVyKG93bmVyRG9jLCBcImdlc3R1cmVzdGFydFwiLCBfb25HZXN0dXJlU3RhcnQpO1xuICAgICAgICAgICAgb25HZXN0dXJlRW5kICYmIF9hZGRMaXN0ZW5lcihvd25lckRvYywgXCJnZXN0dXJlZW5kXCIsIF9vbkdlc3R1cmVFbmQpO1xuICAgICAgICAgICAgb25Ib3ZlciAmJiBfYWRkTGlzdGVuZXIodGFyZ2V0LCBfcG9pbnRlclR5cGUgKyBcImVudGVyXCIsIF9vbkhvdmVyKTtcbiAgICAgICAgICAgIG9uSG92ZXJFbmQgJiYgX2FkZExpc3RlbmVyKHRhcmdldCwgX3BvaW50ZXJUeXBlICsgXCJsZWF2ZVwiLCBfb25Ib3ZlckVuZCk7XG4gICAgICAgICAgICBvbk1vdmUgJiYgX2FkZExpc3RlbmVyKHRhcmdldCwgX3BvaW50ZXJUeXBlICsgXCJtb3ZlXCIsIF9vbk1vdmUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuaXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICBlICYmIGUudHlwZSAmJiBfb25QcmVzcyhlKTtcbiAgICAgICAgICBvbkVuYWJsZSAmJiBvbkVuYWJsZShzZWxmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc2VsZi5pc0VuYWJsZWQpIHtcbiAgICAgICAgICBfb2JzZXJ2ZXJzLmZpbHRlcihmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgcmV0dXJuIG8gIT09IHNlbGYgJiYgX2lzVmlld3BvcnQoby50YXJnZXQpO1xuICAgICAgICAgIH0pLmxlbmd0aCB8fCBfcmVtb3ZlTGlzdGVuZXIoaXNWaWV3cG9ydCA/IG93bmVyRG9jIDogdGFyZ2V0LCBcInNjcm9sbFwiLCBfb25TY3JvbGwpO1xuXG4gICAgICAgICAgaWYgKHNlbGYuaXNQcmVzc2VkKSB7XG4gICAgICAgICAgICBzZWxmLl92eC5yZXNldCgpO1xuXG4gICAgICAgICAgICBzZWxmLl92eS5yZXNldCgpO1xuXG4gICAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIoaXNOb3JtYWxpemVyID8gdGFyZ2V0IDogb3duZXJEb2MsIF9ldmVudFR5cGVzWzFdLCBfb25EcmFnLCB0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIoaXNWaWV3cG9ydCA/IG93bmVyRG9jIDogdGFyZ2V0LCBcInNjcm9sbFwiLCBvblNjcm9sbCwgY2FwdHVyZSk7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIodGFyZ2V0LCBcIndoZWVsXCIsIF9vbldoZWVsLCBjYXB0dXJlKTtcblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcih0YXJnZXQsIF9ldmVudFR5cGVzWzBdLCBfb25QcmVzcywgY2FwdHVyZSk7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIob3duZXJEb2MsIF9ldmVudFR5cGVzWzJdLCBfb25SZWxlYXNlKTtcblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcihvd25lckRvYywgX2V2ZW50VHlwZXNbM10sIF9vblJlbGVhc2UpO1xuXG4gICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKHRhcmdldCwgXCJjbGlja1wiLCBjbGlja0NhcHR1cmUsIHRydWUpO1xuXG4gICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKHRhcmdldCwgXCJjbGlja1wiLCBfb25DbGljayk7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIob3duZXJEb2MsIFwiZ2VzdHVyZXN0YXJ0XCIsIF9vbkdlc3R1cmVTdGFydCk7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIob3duZXJEb2MsIFwiZ2VzdHVyZWVuZFwiLCBfb25HZXN0dXJlRW5kKTtcblxuICAgICAgICAgIF9yZW1vdmVMaXN0ZW5lcih0YXJnZXQsIF9wb2ludGVyVHlwZSArIFwiZW50ZXJcIiwgX29uSG92ZXIpO1xuXG4gICAgICAgICAgX3JlbW92ZUxpc3RlbmVyKHRhcmdldCwgX3BvaW50ZXJUeXBlICsgXCJsZWF2ZVwiLCBfb25Ib3ZlckVuZCk7XG5cbiAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIodGFyZ2V0LCBfcG9pbnRlclR5cGUgKyBcIm1vdmVcIiwgX29uTW92ZSk7XG5cbiAgICAgICAgICBzZWxmLmlzRW5hYmxlZCA9IHNlbGYuaXNQcmVzc2VkID0gc2VsZi5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgb25EaXNhYmxlICYmIG9uRGlzYWJsZShzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VsZi5raWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmRpc2FibGUoKTtcblxuICAgICAgICB2YXIgaSA9IF9vYnNlcnZlcnMuaW5kZXhPZihzZWxmKTtcblxuICAgICAgICBpID49IDAgJiYgX29ic2VydmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIF9ub3JtYWxpemVyID09PSBzZWxmICYmIChfbm9ybWFsaXplciA9IDApO1xuICAgICAgfTtcblxuICAgICAgX29ic2VydmVycy5wdXNoKHNlbGYpO1xuXG4gICAgICBpc05vcm1hbGl6ZXIgJiYgX2lzVmlld3BvcnQodGFyZ2V0KSAmJiAoX25vcm1hbGl6ZXIgPSBzZWxmKTtcbiAgICAgIHNlbGYuZW5hYmxlKGV2ZW50KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKE9ic2VydmVyLCBbe1xuICAgICAga2V5OiBcInZlbG9jaXR5WFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92eC5nZXRWZWxvY2l0eSgpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ2ZWxvY2l0eVlcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdnkuZ2V0VmVsb2NpdHkoKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gT2JzZXJ2ZXI7XG4gIH0oKTtcbiAgT2JzZXJ2ZXIudmVyc2lvbiA9IFwiMy4xMC40XCI7XG5cbiAgT2JzZXJ2ZXIuY3JlYXRlID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmVyKHZhcnMpO1xuICB9O1xuXG4gIE9ic2VydmVyLnJlZ2lzdGVyID0gX2luaXRDb3JlO1xuXG4gIE9ic2VydmVyLmdldEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX29ic2VydmVycy5zbGljZSgpO1xuICB9O1xuXG4gIE9ic2VydmVyLmdldEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gX29ic2VydmVycy5maWx0ZXIoZnVuY3Rpb24gKG8pIHtcbiAgICAgIHJldHVybiBvLnZhcnMuaWQgPT09IGlkO1xuICAgIH0pWzBdO1xuICB9O1xuXG4gIF9nZXRHU0FQKCkgJiYgZ3NhcC5yZWdpc3RlclBsdWdpbihPYnNlcnZlcik7XG5cbiAgLyohXG4gICAqIFNjcm9sbFRyaWdnZXIgMy4xMC40XG4gICAqIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbVxuICAgKlxuICAgKiBAbGljZW5zZSBDb3B5cmlnaHQgMjAwOC0yMDIyLCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9zdGFuZGFyZC1saWNlbnNlIG9yIGZvclxuICAgKiBDbHViIEdyZWVuU29jayBtZW1iZXJzLCB0aGUgYWdyZWVtZW50IGlzc3VlZCB3aXRoIHRoYXQgbWVtYmVyc2hpcC5cbiAgICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tXG4gICovXG5cbiAgdmFyIGdzYXAkMSxcbiAgICAgIF9jb3JlSW5pdHRlZCQxLFxuICAgICAgX3dpbiQxLFxuICAgICAgX2RvYyQxLFxuICAgICAgX2RvY0VsJDEsXG4gICAgICBfYm9keSQxLFxuICAgICAgX3Jvb3QkMSxcbiAgICAgIF9yZXNpemVEZWxheSxcbiAgICAgIF90b0FycmF5LFxuICAgICAgX2NsYW1wJDEsXG4gICAgICBfdGltZTIsXG4gICAgICBfc3luY0ludGVydmFsLFxuICAgICAgX3JlZnJlc2hpbmcsXG4gICAgICBfcG9pbnRlcklzRG93bixcbiAgICAgIF90cmFuc2Zvcm1Qcm9wLFxuICAgICAgX2ksXG4gICAgICBfcHJldldpZHRoLFxuICAgICAgX3ByZXZIZWlnaHQsXG4gICAgICBfYXV0b1JlZnJlc2gsXG4gICAgICBfc29ydCxcbiAgICAgIF9zdXBwcmVzc092ZXJ3cml0ZXMsXG4gICAgICBfaWdub3JlUmVzaXplLFxuICAgICAgX25vcm1hbGl6ZXIkMSxcbiAgICAgIF9pZ25vcmVNb2JpbGVSZXNpemUsXG4gICAgICBfYmFzZVNjcmVlbkhlaWdodCxcbiAgICAgIF9iYXNlU2NyZWVuV2lkdGgsXG4gICAgICBfZml4SU9TQnVnLFxuICAgICAgX2xpbWl0Q2FsbGJhY2tzLFxuICAgICAgX3N0YXJ0dXAkMSA9IDEsXG4gICAgICBfZ2V0VGltZSQxID0gRGF0ZS5ub3csXG4gICAgICBfdGltZTEgPSBfZ2V0VGltZSQxKCksXG4gICAgICBfbGFzdFNjcm9sbFRpbWUgPSAwLFxuICAgICAgX2VuYWJsZWQgPSAwLFxuICAgICAgX3BvaW50ZXJEb3duSGFuZGxlciA9IGZ1bmN0aW9uIF9wb2ludGVyRG93bkhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIF9wb2ludGVySXNEb3duID0gMTtcbiAgfSxcbiAgICAgIF9wb2ludGVyVXBIYW5kbGVyID0gZnVuY3Rpb24gX3BvaW50ZXJVcEhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIF9wb2ludGVySXNEb3duID0gMDtcbiAgfSxcbiAgICAgIF9wYXNzVGhyb3VnaCA9IGZ1bmN0aW9uIF9wYXNzVGhyb3VnaCh2KSB7XG4gICAgcmV0dXJuIHY7XG4gIH0sXG4gICAgICBfcm91bmQgPSBmdW5jdGlvbiBfcm91bmQodmFsdWUpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMDAwMCkgLyAxMDAwMDAgfHwgMDtcbiAgfSxcbiAgICAgIF93aW5kb3dFeGlzdHMgPSBmdW5jdGlvbiBfd2luZG93RXhpc3RzKCkge1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xuICB9LFxuICAgICAgX2dldEdTQVAkMSA9IGZ1bmN0aW9uIF9nZXRHU0FQKCkge1xuICAgIHJldHVybiBnc2FwJDEgfHwgX3dpbmRvd0V4aXN0cygpICYmIChnc2FwJDEgPSB3aW5kb3cuZ3NhcCkgJiYgZ3NhcCQxLnJlZ2lzdGVyUGx1Z2luICYmIGdzYXAkMTtcbiAgfSxcbiAgICAgIF9pc1ZpZXdwb3J0JDEgPSBmdW5jdGlvbiBfaXNWaWV3cG9ydChlKSB7XG4gICAgcmV0dXJuICEhfl9yb290JDEuaW5kZXhPZihlKTtcbiAgfSxcbiAgICAgIF9nZXRCb3VuZHNGdW5jID0gZnVuY3Rpb24gX2dldEJvdW5kc0Z1bmMoZWxlbWVudCkge1xuICAgIHJldHVybiBfZ2V0UHJveHlQcm9wKGVsZW1lbnQsIFwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0XCIpIHx8IChfaXNWaWV3cG9ydCQxKGVsZW1lbnQpID8gZnVuY3Rpb24gKCkge1xuICAgICAgX3dpbk9mZnNldHMud2lkdGggPSBfd2luJDEuaW5uZXJXaWR0aDtcbiAgICAgIF93aW5PZmZzZXRzLmhlaWdodCA9IF93aW4kMS5pbm5lckhlaWdodDtcbiAgICAgIHJldHVybiBfd2luT2Zmc2V0cztcbiAgICB9IDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF9nZXRCb3VuZHMoZWxlbWVudCk7XG4gICAgfSk7XG4gIH0sXG4gICAgICBfZ2V0U2l6ZUZ1bmMgPSBmdW5jdGlvbiBfZ2V0U2l6ZUZ1bmMoc2Nyb2xsZXIsIGlzVmlld3BvcnQsIF9yZWYpIHtcbiAgICB2YXIgZCA9IF9yZWYuZCxcbiAgICAgICAgZDIgPSBfcmVmLmQyLFxuICAgICAgICBhID0gX3JlZi5hO1xuICAgIHJldHVybiAoYSA9IF9nZXRQcm94eVByb3Aoc2Nyb2xsZXIsIFwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0XCIpKSA/IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhKClbZF07XG4gICAgfSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoaXNWaWV3cG9ydCA/IF93aW4kMVtcImlubmVyXCIgKyBkMl0gOiBzY3JvbGxlcltcImNsaWVudFwiICsgZDJdKSB8fCAwO1xuICAgIH07XG4gIH0sXG4gICAgICBfZ2V0T2Zmc2V0c0Z1bmMgPSBmdW5jdGlvbiBfZ2V0T2Zmc2V0c0Z1bmMoZWxlbWVudCwgaXNWaWV3cG9ydCkge1xuICAgIHJldHVybiAhaXNWaWV3cG9ydCB8fCB+X3Byb3hpZXMuaW5kZXhPZihlbGVtZW50KSA/IF9nZXRCb3VuZHNGdW5jKGVsZW1lbnQpIDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF93aW5PZmZzZXRzO1xuICAgIH07XG4gIH0sXG4gICAgICBfbWF4U2Nyb2xsID0gZnVuY3Rpb24gX21heFNjcm9sbChlbGVtZW50LCBfcmVmMikge1xuICAgIHZhciBzID0gX3JlZjIucyxcbiAgICAgICAgZDIgPSBfcmVmMi5kMixcbiAgICAgICAgZCA9IF9yZWYyLmQsXG4gICAgICAgIGEgPSBfcmVmMi5hO1xuICAgIHJldHVybiAocyA9IFwic2Nyb2xsXCIgKyBkMikgJiYgKGEgPSBfZ2V0UHJveHlQcm9wKGVsZW1lbnQsIHMpKSA/IGEoKSAtIF9nZXRCb3VuZHNGdW5jKGVsZW1lbnQpKClbZF0gOiBfaXNWaWV3cG9ydCQxKGVsZW1lbnQpID8gKF9kb2NFbCQxW3NdIHx8IF9ib2R5JDFbc10pIC0gKF93aW4kMVtcImlubmVyXCIgKyBkMl0gfHwgX2RvY0VsJDFbXCJjbGllbnRcIiArIGQyXSB8fCBfYm9keSQxW1wiY2xpZW50XCIgKyBkMl0pIDogZWxlbWVudFtzXSAtIGVsZW1lbnRbXCJvZmZzZXRcIiArIGQyXTtcbiAgfSxcbiAgICAgIF9pdGVyYXRlQXV0b1JlZnJlc2ggPSBmdW5jdGlvbiBfaXRlcmF0ZUF1dG9SZWZyZXNoKGZ1bmMsIGV2ZW50cykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2F1dG9SZWZyZXNoLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAoIWV2ZW50cyB8fCB+ZXZlbnRzLmluZGV4T2YoX2F1dG9SZWZyZXNoW2kgKyAxXSkpICYmIGZ1bmMoX2F1dG9SZWZyZXNoW2ldLCBfYXV0b1JlZnJlc2hbaSArIDFdLCBfYXV0b1JlZnJlc2hbaSArIDJdKTtcbiAgICB9XG4gIH0sXG4gICAgICBfaXNTdHJpbmcgPSBmdW5jdGlvbiBfaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiO1xuICB9LFxuICAgICAgX2lzRnVuY3Rpb24gPSBmdW5jdGlvbiBfaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIjtcbiAgfSxcbiAgICAgIF9pc051bWJlciA9IGZ1bmN0aW9uIF9pc051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCI7XG4gIH0sXG4gICAgICBfaXNPYmplY3QgPSBmdW5jdGlvbiBfaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xuICB9LFxuICAgICAgX2NhbGxJZkZ1bmMgPSBmdW5jdGlvbiBfY2FsbElmRnVuYyh2YWx1ZSkge1xuICAgIHJldHVybiBfaXNGdW5jdGlvbih2YWx1ZSkgJiYgdmFsdWUoKTtcbiAgfSxcbiAgICAgIF9jb21iaW5lRnVuYyA9IGZ1bmN0aW9uIF9jb21iaW5lRnVuYyhmMSwgZjIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlc3VsdDEgPSBfY2FsbElmRnVuYyhmMSksXG4gICAgICAgICAgcmVzdWx0MiA9IF9jYWxsSWZGdW5jKGYyKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2NhbGxJZkZ1bmMocmVzdWx0MSk7XG5cbiAgICAgICAgX2NhbGxJZkZ1bmMocmVzdWx0Mik7XG4gICAgICB9O1xuICAgIH07XG4gIH0sXG4gICAgICBfZW5kQW5pbWF0aW9uID0gZnVuY3Rpb24gX2VuZEFuaW1hdGlvbihhbmltYXRpb24sIHJldmVyc2VkLCBwYXVzZSkge1xuICAgIHJldHVybiBhbmltYXRpb24gJiYgYW5pbWF0aW9uLnByb2dyZXNzKHJldmVyc2VkID8gMCA6IDEpICYmIHBhdXNlICYmIGFuaW1hdGlvbi5wYXVzZSgpO1xuICB9LFxuICAgICAgX2NhbGxiYWNrID0gZnVuY3Rpb24gX2NhbGxiYWNrKHNlbGYsIGZ1bmMpIHtcbiAgICBpZiAoc2VsZi5lbmFibGVkKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZnVuYyhzZWxmKTtcbiAgICAgIHJlc3VsdCAmJiByZXN1bHQudG90YWxUaW1lICYmIChzZWxmLmNhbGxiYWNrQW5pbWF0aW9uID0gcmVzdWx0KTtcbiAgICB9XG4gIH0sXG4gICAgICBfYWJzID0gTWF0aC5hYnMsXG4gICAgICBfbGVmdCA9IFwibGVmdFwiLFxuICAgICAgX3RvcCA9IFwidG9wXCIsXG4gICAgICBfcmlnaHQgPSBcInJpZ2h0XCIsXG4gICAgICBfYm90dG9tID0gXCJib3R0b21cIixcbiAgICAgIF93aWR0aCA9IFwid2lkdGhcIixcbiAgICAgIF9oZWlnaHQgPSBcImhlaWdodFwiLFxuICAgICAgX1JpZ2h0ID0gXCJSaWdodFwiLFxuICAgICAgX0xlZnQgPSBcIkxlZnRcIixcbiAgICAgIF9Ub3AgPSBcIlRvcFwiLFxuICAgICAgX0JvdHRvbSA9IFwiQm90dG9tXCIsXG4gICAgICBfcGFkZGluZyA9IFwicGFkZGluZ1wiLFxuICAgICAgX21hcmdpbiA9IFwibWFyZ2luXCIsXG4gICAgICBfV2lkdGggPSBcIldpZHRoXCIsXG4gICAgICBfSGVpZ2h0ID0gXCJIZWlnaHRcIixcbiAgICAgIF9weCA9IFwicHhcIixcbiAgICAgIF9nZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24gX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudCkge1xuICAgIHJldHVybiBfd2luJDEuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgfSxcbiAgICAgIF9tYWtlUG9zaXRpb25hYmxlID0gZnVuY3Rpb24gX21ha2VQb3NpdGlvbmFibGUoZWxlbWVudCkge1xuICAgIHZhciBwb3NpdGlvbiA9IF9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uO1xuXG4gICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiA/IHBvc2l0aW9uIDogXCJyZWxhdGl2ZVwiO1xuICB9LFxuICAgICAgX3NldERlZmF1bHRzID0gZnVuY3Rpb24gX3NldERlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHtcbiAgICBmb3IgKHZhciBwIGluIGRlZmF1bHRzKSB7XG4gICAgICBwIGluIG9iaiB8fCAob2JqW3BdID0gZGVmYXVsdHNbcF0pO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gICAgICBfZ2V0Qm91bmRzID0gZnVuY3Rpb24gX2dldEJvdW5kcyhlbGVtZW50LCB3aXRob3V0VHJhbnNmb3Jtcykge1xuICAgIHZhciB0d2VlbiA9IHdpdGhvdXRUcmFuc2Zvcm1zICYmIF9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpW190cmFuc2Zvcm1Qcm9wXSAhPT0gXCJtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMClcIiAmJiBnc2FwJDEudG8oZWxlbWVudCwge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB4UGVyY2VudDogMCxcbiAgICAgIHlQZXJjZW50OiAwLFxuICAgICAgcm90YXRpb246IDAsXG4gICAgICByb3RhdGlvblg6IDAsXG4gICAgICByb3RhdGlvblk6IDAsXG4gICAgICBzY2FsZTogMSxcbiAgICAgIHNrZXdYOiAwLFxuICAgICAgc2tld1k6IDBcbiAgICB9KS5wcm9ncmVzcygxKSxcbiAgICAgICAgYm91bmRzID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB0d2VlbiAmJiB0d2Vlbi5wcm9ncmVzcygwKS5raWxsKCk7XG4gICAgcmV0dXJuIGJvdW5kcztcbiAgfSxcbiAgICAgIF9nZXRTaXplID0gZnVuY3Rpb24gX2dldFNpemUoZWxlbWVudCwgX3JlZjMpIHtcbiAgICB2YXIgZDIgPSBfcmVmMy5kMjtcbiAgICByZXR1cm4gZWxlbWVudFtcIm9mZnNldFwiICsgZDJdIHx8IGVsZW1lbnRbXCJjbGllbnRcIiArIGQyXSB8fCAwO1xuICB9LFxuICAgICAgX2dldExhYmVsUmF0aW9BcnJheSA9IGZ1bmN0aW9uIF9nZXRMYWJlbFJhdGlvQXJyYXkodGltZWxpbmUpIHtcbiAgICB2YXIgYSA9IFtdLFxuICAgICAgICBsYWJlbHMgPSB0aW1lbGluZS5sYWJlbHMsXG4gICAgICAgIGR1cmF0aW9uID0gdGltZWxpbmUuZHVyYXRpb24oKSxcbiAgICAgICAgcDtcblxuICAgIGZvciAocCBpbiBsYWJlbHMpIHtcbiAgICAgIGEucHVzaChsYWJlbHNbcF0gLyBkdXJhdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH0sXG4gICAgICBfZ2V0Q2xvc2VzdExhYmVsID0gZnVuY3Rpb24gX2dldENsb3Nlc3RMYWJlbChhbmltYXRpb24pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZ3NhcCQxLnV0aWxzLnNuYXAoX2dldExhYmVsUmF0aW9BcnJheShhbmltYXRpb24pLCB2YWx1ZSk7XG4gICAgfTtcbiAgfSxcbiAgICAgIF9zbmFwRGlyZWN0aW9uYWwgPSBmdW5jdGlvbiBfc25hcERpcmVjdGlvbmFsKHNuYXBJbmNyZW1lbnRPckFycmF5KSB7XG4gICAgdmFyIHNuYXAgPSBnc2FwJDEudXRpbHMuc25hcChzbmFwSW5jcmVtZW50T3JBcnJheSksXG4gICAgICAgIGEgPSBBcnJheS5pc0FycmF5KHNuYXBJbmNyZW1lbnRPckFycmF5KSAmJiBzbmFwSW5jcmVtZW50T3JBcnJheS5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgfSk7XG4gICAgcmV0dXJuIGEgPyBmdW5jdGlvbiAodmFsdWUsIGRpcmVjdGlvbiwgdGhyZXNob2xkKSB7XG4gICAgICBpZiAodGhyZXNob2xkID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyZXNob2xkID0gMWUtMztcbiAgICAgIH1cblxuICAgICAgdmFyIGk7XG5cbiAgICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBzbmFwKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpcmVjdGlvbiA+IDApIHtcbiAgICAgICAgdmFsdWUgLT0gdGhyZXNob2xkO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGFbaV0gPj0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhW2kgLSAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkgPSBhLmxlbmd0aDtcbiAgICAgICAgdmFsdWUgKz0gdGhyZXNob2xkO1xuXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICBpZiAoYVtpXSA8PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhWzBdO1xuICAgIH0gOiBmdW5jdGlvbiAodmFsdWUsIGRpcmVjdGlvbiwgdGhyZXNob2xkKSB7XG4gICAgICBpZiAodGhyZXNob2xkID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyZXNob2xkID0gMWUtMztcbiAgICAgIH1cblxuICAgICAgdmFyIHNuYXBwZWQgPSBzbmFwKHZhbHVlKTtcbiAgICAgIHJldHVybiAhZGlyZWN0aW9uIHx8IE1hdGguYWJzKHNuYXBwZWQgLSB2YWx1ZSkgPCB0aHJlc2hvbGQgfHwgc25hcHBlZCAtIHZhbHVlIDwgMCA9PT0gZGlyZWN0aW9uIDwgMCA/IHNuYXBwZWQgOiBzbmFwKGRpcmVjdGlvbiA8IDAgPyB2YWx1ZSAtIHNuYXBJbmNyZW1lbnRPckFycmF5IDogdmFsdWUgKyBzbmFwSW5jcmVtZW50T3JBcnJheSk7XG4gICAgfTtcbiAgfSxcbiAgICAgIF9nZXRMYWJlbEF0RGlyZWN0aW9uID0gZnVuY3Rpb24gX2dldExhYmVsQXREaXJlY3Rpb24odGltZWxpbmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBzdCkge1xuICAgICAgcmV0dXJuIF9zbmFwRGlyZWN0aW9uYWwoX2dldExhYmVsUmF0aW9BcnJheSh0aW1lbGluZSkpKHZhbHVlLCBzdC5kaXJlY3Rpb24pO1xuICAgIH07XG4gIH0sXG4gICAgICBfbXVsdGlMaXN0ZW5lciA9IGZ1bmN0aW9uIF9tdWx0aUxpc3RlbmVyKGZ1bmMsIGVsZW1lbnQsIHR5cGVzLCBjYWxsYmFjaykge1xuICAgIHJldHVybiB0eXBlcy5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgcmV0dXJuIGZ1bmMoZWxlbWVudCwgdHlwZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuICB9LFxuICAgICAgX2FkZExpc3RlbmVyJDEgPSBmdW5jdGlvbiBfYWRkTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgZnVuYywgbm9uUGFzc2l2ZSwgY2FwdHVyZSkge1xuICAgIHJldHVybiBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuYywge1xuICAgICAgcGFzc2l2ZTogIW5vblBhc3NpdmUsXG4gICAgICBjYXB0dXJlOiAhIWNhcHR1cmVcbiAgICB9KTtcbiAgfSxcbiAgICAgIF9yZW1vdmVMaXN0ZW5lciQxID0gZnVuY3Rpb24gX3JlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGZ1bmMsIGNhcHR1cmUpIHtcbiAgICByZXR1cm4gZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMsICEhY2FwdHVyZSk7XG4gIH0sXG4gICAgICBfd2hlZWxMaXN0ZW5lciA9IGZ1bmN0aW9uIF93aGVlbExpc3RlbmVyKGZ1bmMsIGVsLCBzY3JvbGxGdW5jKSB7XG4gICAgcmV0dXJuIHNjcm9sbEZ1bmMgJiYgc2Nyb2xsRnVuYy53aGVlbEhhbmRsZXIgJiYgZnVuYyhlbCwgXCJ3aGVlbFwiLCBzY3JvbGxGdW5jKTtcbiAgfSxcbiAgICAgIF9tYXJrZXJEZWZhdWx0cyA9IHtcbiAgICBzdGFydENvbG9yOiBcImdyZWVuXCIsXG4gICAgZW5kQ29sb3I6IFwicmVkXCIsXG4gICAgaW5kZW50OiAwLFxuICAgIGZvbnRTaXplOiBcIjE2cHhcIixcbiAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiXG4gIH0sXG4gICAgICBfZGVmYXVsdHMgPSB7XG4gICAgdG9nZ2xlQWN0aW9uczogXCJwbGF5XCIsXG4gICAgYW50aWNpcGF0ZVBpbjogMFxuICB9LFxuICAgICAgX2tleXdvcmRzID0ge1xuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIGNlbnRlcjogMC41LFxuICAgIGJvdHRvbTogMSxcbiAgICByaWdodDogMVxuICB9LFxuICAgICAgX29mZnNldFRvUHggPSBmdW5jdGlvbiBfb2Zmc2V0VG9QeCh2YWx1ZSwgc2l6ZSkge1xuICAgIGlmIChfaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICB2YXIgZXFJbmRleCA9IHZhbHVlLmluZGV4T2YoXCI9XCIpLFxuICAgICAgICAgIHJlbGF0aXZlID0gfmVxSW5kZXggPyArKHZhbHVlLmNoYXJBdChlcUluZGV4IC0gMSkgKyAxKSAqIHBhcnNlRmxvYXQodmFsdWUuc3Vic3RyKGVxSW5kZXggKyAxKSkgOiAwO1xuXG4gICAgICBpZiAofmVxSW5kZXgpIHtcbiAgICAgICAgdmFsdWUuaW5kZXhPZihcIiVcIikgPiBlcUluZGV4ICYmIChyZWxhdGl2ZSAqPSBzaXplIC8gMTAwKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHIoMCwgZXFJbmRleCAtIDEpO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IHJlbGF0aXZlICsgKHZhbHVlIGluIF9rZXl3b3JkcyA/IF9rZXl3b3Jkc1t2YWx1ZV0gKiBzaXplIDogfnZhbHVlLmluZGV4T2YoXCIlXCIpID8gcGFyc2VGbG9hdCh2YWx1ZSkgKiBzaXplIC8gMTAwIDogcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICAgICAgX2NyZWF0ZU1hcmtlciA9IGZ1bmN0aW9uIF9jcmVhdGVNYXJrZXIodHlwZSwgbmFtZSwgY29udGFpbmVyLCBkaXJlY3Rpb24sIF9yZWY0LCBvZmZzZXQsIG1hdGNoV2lkdGhFbCwgY29udGFpbmVyQW5pbWF0aW9uKSB7XG4gICAgdmFyIHN0YXJ0Q29sb3IgPSBfcmVmNC5zdGFydENvbG9yLFxuICAgICAgICBlbmRDb2xvciA9IF9yZWY0LmVuZENvbG9yLFxuICAgICAgICBmb250U2l6ZSA9IF9yZWY0LmZvbnRTaXplLFxuICAgICAgICBpbmRlbnQgPSBfcmVmNC5pbmRlbnQsXG4gICAgICAgIGZvbnRXZWlnaHQgPSBfcmVmNC5mb250V2VpZ2h0O1xuXG4gICAgdmFyIGUgPSBfZG9jJDEuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgdXNlRml4ZWRQb3NpdGlvbiA9IF9pc1ZpZXdwb3J0JDEoY29udGFpbmVyKSB8fCBfZ2V0UHJveHlQcm9wKGNvbnRhaW5lciwgXCJwaW5UeXBlXCIpID09PSBcImZpeGVkXCIsXG4gICAgICAgIGlzU2Nyb2xsZXIgPSB0eXBlLmluZGV4T2YoXCJzY3JvbGxlclwiKSAhPT0gLTEsXG4gICAgICAgIHBhcmVudCA9IHVzZUZpeGVkUG9zaXRpb24gPyBfYm9keSQxIDogY29udGFpbmVyLFxuICAgICAgICBpc1N0YXJ0ID0gdHlwZS5pbmRleE9mKFwic3RhcnRcIikgIT09IC0xLFxuICAgICAgICBjb2xvciA9IGlzU3RhcnQgPyBzdGFydENvbG9yIDogZW5kQ29sb3IsXG4gICAgICAgIGNzcyA9IFwiYm9yZGVyLWNvbG9yOlwiICsgY29sb3IgKyBcIjtmb250LXNpemU6XCIgKyBmb250U2l6ZSArIFwiO2NvbG9yOlwiICsgY29sb3IgKyBcIjtmb250LXdlaWdodDpcIiArIGZvbnRXZWlnaHQgKyBcIjtwb2ludGVyLWV2ZW50czpub25lO3doaXRlLXNwYWNlOm5vd3JhcDtmb250LWZhbWlseTpzYW5zLXNlcmlmLEFyaWFsO3otaW5kZXg6MTAwMDtwYWRkaW5nOjRweCA4cHg7Ym9yZGVyLXdpZHRoOjA7Ym9yZGVyLXN0eWxlOnNvbGlkO1wiO1xuXG4gICAgY3NzICs9IFwicG9zaXRpb246XCIgKyAoKGlzU2Nyb2xsZXIgfHwgY29udGFpbmVyQW5pbWF0aW9uKSAmJiB1c2VGaXhlZFBvc2l0aW9uID8gXCJmaXhlZDtcIiA6IFwiYWJzb2x1dGU7XCIpO1xuICAgIChpc1Njcm9sbGVyIHx8IGNvbnRhaW5lckFuaW1hdGlvbiB8fCAhdXNlRml4ZWRQb3NpdGlvbikgJiYgKGNzcyArPSAoZGlyZWN0aW9uID09PSBfdmVydGljYWwgPyBfcmlnaHQgOiBfYm90dG9tKSArIFwiOlwiICsgKG9mZnNldCArIHBhcnNlRmxvYXQoaW5kZW50KSkgKyBcInB4O1wiKTtcbiAgICBtYXRjaFdpZHRoRWwgJiYgKGNzcyArPSBcImJveC1zaXppbmc6Ym9yZGVyLWJveDt0ZXh0LWFsaWduOmxlZnQ7d2lkdGg6XCIgKyBtYXRjaFdpZHRoRWwub2Zmc2V0V2lkdGggKyBcInB4O1wiKTtcbiAgICBlLl9pc1N0YXJ0ID0gaXNTdGFydDtcbiAgICBlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZ3NhcC1tYXJrZXItXCIgKyB0eXBlICsgKG5hbWUgPyBcIiBtYXJrZXItXCIgKyBuYW1lIDogXCJcIikpO1xuICAgIGUuc3R5bGUuY3NzVGV4dCA9IGNzcztcbiAgICBlLmlubmVyVGV4dCA9IG5hbWUgfHwgbmFtZSA9PT0gMCA/IHR5cGUgKyBcIi1cIiArIG5hbWUgOiB0eXBlO1xuICAgIHBhcmVudC5jaGlsZHJlblswXSA/IHBhcmVudC5pbnNlcnRCZWZvcmUoZSwgcGFyZW50LmNoaWxkcmVuWzBdKSA6IHBhcmVudC5hcHBlbmRDaGlsZChlKTtcbiAgICBlLl9vZmZzZXQgPSBlW1wib2Zmc2V0XCIgKyBkaXJlY3Rpb24ub3AuZDJdO1xuXG4gICAgX3Bvc2l0aW9uTWFya2VyKGUsIDAsIGRpcmVjdGlvbiwgaXNTdGFydCk7XG5cbiAgICByZXR1cm4gZTtcbiAgfSxcbiAgICAgIF9wb3NpdGlvbk1hcmtlciA9IGZ1bmN0aW9uIF9wb3NpdGlvbk1hcmtlcihtYXJrZXIsIHN0YXJ0LCBkaXJlY3Rpb24sIGZsaXBwZWQpIHtcbiAgICB2YXIgdmFycyA9IHtcbiAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIlxuICAgIH0sXG4gICAgICAgIHNpZGUgPSBkaXJlY3Rpb25bZmxpcHBlZCA/IFwib3MyXCIgOiBcInAyXCJdLFxuICAgICAgICBvcHBvc2l0ZVNpZGUgPSBkaXJlY3Rpb25bZmxpcHBlZCA/IFwicDJcIiA6IFwib3MyXCJdO1xuICAgIG1hcmtlci5faXNGbGlwcGVkID0gZmxpcHBlZDtcbiAgICB2YXJzW2RpcmVjdGlvbi5hICsgXCJQZXJjZW50XCJdID0gZmxpcHBlZCA/IC0xMDAgOiAwO1xuICAgIHZhcnNbZGlyZWN0aW9uLmFdID0gZmxpcHBlZCA/IFwiMXB4XCIgOiAwO1xuICAgIHZhcnNbXCJib3JkZXJcIiArIHNpZGUgKyBfV2lkdGhdID0gMTtcbiAgICB2YXJzW1wiYm9yZGVyXCIgKyBvcHBvc2l0ZVNpZGUgKyBfV2lkdGhdID0gMDtcbiAgICB2YXJzW2RpcmVjdGlvbi5wXSA9IHN0YXJ0ICsgXCJweFwiO1xuICAgIGdzYXAkMS5zZXQobWFya2VyLCB2YXJzKTtcbiAgfSxcbiAgICAgIF90cmlnZ2VycyA9IFtdLFxuICAgICAgX2lkcyA9IHt9LFxuICAgICAgX3JhZklELFxuICAgICAgX3N5bmMgPSBmdW5jdGlvbiBfc3luYygpIHtcbiAgICByZXR1cm4gX2dldFRpbWUkMSgpIC0gX2xhc3RTY3JvbGxUaW1lID4gMzQgJiYgX3VwZGF0ZUFsbCgpO1xuICB9LFxuICAgICAgX29uU2Nyb2xsJDEgPSBmdW5jdGlvbiBfb25TY3JvbGwoKSB7XG4gICAgaWYgKCFfbm9ybWFsaXplciQxIHx8ICFfbm9ybWFsaXplciQxLmlzUHJlc3NlZCB8fCBfbm9ybWFsaXplciQxLnN0YXJ0WCA+IF9ib2R5JDEuY2xpZW50V2lkdGgpIHtcbiAgICAgIF9zY3JvbGxlcnMuY2FjaGUrKztcbiAgICAgIF9yYWZJRCB8fCAoX3JhZklEID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF91cGRhdGVBbGwpKTtcbiAgICAgIF9sYXN0U2Nyb2xsVGltZSB8fCBfZGlzcGF0Y2goXCJzY3JvbGxTdGFydFwiKTtcbiAgICAgIF9sYXN0U2Nyb2xsVGltZSA9IF9nZXRUaW1lJDEoKTtcbiAgICB9XG4gIH0sXG4gICAgICBfc2V0QmFzZURpbWVuc2lvbnMgPSBmdW5jdGlvbiBfc2V0QmFzZURpbWVuc2lvbnMoKSB7XG4gICAgX2Jhc2VTY3JlZW5XaWR0aCA9IF93aW4kMS5pbm5lcldpZHRoO1xuICAgIF9iYXNlU2NyZWVuSGVpZ2h0ID0gX3dpbiQxLmlubmVySGVpZ2h0O1xuICB9LFxuICAgICAgX29uUmVzaXplID0gZnVuY3Rpb24gX29uUmVzaXplKCkge1xuICAgIF9zY3JvbGxlcnMuY2FjaGUrKztcbiAgICAhX3JlZnJlc2hpbmcgJiYgIV9pZ25vcmVSZXNpemUgJiYgIV9kb2MkMS5mdWxsc2NyZWVuRWxlbWVudCAmJiAhX2RvYyQxLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ICYmICghX2lnbm9yZU1vYmlsZVJlc2l6ZSB8fCBfYmFzZVNjcmVlbldpZHRoICE9PSBfd2luJDEuaW5uZXJXaWR0aCB8fCBNYXRoLmFicyhfd2luJDEuaW5uZXJIZWlnaHQgLSBfYmFzZVNjcmVlbkhlaWdodCkgPiBfd2luJDEuaW5uZXJIZWlnaHQgKiAwLjI1KSAmJiBfcmVzaXplRGVsYXkucmVzdGFydCh0cnVlKTtcbiAgfSxcbiAgICAgIF9saXN0ZW5lcnMgPSB7fSxcbiAgICAgIF9lbXB0eUFycmF5ID0gW10sXG4gICAgICBfbWVkaWEgPSBbXSxcbiAgICAgIF9jcmVhdGluZ01lZGlhLFxuICAgICAgX2xhc3RNZWRpYVRpY2ssXG4gICAgICBfb25NZWRpYUNoYW5nZSA9IGZ1bmN0aW9uIF9vbk1lZGlhQ2hhbmdlKGUpIHtcbiAgICB2YXIgdGljayA9IGdzYXAkMS50aWNrZXIuZnJhbWUsXG4gICAgICAgIG1hdGNoZXMgPSBbXSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGluZGV4O1xuXG4gICAgaWYgKF9sYXN0TWVkaWFUaWNrICE9PSB0aWNrIHx8IF9zdGFydHVwJDEpIHtcbiAgICAgIF9yZXZlcnRBbGwoKTtcblxuICAgICAgZm9yICg7IGkgPCBfbWVkaWEubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgaW5kZXggPSBfd2luJDEubWF0Y2hNZWRpYShfbWVkaWFbaV0pLm1hdGNoZXM7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSBfbWVkaWFbaSArIDNdKSB7XG4gICAgICAgICAgX21lZGlhW2kgKyAzXSA9IGluZGV4O1xuICAgICAgICAgIGluZGV4ID8gbWF0Y2hlcy5wdXNoKGkpIDogX3JldmVydEFsbCgxLCBfbWVkaWFbaV0pIHx8IF9pc0Z1bmN0aW9uKF9tZWRpYVtpICsgMl0pICYmIF9tZWRpYVtpICsgMl0oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfcmV2ZXJ0UmVjb3JkZWQoKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5kZXggPSBtYXRjaGVzW2ldO1xuICAgICAgICBfY3JlYXRpbmdNZWRpYSA9IF9tZWRpYVtpbmRleF07XG4gICAgICAgIF9tZWRpYVtpbmRleCArIDJdID0gX21lZGlhW2luZGV4ICsgMV0oZSk7XG4gICAgICB9XG5cbiAgICAgIF9jcmVhdGluZ01lZGlhID0gMDtcbiAgICAgIF9jb3JlSW5pdHRlZCQxICYmIF9yZWZyZXNoQWxsKDAsIDEpO1xuICAgICAgX2xhc3RNZWRpYVRpY2sgPSB0aWNrO1xuXG4gICAgICBfZGlzcGF0Y2goXCJtYXRjaE1lZGlhXCIpO1xuICAgIH1cbiAgfSxcbiAgICAgIF9zb2Z0UmVmcmVzaCA9IGZ1bmN0aW9uIF9zb2Z0UmVmcmVzaCgpIHtcbiAgICByZXR1cm4gX3JlbW92ZUxpc3RlbmVyJDEoU2Nyb2xsVHJpZ2dlciQxLCBcInNjcm9sbEVuZFwiLCBfc29mdFJlZnJlc2gpIHx8IF9yZWZyZXNoQWxsKHRydWUpO1xuICB9LFxuICAgICAgX2Rpc3BhdGNoID0gZnVuY3Rpb24gX2Rpc3BhdGNoKHR5cGUpIHtcbiAgICByZXR1cm4gX2xpc3RlbmVyc1t0eXBlXSAmJiBfbGlzdGVuZXJzW3R5cGVdLm1hcChmdW5jdGlvbiAoZikge1xuICAgICAgcmV0dXJuIGYoKTtcbiAgICB9KSB8fCBfZW1wdHlBcnJheTtcbiAgfSxcbiAgICAgIF9zYXZlZFN0eWxlcyA9IFtdLFxuICAgICAgX3JldmVydFJlY29yZGVkID0gZnVuY3Rpb24gX3JldmVydFJlY29yZGVkKG1lZGlhKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfc2F2ZWRTdHlsZXMubGVuZ3RoOyBpICs9IDUpIHtcbiAgICAgIGlmICghbWVkaWEgfHwgX3NhdmVkU3R5bGVzW2kgKyA0XSA9PT0gbWVkaWEpIHtcbiAgICAgICAgX3NhdmVkU3R5bGVzW2ldLnN0eWxlLmNzc1RleHQgPSBfc2F2ZWRTdHlsZXNbaSArIDFdO1xuICAgICAgICBfc2F2ZWRTdHlsZXNbaV0uZ2V0QkJveCAmJiBfc2F2ZWRTdHlsZXNbaV0uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIF9zYXZlZFN0eWxlc1tpICsgMl0gfHwgXCJcIik7XG4gICAgICAgIF9zYXZlZFN0eWxlc1tpICsgM10udW5jYWNoZSA9IDE7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICAgICAgX3JldmVydEFsbCA9IGZ1bmN0aW9uIF9yZXZlcnRBbGwoa2lsbCwgbWVkaWEpIHtcbiAgICB2YXIgdHJpZ2dlcjtcblxuICAgIGZvciAoX2kgPSAwOyBfaSA8IF90cmlnZ2Vycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHRyaWdnZXIgPSBfdHJpZ2dlcnNbX2ldO1xuXG4gICAgICBpZiAoIW1lZGlhIHx8IHRyaWdnZXIubWVkaWEgPT09IG1lZGlhKSB7XG4gICAgICAgIGlmIChraWxsKSB7XG4gICAgICAgICAgdHJpZ2dlci5raWxsKDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyaWdnZXIucmV2ZXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZWRpYSAmJiBfcmV2ZXJ0UmVjb3JkZWQobWVkaWEpO1xuICAgIG1lZGlhIHx8IF9kaXNwYXRjaChcInJldmVydFwiKTtcbiAgfSxcbiAgICAgIF9jbGVhclNjcm9sbE1lbW9yeSA9IGZ1bmN0aW9uIF9jbGVhclNjcm9sbE1lbW9yeSgpIHtcbiAgICByZXR1cm4gX3Njcm9sbGVycy5jYWNoZSsrICYmIF9zY3JvbGxlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiICYmIChvYmoucmVjID0gMCk7XG4gICAgfSk7XG4gIH0sXG4gICAgICBfcmVmcmVzaGluZ0FsbCxcbiAgICAgIF9yZWZyZXNoSUQgPSAwLFxuICAgICAgX3JlZnJlc2hBbGwgPSBmdW5jdGlvbiBfcmVmcmVzaEFsbChmb3JjZSwgc2tpcFJldmVydCkge1xuICAgIGlmIChfbGFzdFNjcm9sbFRpbWUgJiYgIWZvcmNlKSB7XG4gICAgICBfYWRkTGlzdGVuZXIkMShTY3JvbGxUcmlnZ2VyJDEsIFwic2Nyb2xsRW5kXCIsIF9zb2Z0UmVmcmVzaCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBfcmVmcmVzaGluZ0FsbCA9IHRydWU7XG5cbiAgICB2YXIgcmVmcmVzaEluaXRzID0gX2Rpc3BhdGNoKFwicmVmcmVzaEluaXRcIik7XG5cbiAgICBfc29ydCAmJiBTY3JvbGxUcmlnZ2VyJDEuc29ydCgpO1xuICAgIHNraXBSZXZlcnQgfHwgX3JldmVydEFsbCgpO1xuXG4gICAgX3RyaWdnZXJzLnNsaWNlKDApLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiB0LnJlZnJlc2goKTtcbiAgICB9KTtcblxuICAgIF90cmlnZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gdC52YXJzLmVuZCA9PT0gXCJtYXhcIiAmJiB0LnNldFBvc2l0aW9ucyh0LnN0YXJ0LCBfbWF4U2Nyb2xsKHQuc2Nyb2xsZXIsIHQuX2RpcikpO1xuICAgIH0pO1xuXG4gICAgcmVmcmVzaEluaXRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCAmJiByZXN1bHQucmVuZGVyICYmIHJlc3VsdC5yZW5kZXIoLTEpO1xuICAgIH0pO1xuXG4gICAgX2NsZWFyU2Nyb2xsTWVtb3J5KCk7XG5cbiAgICBfcmVzaXplRGVsYXkucGF1c2UoKTtcblxuICAgIF9yZWZyZXNoSUQrKztcbiAgICBfcmVmcmVzaGluZ0FsbCA9IGZhbHNlO1xuXG4gICAgX2Rpc3BhdGNoKFwicmVmcmVzaFwiKTtcbiAgfSxcbiAgICAgIF9sYXN0U2Nyb2xsID0gMCxcbiAgICAgIF9kaXJlY3Rpb24gPSAxLFxuICAgICAgX3ByaW1hcnksXG4gICAgICBfdXBkYXRlQWxsID0gZnVuY3Rpb24gX3VwZGF0ZUFsbCgpIHtcbiAgICBpZiAoIV9yZWZyZXNoaW5nQWxsKSB7XG4gICAgICBTY3JvbGxUcmlnZ2VyJDEuaXNVcGRhdGluZyA9IHRydWU7XG4gICAgICBfcHJpbWFyeSAmJiBfcHJpbWFyeS51cGRhdGUoMCk7XG5cbiAgICAgIHZhciBsID0gX3RyaWdnZXJzLmxlbmd0aCxcbiAgICAgICAgICB0aW1lID0gX2dldFRpbWUkMSgpLFxuICAgICAgICAgIHJlY29yZFZlbG9jaXR5ID0gdGltZSAtIF90aW1lMSA+PSA1MCxcbiAgICAgICAgICBzY3JvbGwgPSBsICYmIF90cmlnZ2Vyc1swXS5zY3JvbGwoKTtcblxuICAgICAgX2RpcmVjdGlvbiA9IF9sYXN0U2Nyb2xsID4gc2Nyb2xsID8gLTEgOiAxO1xuICAgICAgX2xhc3RTY3JvbGwgPSBzY3JvbGw7XG5cbiAgICAgIGlmIChyZWNvcmRWZWxvY2l0eSkge1xuICAgICAgICBpZiAoX2xhc3RTY3JvbGxUaW1lICYmICFfcG9pbnRlcklzRG93biAmJiB0aW1lIC0gX2xhc3RTY3JvbGxUaW1lID4gMjAwKSB7XG4gICAgICAgICAgX2xhc3RTY3JvbGxUaW1lID0gMDtcblxuICAgICAgICAgIF9kaXNwYXRjaChcInNjcm9sbEVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aW1lMiA9IF90aW1lMTtcbiAgICAgICAgX3RpbWUxID0gdGltZTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9kaXJlY3Rpb24gPCAwKSB7XG4gICAgICAgIF9pID0gbDtcblxuICAgICAgICB3aGlsZSAoX2ktLSA+IDApIHtcbiAgICAgICAgICBfdHJpZ2dlcnNbX2ldICYmIF90cmlnZ2Vyc1tfaV0udXBkYXRlKDAsIHJlY29yZFZlbG9jaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9kaXJlY3Rpb24gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChfaSA9IDA7IF9pIDwgbDsgX2krKykge1xuICAgICAgICAgIF90cmlnZ2Vyc1tfaV0gJiYgX3RyaWdnZXJzW19pXS51cGRhdGUoMCwgcmVjb3JkVmVsb2NpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFNjcm9sbFRyaWdnZXIkMS5pc1VwZGF0aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX3JhZklEID0gMDtcbiAgfSxcbiAgICAgIF9wcm9wTmFtZXNUb0NvcHkgPSBbX2xlZnQsIF90b3AsIF9ib3R0b20sIF9yaWdodCwgX21hcmdpbiArIF9Cb3R0b20sIF9tYXJnaW4gKyBfUmlnaHQsIF9tYXJnaW4gKyBfVG9wLCBfbWFyZ2luICsgX0xlZnQsIFwiZGlzcGxheVwiLCBcImZsZXhTaHJpbmtcIiwgXCJmbG9hdFwiLCBcInpJbmRleFwiLCBcImdyaWRDb2x1bW5TdGFydFwiLCBcImdyaWRDb2x1bW5FbmRcIiwgXCJncmlkUm93U3RhcnRcIiwgXCJncmlkUm93RW5kXCIsIFwiZ3JpZEFyZWFcIiwgXCJqdXN0aWZ5U2VsZlwiLCBcImFsaWduU2VsZlwiLCBcInBsYWNlU2VsZlwiLCBcIm9yZGVyXCJdLFxuICAgICAgX3N0YXRlUHJvcHMgPSBfcHJvcE5hbWVzVG9Db3B5LmNvbmNhdChbX3dpZHRoLCBfaGVpZ2h0LCBcImJveFNpemluZ1wiLCBcIm1heFwiICsgX1dpZHRoLCBcIm1heFwiICsgX0hlaWdodCwgXCJwb3NpdGlvblwiLCBfbWFyZ2luLCBfcGFkZGluZywgX3BhZGRpbmcgKyBfVG9wLCBfcGFkZGluZyArIF9SaWdodCwgX3BhZGRpbmcgKyBfQm90dG9tLCBfcGFkZGluZyArIF9MZWZ0XSksXG4gICAgICBfc3dhcFBpbk91dCA9IGZ1bmN0aW9uIF9zd2FwUGluT3V0KHBpbiwgc3BhY2VyLCBzdGF0ZSkge1xuICAgIF9zZXRTdGF0ZShzdGF0ZSk7XG5cbiAgICB2YXIgY2FjaGUgPSBwaW4uX2dzYXA7XG5cbiAgICBpZiAoY2FjaGUuc3BhY2VySXNOYXRpdmUpIHtcbiAgICAgIF9zZXRTdGF0ZShjYWNoZS5zcGFjZXJTdGF0ZSk7XG4gICAgfSBlbHNlIGlmIChwaW4ucGFyZW50Tm9kZSA9PT0gc3BhY2VyKSB7XG4gICAgICB2YXIgcGFyZW50ID0gc3BhY2VyLnBhcmVudE5vZGU7XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShwaW4sIHNwYWNlcik7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChzcGFjZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgICAgIF9zd2FwUGluSW4gPSBmdW5jdGlvbiBfc3dhcFBpbkluKHBpbiwgc3BhY2VyLCBjcywgc3BhY2VyU3RhdGUpIHtcbiAgICBpZiAocGluLnBhcmVudE5vZGUgIT09IHNwYWNlcikge1xuICAgICAgdmFyIGkgPSBfcHJvcE5hbWVzVG9Db3B5Lmxlbmd0aCxcbiAgICAgICAgICBzcGFjZXJTdHlsZSA9IHNwYWNlci5zdHlsZSxcbiAgICAgICAgICBwaW5TdHlsZSA9IHBpbi5zdHlsZSxcbiAgICAgICAgICBwO1xuXG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHAgPSBfcHJvcE5hbWVzVG9Db3B5W2ldO1xuICAgICAgICBzcGFjZXJTdHlsZVtwXSA9IGNzW3BdO1xuICAgICAgfVxuXG4gICAgICBzcGFjZXJTdHlsZS5wb3NpdGlvbiA9IGNzLnBvc2l0aW9uID09PSBcImFic29sdXRlXCIgPyBcImFic29sdXRlXCIgOiBcInJlbGF0aXZlXCI7XG4gICAgICBjcy5kaXNwbGF5ID09PSBcImlubGluZVwiICYmIChzcGFjZXJTdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIik7XG4gICAgICBwaW5TdHlsZVtfYm90dG9tXSA9IHBpblN0eWxlW19yaWdodF0gPSBzcGFjZXJTdHlsZS5mbGV4QmFzaXMgPSBcImF1dG9cIjtcbiAgICAgIHNwYWNlclN0eWxlLm92ZXJmbG93ID0gXCJ2aXNpYmxlXCI7XG4gICAgICBzcGFjZXJTdHlsZS5ib3hTaXppbmcgPSBcImJvcmRlci1ib3hcIjtcbiAgICAgIHNwYWNlclN0eWxlW193aWR0aF0gPSBfZ2V0U2l6ZShwaW4sIF9ob3Jpem9udGFsKSArIF9weDtcbiAgICAgIHNwYWNlclN0eWxlW19oZWlnaHRdID0gX2dldFNpemUocGluLCBfdmVydGljYWwpICsgX3B4O1xuICAgICAgc3BhY2VyU3R5bGVbX3BhZGRpbmddID0gcGluU3R5bGVbX21hcmdpbl0gPSBwaW5TdHlsZVtfdG9wXSA9IHBpblN0eWxlW19sZWZ0XSA9IFwiMFwiO1xuXG4gICAgICBfc2V0U3RhdGUoc3BhY2VyU3RhdGUpO1xuXG4gICAgICBwaW5TdHlsZVtfd2lkdGhdID0gcGluU3R5bGVbXCJtYXhcIiArIF9XaWR0aF0gPSBjc1tfd2lkdGhdO1xuICAgICAgcGluU3R5bGVbX2hlaWdodF0gPSBwaW5TdHlsZVtcIm1heFwiICsgX0hlaWdodF0gPSBjc1tfaGVpZ2h0XTtcbiAgICAgIHBpblN0eWxlW19wYWRkaW5nXSA9IGNzW19wYWRkaW5nXTtcbiAgICAgIHBpbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzcGFjZXIsIHBpbik7XG4gICAgICBzcGFjZXIuYXBwZW5kQ2hpbGQocGluKTtcbiAgICB9XG4gIH0sXG4gICAgICBfY2Fwc0V4cCA9IC8oW0EtWl0pL2csXG4gICAgICBfc2V0U3RhdGUgPSBmdW5jdGlvbiBfc2V0U3RhdGUoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIHZhciBzdHlsZSA9IHN0YXRlLnQuc3R5bGUsXG4gICAgICAgICAgbCA9IHN0YXRlLmxlbmd0aCxcbiAgICAgICAgICBpID0gMCxcbiAgICAgICAgICBwLFxuICAgICAgICAgIHZhbHVlO1xuICAgICAgKHN0YXRlLnQuX2dzYXAgfHwgZ3NhcCQxLmNvcmUuZ2V0Q2FjaGUoc3RhdGUudCkpLnVuY2FjaGUgPSAxO1xuXG4gICAgICBmb3IgKDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICB2YWx1ZSA9IHN0YXRlW2kgKyAxXTtcbiAgICAgICAgcCA9IHN0YXRlW2ldO1xuXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHN0eWxlW3BdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc3R5bGVbcF0pIHtcbiAgICAgICAgICBzdHlsZS5yZW1vdmVQcm9wZXJ0eShwLnJlcGxhY2UoX2NhcHNFeHAsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICAgICAgX2dldFN0YXRlID0gZnVuY3Rpb24gX2dldFN0YXRlKGVsZW1lbnQpIHtcbiAgICB2YXIgbCA9IF9zdGF0ZVByb3BzLmxlbmd0aCxcbiAgICAgICAgc3R5bGUgPSBlbGVtZW50LnN0eWxlLFxuICAgICAgICBzdGF0ZSA9IFtdLFxuICAgICAgICBpID0gMDtcblxuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBzdGF0ZS5wdXNoKF9zdGF0ZVByb3BzW2ldLCBzdHlsZVtfc3RhdGVQcm9wc1tpXV0pO1xuICAgIH1cblxuICAgIHN0YXRlLnQgPSBlbGVtZW50O1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfSxcbiAgICAgIF9jb3B5U3RhdGUgPSBmdW5jdGlvbiBfY29weVN0YXRlKHN0YXRlLCBvdmVycmlkZSwgb21pdE9mZnNldHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgIGwgPSBzdGF0ZS5sZW5ndGgsXG4gICAgICAgIGkgPSBvbWl0T2Zmc2V0cyA/IDggOiAwLFxuICAgICAgICBwO1xuXG4gICAgZm9yICg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgIHAgPSBzdGF0ZVtpXTtcbiAgICAgIHJlc3VsdC5wdXNoKHAsIHAgaW4gb3ZlcnJpZGUgPyBvdmVycmlkZVtwXSA6IHN0YXRlW2kgKyAxXSk7XG4gICAgfVxuXG4gICAgcmVzdWx0LnQgPSBzdGF0ZS50O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gICAgICBfd2luT2Zmc2V0cyA9IHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMFxuICB9LFxuICAgICAgX3BhcnNlUG9zaXRpb24gPSBmdW5jdGlvbiBfcGFyc2VQb3NpdGlvbih2YWx1ZSwgdHJpZ2dlciwgc2Nyb2xsZXJTaXplLCBkaXJlY3Rpb24sIHNjcm9sbCwgbWFya2VyLCBtYXJrZXJTY3JvbGxlciwgc2VsZiwgc2Nyb2xsZXJCb3VuZHMsIGJvcmRlcldpZHRoLCB1c2VGaXhlZFBvc2l0aW9uLCBzY3JvbGxlck1heCwgY29udGFpbmVyQW5pbWF0aW9uKSB7XG4gICAgX2lzRnVuY3Rpb24odmFsdWUpICYmICh2YWx1ZSA9IHZhbHVlKHNlbGYpKTtcblxuICAgIGlmIChfaXNTdHJpbmcodmFsdWUpICYmIHZhbHVlLnN1YnN0cigwLCAzKSA9PT0gXCJtYXhcIikge1xuICAgICAgdmFsdWUgPSBzY3JvbGxlck1heCArICh2YWx1ZS5jaGFyQXQoNCkgPT09IFwiPVwiID8gX29mZnNldFRvUHgoXCIwXCIgKyB2YWx1ZS5zdWJzdHIoMyksIHNjcm9sbGVyU2l6ZSkgOiAwKTtcbiAgICB9XG5cbiAgICB2YXIgdGltZSA9IGNvbnRhaW5lckFuaW1hdGlvbiA/IGNvbnRhaW5lckFuaW1hdGlvbi50aW1lKCkgOiAwLFxuICAgICAgICBwMSxcbiAgICAgICAgcDIsXG4gICAgICAgIGVsZW1lbnQ7XG4gICAgY29udGFpbmVyQW5pbWF0aW9uICYmIGNvbnRhaW5lckFuaW1hdGlvbi5zZWVrKDApO1xuXG4gICAgaWYgKCFfaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICBfaXNGdW5jdGlvbih0cmlnZ2VyKSAmJiAodHJpZ2dlciA9IHRyaWdnZXIoc2VsZikpO1xuICAgICAgdmFyIG9mZnNldHMgPSB2YWx1ZS5zcGxpdChcIiBcIiksXG4gICAgICAgICAgYm91bmRzLFxuICAgICAgICAgIGxvY2FsT2Zmc2V0LFxuICAgICAgICAgIGdsb2JhbE9mZnNldCxcbiAgICAgICAgICBkaXNwbGF5O1xuICAgICAgZWxlbWVudCA9IF9nZXRUYXJnZXQodHJpZ2dlcikgfHwgX2JvZHkkMTtcbiAgICAgIGJvdW5kcyA9IF9nZXRCb3VuZHMoZWxlbWVudCkgfHwge307XG5cbiAgICAgIGlmICgoIWJvdW5kcyB8fCAhYm91bmRzLmxlZnQgJiYgIWJvdW5kcy50b3ApICYmIF9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgIGRpc3BsYXkgPSBlbGVtZW50LnN0eWxlLmRpc3BsYXk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgYm91bmRzID0gX2dldEJvdW5kcyhlbGVtZW50KTtcbiAgICAgICAgZGlzcGxheSA/IGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXkgOiBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiZGlzcGxheVwiKTtcbiAgICAgIH1cblxuICAgICAgbG9jYWxPZmZzZXQgPSBfb2Zmc2V0VG9QeChvZmZzZXRzWzBdLCBib3VuZHNbZGlyZWN0aW9uLmRdKTtcbiAgICAgIGdsb2JhbE9mZnNldCA9IF9vZmZzZXRUb1B4KG9mZnNldHNbMV0gfHwgXCIwXCIsIHNjcm9sbGVyU2l6ZSk7XG4gICAgICB2YWx1ZSA9IGJvdW5kc1tkaXJlY3Rpb24ucF0gLSBzY3JvbGxlckJvdW5kc1tkaXJlY3Rpb24ucF0gLSBib3JkZXJXaWR0aCArIGxvY2FsT2Zmc2V0ICsgc2Nyb2xsIC0gZ2xvYmFsT2Zmc2V0O1xuICAgICAgbWFya2VyU2Nyb2xsZXIgJiYgX3Bvc2l0aW9uTWFya2VyKG1hcmtlclNjcm9sbGVyLCBnbG9iYWxPZmZzZXQsIGRpcmVjdGlvbiwgc2Nyb2xsZXJTaXplIC0gZ2xvYmFsT2Zmc2V0IDwgMjAgfHwgbWFya2VyU2Nyb2xsZXIuX2lzU3RhcnQgJiYgZ2xvYmFsT2Zmc2V0ID4gMjApO1xuICAgICAgc2Nyb2xsZXJTaXplIC09IHNjcm9sbGVyU2l6ZSAtIGdsb2JhbE9mZnNldDtcbiAgICB9IGVsc2UgaWYgKG1hcmtlclNjcm9sbGVyKSB7XG4gICAgICBfcG9zaXRpb25NYXJrZXIobWFya2VyU2Nyb2xsZXIsIHNjcm9sbGVyU2l6ZSwgZGlyZWN0aW9uLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAobWFya2VyKSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSB2YWx1ZSArIHNjcm9sbGVyU2l6ZSxcbiAgICAgICAgICBpc1N0YXJ0ID0gbWFya2VyLl9pc1N0YXJ0O1xuICAgICAgcDEgPSBcInNjcm9sbFwiICsgZGlyZWN0aW9uLmQyO1xuXG4gICAgICBfcG9zaXRpb25NYXJrZXIobWFya2VyLCBwb3NpdGlvbiwgZGlyZWN0aW9uLCBpc1N0YXJ0ICYmIHBvc2l0aW9uID4gMjAgfHwgIWlzU3RhcnQgJiYgKHVzZUZpeGVkUG9zaXRpb24gPyBNYXRoLm1heChfYm9keSQxW3AxXSwgX2RvY0VsJDFbcDFdKSA6IG1hcmtlci5wYXJlbnROb2RlW3AxXSkgPD0gcG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKHVzZUZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgc2Nyb2xsZXJCb3VuZHMgPSBfZ2V0Qm91bmRzKG1hcmtlclNjcm9sbGVyKTtcbiAgICAgICAgdXNlRml4ZWRQb3NpdGlvbiAmJiAobWFya2VyLnN0eWxlW2RpcmVjdGlvbi5vcC5wXSA9IHNjcm9sbGVyQm91bmRzW2RpcmVjdGlvbi5vcC5wXSAtIGRpcmVjdGlvbi5vcC5tIC0gbWFya2VyLl9vZmZzZXQgKyBfcHgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb250YWluZXJBbmltYXRpb24gJiYgZWxlbWVudCkge1xuICAgICAgcDEgPSBfZ2V0Qm91bmRzKGVsZW1lbnQpO1xuICAgICAgY29udGFpbmVyQW5pbWF0aW9uLnNlZWsoc2Nyb2xsZXJNYXgpO1xuICAgICAgcDIgPSBfZ2V0Qm91bmRzKGVsZW1lbnQpO1xuICAgICAgY29udGFpbmVyQW5pbWF0aW9uLl9jYVNjcm9sbERpc3QgPSBwMVtkaXJlY3Rpb24ucF0gLSBwMltkaXJlY3Rpb24ucF07XG4gICAgICB2YWx1ZSA9IHZhbHVlIC8gY29udGFpbmVyQW5pbWF0aW9uLl9jYVNjcm9sbERpc3QgKiBzY3JvbGxlck1heDtcbiAgICB9XG5cbiAgICBjb250YWluZXJBbmltYXRpb24gJiYgY29udGFpbmVyQW5pbWF0aW9uLnNlZWsodGltZSk7XG4gICAgcmV0dXJuIGNvbnRhaW5lckFuaW1hdGlvbiA/IHZhbHVlIDogTWF0aC5yb3VuZCh2YWx1ZSk7XG4gIH0sXG4gICAgICBfcHJlZml4RXhwID0gLyh3ZWJraXR8bW96fGxlbmd0aHxjc3NUZXh0fGluc2V0KS9pLFxuICAgICAgX3JlcGFyZW50ID0gZnVuY3Rpb24gX3JlcGFyZW50KGVsZW1lbnQsIHBhcmVudCwgdG9wLCBsZWZ0KSB7XG4gICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAhPT0gcGFyZW50KSB7XG4gICAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlLFxuICAgICAgICAgIHAsXG4gICAgICAgICAgY3M7XG5cbiAgICAgIGlmIChwYXJlbnQgPT09IF9ib2R5JDEpIHtcbiAgICAgICAgZWxlbWVudC5fc3RPcmlnID0gc3R5bGUuY3NzVGV4dDtcbiAgICAgICAgY3MgPSBfZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAgICAgICBmb3IgKHAgaW4gY3MpIHtcbiAgICAgICAgICBpZiAoIStwICYmICFfcHJlZml4RXhwLnRlc3QocCkgJiYgY3NbcF0gJiYgdHlwZW9mIHN0eWxlW3BdID09PSBcInN0cmluZ1wiICYmIHAgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICBzdHlsZVtwXSA9IGNzW3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlLnRvcCA9IHRvcDtcbiAgICAgICAgc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZS5jc3NUZXh0ID0gZWxlbWVudC5fc3RPcmlnO1xuICAgICAgfVxuXG4gICAgICBnc2FwJDEuY29yZS5nZXRDYWNoZShlbGVtZW50KS51bmNhY2hlID0gMTtcbiAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9XG4gIH0sXG4gICAgICBfZ2V0VHdlZW5DcmVhdG9yID0gZnVuY3Rpb24gX2dldFR3ZWVuQ3JlYXRvcihzY3JvbGxlciwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIGdldFNjcm9sbCA9IF9nZXRTY3JvbGxGdW5jKHNjcm9sbGVyLCBkaXJlY3Rpb24pLFxuICAgICAgICBwcm9wID0gXCJfc2Nyb2xsXCIgKyBkaXJlY3Rpb24ucDIsXG4gICAgICAgIGxhc3RTY3JvbGwxLFxuICAgICAgICBsYXN0U2Nyb2xsMixcbiAgICAgICAgZ2V0VHdlZW4gPSBmdW5jdGlvbiBnZXRUd2VlbihzY3JvbGxUbywgdmFycywgaW5pdGlhbFZhbHVlLCBjaGFuZ2UxLCBjaGFuZ2UyKSB7XG4gICAgICB2YXIgdHdlZW4gPSBnZXRUd2Vlbi50d2VlbixcbiAgICAgICAgICBvbkNvbXBsZXRlID0gdmFycy5vbkNvbXBsZXRlLFxuICAgICAgICAgIG1vZGlmaWVycyA9IHt9O1xuICAgICAgaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlIHx8IGdldFNjcm9sbCgpO1xuICAgICAgY2hhbmdlMiA9IGNoYW5nZTEgJiYgY2hhbmdlMiB8fCAwO1xuICAgICAgY2hhbmdlMSA9IGNoYW5nZTEgfHwgc2Nyb2xsVG8gLSBpbml0aWFsVmFsdWU7XG4gICAgICB0d2VlbiAmJiB0d2Vlbi5raWxsKCk7XG4gICAgICBsYXN0U2Nyb2xsMSA9IE1hdGgucm91bmQoaW5pdGlhbFZhbHVlKTtcbiAgICAgIHZhcnNbcHJvcF0gPSBzY3JvbGxUbztcbiAgICAgIHZhcnMubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xuXG4gICAgICBtb2RpZmllcnNbcHJvcF0gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBfcm91bmQoZ2V0U2Nyb2xsKCkpO1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbGFzdFNjcm9sbDEgJiYgdmFsdWUgIT09IGxhc3RTY3JvbGwyICYmIE1hdGguYWJzKHZhbHVlIC0gbGFzdFNjcm9sbDEpID4gMiAmJiBNYXRoLmFicyh2YWx1ZSAtIGxhc3RTY3JvbGwyKSA+IDIpIHtcbiAgICAgICAgICB0d2Vlbi5raWxsKCk7XG4gICAgICAgICAgZ2V0VHdlZW4udHdlZW4gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gaW5pdGlhbFZhbHVlICsgY2hhbmdlMSAqIHR3ZWVuLnJhdGlvICsgY2hhbmdlMiAqIHR3ZWVuLnJhdGlvICogdHdlZW4ucmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0U2Nyb2xsMiA9IGxhc3RTY3JvbGwxO1xuICAgICAgICByZXR1cm4gbGFzdFNjcm9sbDEgPSBfcm91bmQodmFsdWUpO1xuICAgICAgfTtcblxuICAgICAgdmFycy5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBnZXRUd2Vlbi50d2VlbiA9IDA7XG4gICAgICAgIG9uQ29tcGxldGUgJiYgb25Db21wbGV0ZS5jYWxsKHR3ZWVuKTtcbiAgICAgIH07XG5cbiAgICAgIHR3ZWVuID0gZ2V0VHdlZW4udHdlZW4gPSBnc2FwJDEudG8oc2Nyb2xsZXIsIHZhcnMpO1xuICAgICAgcmV0dXJuIHR3ZWVuO1xuICAgIH07XG5cbiAgICBzY3JvbGxlcltwcm9wXSA9IGdldFNjcm9sbDtcblxuICAgIGdldFNjcm9sbC53aGVlbEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0VHdlZW4udHdlZW4gJiYgZ2V0VHdlZW4udHdlZW4ua2lsbCgpICYmIChnZXRUd2Vlbi50d2VlbiA9IDApO1xuICAgIH07XG5cbiAgICBfYWRkTGlzdGVuZXIkMShzY3JvbGxlciwgXCJ3aGVlbFwiLCBnZXRTY3JvbGwud2hlZWxIYW5kbGVyKTtcblxuICAgIHJldHVybiBnZXRUd2VlbjtcbiAgfTtcblxuICB2YXIgU2Nyb2xsVHJpZ2dlciQxID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjcm9sbFRyaWdnZXIodmFycywgYW5pbWF0aW9uKSB7XG4gICAgICBfY29yZUluaXR0ZWQkMSB8fCBTY3JvbGxUcmlnZ2VyLnJlZ2lzdGVyKGdzYXAkMSkgfHwgY29uc29sZS53YXJuKFwiUGxlYXNlIGdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlcilcIik7XG4gICAgICB0aGlzLmluaXQodmFycywgYW5pbWF0aW9uKTtcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gU2Nyb2xsVHJpZ2dlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uaW5pdCA9IGZ1bmN0aW9uIGluaXQodmFycywgYW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLnByb2dyZXNzID0gdGhpcy5zdGFydCA9IDA7XG4gICAgICB0aGlzLnZhcnMgJiYgdGhpcy5raWxsKHRydWUsIHRydWUpO1xuXG4gICAgICBpZiAoIV9lbmFibGVkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlID0gdGhpcy5yZWZyZXNoID0gdGhpcy5raWxsID0gX3Bhc3NUaHJvdWdoO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhcnMgPSBfc2V0RGVmYXVsdHMoX2lzU3RyaW5nKHZhcnMpIHx8IF9pc051bWJlcih2YXJzKSB8fCB2YXJzLm5vZGVUeXBlID8ge1xuICAgICAgICB0cmlnZ2VyOiB2YXJzXG4gICAgICB9IDogdmFycywgX2RlZmF1bHRzKTtcblxuICAgICAgdmFyIF92YXJzID0gdmFycyxcbiAgICAgICAgICBvblVwZGF0ZSA9IF92YXJzLm9uVXBkYXRlLFxuICAgICAgICAgIHRvZ2dsZUNsYXNzID0gX3ZhcnMudG9nZ2xlQ2xhc3MsXG4gICAgICAgICAgaWQgPSBfdmFycy5pZCxcbiAgICAgICAgICBvblRvZ2dsZSA9IF92YXJzLm9uVG9nZ2xlLFxuICAgICAgICAgIG9uUmVmcmVzaCA9IF92YXJzLm9uUmVmcmVzaCxcbiAgICAgICAgICBzY3J1YiA9IF92YXJzLnNjcnViLFxuICAgICAgICAgIHRyaWdnZXIgPSBfdmFycy50cmlnZ2VyLFxuICAgICAgICAgIHBpbiA9IF92YXJzLnBpbixcbiAgICAgICAgICBwaW5TcGFjaW5nID0gX3ZhcnMucGluU3BhY2luZyxcbiAgICAgICAgICBpbnZhbGlkYXRlT25SZWZyZXNoID0gX3ZhcnMuaW52YWxpZGF0ZU9uUmVmcmVzaCxcbiAgICAgICAgICBhbnRpY2lwYXRlUGluID0gX3ZhcnMuYW50aWNpcGF0ZVBpbixcbiAgICAgICAgICBvblNjcnViQ29tcGxldGUgPSBfdmFycy5vblNjcnViQ29tcGxldGUsXG4gICAgICAgICAgb25TbmFwQ29tcGxldGUgPSBfdmFycy5vblNuYXBDb21wbGV0ZSxcbiAgICAgICAgICBvbmNlID0gX3ZhcnMub25jZSxcbiAgICAgICAgICBzbmFwID0gX3ZhcnMuc25hcCxcbiAgICAgICAgICBwaW5SZXBhcmVudCA9IF92YXJzLnBpblJlcGFyZW50LFxuICAgICAgICAgIHBpblNwYWNlciA9IF92YXJzLnBpblNwYWNlcixcbiAgICAgICAgICBjb250YWluZXJBbmltYXRpb24gPSBfdmFycy5jb250YWluZXJBbmltYXRpb24sXG4gICAgICAgICAgZmFzdFNjcm9sbEVuZCA9IF92YXJzLmZhc3RTY3JvbGxFbmQsXG4gICAgICAgICAgcHJldmVudE92ZXJsYXBzID0gX3ZhcnMucHJldmVudE92ZXJsYXBzLFxuICAgICAgICAgIGRpcmVjdGlvbiA9IHZhcnMuaG9yaXpvbnRhbCB8fCB2YXJzLmNvbnRhaW5lckFuaW1hdGlvbiAmJiB2YXJzLmhvcml6b250YWwgIT09IGZhbHNlID8gX2hvcml6b250YWwgOiBfdmVydGljYWwsXG4gICAgICAgICAgaXNUb2dnbGUgPSAhc2NydWIgJiYgc2NydWIgIT09IDAsXG4gICAgICAgICAgc2Nyb2xsZXIgPSBfZ2V0VGFyZ2V0KHZhcnMuc2Nyb2xsZXIgfHwgX3dpbiQxKSxcbiAgICAgICAgICBzY3JvbGxlckNhY2hlID0gZ3NhcCQxLmNvcmUuZ2V0Q2FjaGUoc2Nyb2xsZXIpLFxuICAgICAgICAgIGlzVmlld3BvcnQgPSBfaXNWaWV3cG9ydCQxKHNjcm9sbGVyKSxcbiAgICAgICAgICB1c2VGaXhlZFBvc2l0aW9uID0gKFwicGluVHlwZVwiIGluIHZhcnMgPyB2YXJzLnBpblR5cGUgOiBfZ2V0UHJveHlQcm9wKHNjcm9sbGVyLCBcInBpblR5cGVcIikgfHwgaXNWaWV3cG9ydCAmJiBcImZpeGVkXCIpID09PSBcImZpeGVkXCIsXG4gICAgICAgICAgY2FsbGJhY2tzID0gW3ZhcnMub25FbnRlciwgdmFycy5vbkxlYXZlLCB2YXJzLm9uRW50ZXJCYWNrLCB2YXJzLm9uTGVhdmVCYWNrXSxcbiAgICAgICAgICB0b2dnbGVBY3Rpb25zID0gaXNUb2dnbGUgJiYgdmFycy50b2dnbGVBY3Rpb25zLnNwbGl0KFwiIFwiKSxcbiAgICAgICAgICBtYXJrZXJzID0gXCJtYXJrZXJzXCIgaW4gdmFycyA/IHZhcnMubWFya2VycyA6IF9kZWZhdWx0cy5tYXJrZXJzLFxuICAgICAgICAgIGJvcmRlcldpZHRoID0gaXNWaWV3cG9ydCA/IDAgOiBwYXJzZUZsb2F0KF9nZXRDb21wdXRlZFN0eWxlKHNjcm9sbGVyKVtcImJvcmRlclwiICsgZGlyZWN0aW9uLnAyICsgX1dpZHRoXSkgfHwgMCxcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvblJlZnJlc2hJbml0ID0gdmFycy5vblJlZnJlc2hJbml0ICYmIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhcnMub25SZWZyZXNoSW5pdChzZWxmKTtcbiAgICAgIH0sXG4gICAgICAgICAgZ2V0U2Nyb2xsZXJTaXplID0gX2dldFNpemVGdW5jKHNjcm9sbGVyLCBpc1ZpZXdwb3J0LCBkaXJlY3Rpb24pLFxuICAgICAgICAgIGdldFNjcm9sbGVyT2Zmc2V0cyA9IF9nZXRPZmZzZXRzRnVuYyhzY3JvbGxlciwgaXNWaWV3cG9ydCksXG4gICAgICAgICAgbGFzdFNuYXAgPSAwLFxuICAgICAgICAgIGxhc3RSZWZyZXNoID0gMCxcbiAgICAgICAgICBzY3JvbGxGdW5jID0gX2dldFNjcm9sbEZ1bmMoc2Nyb2xsZXIsIGRpcmVjdGlvbiksXG4gICAgICAgICAgdHdlZW5UbyxcbiAgICAgICAgICBwaW5DYWNoZSxcbiAgICAgICAgICBzbmFwRnVuYyxcbiAgICAgICAgICBzY3JvbGwxLFxuICAgICAgICAgIHNjcm9sbDIsXG4gICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgZW5kLFxuICAgICAgICAgIG1hcmtlclN0YXJ0LFxuICAgICAgICAgIG1hcmtlckVuZCxcbiAgICAgICAgICBtYXJrZXJTdGFydFRyaWdnZXIsXG4gICAgICAgICAgbWFya2VyRW5kVHJpZ2dlcixcbiAgICAgICAgICBtYXJrZXJWYXJzLFxuICAgICAgICAgIGNoYW5nZSxcbiAgICAgICAgICBwaW5PcmlnaW5hbFN0YXRlLFxuICAgICAgICAgIHBpbkFjdGl2ZVN0YXRlLFxuICAgICAgICAgIHBpblN0YXRlLFxuICAgICAgICAgIHNwYWNlcixcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgcGluR2V0dGVyLFxuICAgICAgICAgIHBpblNldHRlcixcbiAgICAgICAgICBwaW5TdGFydCxcbiAgICAgICAgICBwaW5DaGFuZ2UsXG4gICAgICAgICAgc3BhY2luZ1N0YXJ0LFxuICAgICAgICAgIHNwYWNlclN0YXRlLFxuICAgICAgICAgIG1hcmtlclN0YXJ0U2V0dGVyLFxuICAgICAgICAgIG1hcmtlckVuZFNldHRlcixcbiAgICAgICAgICBjcyxcbiAgICAgICAgICBzbmFwMSxcbiAgICAgICAgICBzbmFwMixcbiAgICAgICAgICBzY3J1YlR3ZWVuLFxuICAgICAgICAgIHNjcnViU21vb3RoLFxuICAgICAgICAgIHNuYXBEdXJDbGFtcCxcbiAgICAgICAgICBzbmFwRGVsYXllZENhbGwsXG4gICAgICAgICAgcHJldlByb2dyZXNzLFxuICAgICAgICAgIHByZXZTY3JvbGwsXG4gICAgICAgICAgcHJldkFuaW1Qcm9ncmVzcyxcbiAgICAgICAgICBjYU1hcmtlclNldHRlcixcbiAgICAgICAgICBjdXN0b21SZXZlcnRSZXR1cm47XG5cbiAgICAgIHNlbGYubWVkaWEgPSBfY3JlYXRpbmdNZWRpYTtcbiAgICAgIHNlbGYuX2RpciA9IGRpcmVjdGlvbjtcbiAgICAgIGFudGljaXBhdGVQaW4gKj0gNDU7XG4gICAgICBzZWxmLnNjcm9sbGVyID0gc2Nyb2xsZXI7XG4gICAgICBzZWxmLnNjcm9sbCA9IGNvbnRhaW5lckFuaW1hdGlvbiA/IGNvbnRhaW5lckFuaW1hdGlvbi50aW1lLmJpbmQoY29udGFpbmVyQW5pbWF0aW9uKSA6IHNjcm9sbEZ1bmM7XG4gICAgICBzY3JvbGwxID0gc2Nyb2xsRnVuYygpO1xuICAgICAgc2VsZi52YXJzID0gdmFycztcbiAgICAgIGFuaW1hdGlvbiA9IGFuaW1hdGlvbiB8fCB2YXJzLmFuaW1hdGlvbjtcblxuICAgICAgaWYgKFwicmVmcmVzaFByaW9yaXR5XCIgaW4gdmFycykge1xuICAgICAgICBfc29ydCA9IDE7XG4gICAgICAgIHZhcnMucmVmcmVzaFByaW9yaXR5ID09PSAtOTk5OSAmJiAoX3ByaW1hcnkgPSBzZWxmKTtcbiAgICAgIH1cblxuICAgICAgc2Nyb2xsZXJDYWNoZS50d2VlblNjcm9sbCA9IHNjcm9sbGVyQ2FjaGUudHdlZW5TY3JvbGwgfHwge1xuICAgICAgICB0b3A6IF9nZXRUd2VlbkNyZWF0b3Ioc2Nyb2xsZXIsIF92ZXJ0aWNhbCksXG4gICAgICAgIGxlZnQ6IF9nZXRUd2VlbkNyZWF0b3Ioc2Nyb2xsZXIsIF9ob3Jpem9udGFsKVxuICAgICAgfTtcbiAgICAgIHNlbGYudHdlZW5UbyA9IHR3ZWVuVG8gPSBzY3JvbGxlckNhY2hlLnR3ZWVuU2Nyb2xsW2RpcmVjdGlvbi5wXTtcblxuICAgICAgc2VsZi5zY3J1YkR1cmF0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHNjcnViU21vb3RoID0gX2lzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZTtcblxuICAgICAgICBpZiAoIXNjcnViU21vb3RoKSB7XG4gICAgICAgICAgc2NydWJUd2VlbiAmJiBzY3J1YlR3ZWVuLnByb2dyZXNzKDEpLmtpbGwoKTtcbiAgICAgICAgICBzY3J1YlR3ZWVuID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY3J1YlR3ZWVuID8gc2NydWJUd2Vlbi5kdXJhdGlvbih2YWx1ZSkgOiBzY3J1YlR3ZWVuID0gZ3NhcCQxLnRvKGFuaW1hdGlvbiwge1xuICAgICAgICAgICAgZWFzZTogXCJleHBvXCIsXG4gICAgICAgICAgICB0b3RhbFByb2dyZXNzOiBcIis9MC4wMDFcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiBzY3J1YlNtb290aCxcbiAgICAgICAgICAgIHBhdXNlZDogdHJ1ZSxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvblNjcnViQ29tcGxldGUgJiYgb25TY3J1YkNvbXBsZXRlKHNlbGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIGFuaW1hdGlvbi52YXJzLmxhenkgPSBmYWxzZTtcbiAgICAgICAgYW5pbWF0aW9uLl9pbml0dGVkIHx8IGFuaW1hdGlvbi52YXJzLmltbWVkaWF0ZVJlbmRlciAhPT0gZmFsc2UgJiYgdmFycy5pbW1lZGlhdGVSZW5kZXIgIT09IGZhbHNlICYmIGFuaW1hdGlvbi5yZW5kZXIoMCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHNlbGYuYW5pbWF0aW9uID0gYW5pbWF0aW9uLnBhdXNlKCk7XG4gICAgICAgIGFuaW1hdGlvbi5zY3JvbGxUcmlnZ2VyID0gc2VsZjtcbiAgICAgICAgc2VsZi5zY3J1YkR1cmF0aW9uKHNjcnViKTtcbiAgICAgICAgc25hcDEgPSAwO1xuICAgICAgICBpZCB8fCAoaWQgPSBhbmltYXRpb24udmFycy5pZCk7XG4gICAgICB9XG5cbiAgICAgIF90cmlnZ2Vycy5wdXNoKHNlbGYpO1xuXG4gICAgICBpZiAoc25hcCkge1xuICAgICAgICBpZiAoIV9pc09iamVjdChzbmFwKSB8fCBzbmFwLnB1c2gpIHtcbiAgICAgICAgICBzbmFwID0ge1xuICAgICAgICAgICAgc25hcFRvOiBzbmFwXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIFwic2Nyb2xsQmVoYXZpb3JcIiBpbiBfYm9keSQxLnN0eWxlICYmIGdzYXAkMS5zZXQoaXNWaWV3cG9ydCA/IFtfYm9keSQxLCBfZG9jRWwkMV0gOiBzY3JvbGxlciwge1xuICAgICAgICAgIHNjcm9sbEJlaGF2aW9yOiBcImF1dG9cIlxuICAgICAgICB9KTtcbiAgICAgICAgc25hcEZ1bmMgPSBfaXNGdW5jdGlvbihzbmFwLnNuYXBUbykgPyBzbmFwLnNuYXBUbyA6IHNuYXAuc25hcFRvID09PSBcImxhYmVsc1wiID8gX2dldENsb3Nlc3RMYWJlbChhbmltYXRpb24pIDogc25hcC5zbmFwVG8gPT09IFwibGFiZWxzRGlyZWN0aW9uYWxcIiA/IF9nZXRMYWJlbEF0RGlyZWN0aW9uKGFuaW1hdGlvbikgOiBzbmFwLmRpcmVjdGlvbmFsICE9PSBmYWxzZSA/IGZ1bmN0aW9uICh2YWx1ZSwgc3QpIHtcbiAgICAgICAgICByZXR1cm4gX3NuYXBEaXJlY3Rpb25hbChzbmFwLnNuYXBUbykodmFsdWUsIF9nZXRUaW1lJDEoKSAtIGxhc3RSZWZyZXNoIDwgNTAwID8gMCA6IHN0LmRpcmVjdGlvbik7XG4gICAgICAgIH0gOiBnc2FwJDEudXRpbHMuc25hcChzbmFwLnNuYXBUbyk7XG4gICAgICAgIHNuYXBEdXJDbGFtcCA9IHNuYXAuZHVyYXRpb24gfHwge1xuICAgICAgICAgIG1pbjogMC4xLFxuICAgICAgICAgIG1heDogMlxuICAgICAgICB9O1xuICAgICAgICBzbmFwRHVyQ2xhbXAgPSBfaXNPYmplY3Qoc25hcER1ckNsYW1wKSA/IF9jbGFtcCQxKHNuYXBEdXJDbGFtcC5taW4sIHNuYXBEdXJDbGFtcC5tYXgpIDogX2NsYW1wJDEoc25hcER1ckNsYW1wLCBzbmFwRHVyQ2xhbXApO1xuICAgICAgICBzbmFwRGVsYXllZENhbGwgPSBnc2FwJDEuZGVsYXllZENhbGwoc25hcC5kZWxheSB8fCBzY3J1YlNtb290aCAvIDIgfHwgMC4xLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbCA9IHNjcm9sbEZ1bmMoKSxcbiAgICAgICAgICAgICAgcmVmcmVzaGVkUmVjZW50bHkgPSBfZ2V0VGltZSQxKCkgLSBsYXN0UmVmcmVzaCA8IDUwMCxcbiAgICAgICAgICAgICAgdHdlZW4gPSB0d2VlblRvLnR3ZWVuO1xuXG4gICAgICAgICAgaWYgKChyZWZyZXNoZWRSZWNlbnRseSB8fCBNYXRoLmFicyhzZWxmLmdldFZlbG9jaXR5KCkpIDwgMTApICYmICF0d2VlbiAmJiAhX3BvaW50ZXJJc0Rvd24gJiYgbGFzdFNuYXAgIT09IHNjcm9sbCkge1xuICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gKHNjcm9sbCAtIHN0YXJ0KSAvIGNoYW5nZSxcbiAgICAgICAgICAgICAgICB0b3RhbFByb2dyZXNzID0gYW5pbWF0aW9uICYmICFpc1RvZ2dsZSA/IGFuaW1hdGlvbi50b3RhbFByb2dyZXNzKCkgOiBwcm9ncmVzcyxcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IHJlZnJlc2hlZFJlY2VudGx5ID8gMCA6ICh0b3RhbFByb2dyZXNzIC0gc25hcDIpIC8gKF9nZXRUaW1lJDEoKSAtIF90aW1lMikgKiAxMDAwIHx8IDAsXG4gICAgICAgICAgICAgICAgY2hhbmdlMSA9IGdzYXAkMS51dGlscy5jbGFtcCgtcHJvZ3Jlc3MsIDEgLSBwcm9ncmVzcywgX2Ficyh2ZWxvY2l0eSAvIDIpICogdmVsb2NpdHkgLyAwLjE4NSksXG4gICAgICAgICAgICAgICAgbmF0dXJhbEVuZCA9IHByb2dyZXNzICsgKHNuYXAuaW5lcnRpYSA9PT0gZmFsc2UgPyAwIDogY2hhbmdlMSksXG4gICAgICAgICAgICAgICAgZW5kVmFsdWUgPSBfY2xhbXAkMSgwLCAxLCBzbmFwRnVuYyhuYXR1cmFsRW5kLCBzZWxmKSksXG4gICAgICAgICAgICAgICAgZW5kU2Nyb2xsID0gTWF0aC5yb3VuZChzdGFydCArIGVuZFZhbHVlICogY2hhbmdlKSxcbiAgICAgICAgICAgICAgICBfc25hcCA9IHNuYXAsXG4gICAgICAgICAgICAgICAgb25TdGFydCA9IF9zbmFwLm9uU3RhcnQsXG4gICAgICAgICAgICAgICAgX29uSW50ZXJydXB0ID0gX3NuYXAub25JbnRlcnJ1cHQsXG4gICAgICAgICAgICAgICAgX29uQ29tcGxldGUgPSBfc25hcC5vbkNvbXBsZXRlO1xuXG4gICAgICAgICAgICBpZiAoc2Nyb2xsIDw9IGVuZCAmJiBzY3JvbGwgPj0gc3RhcnQgJiYgZW5kU2Nyb2xsICE9PSBzY3JvbGwpIHtcbiAgICAgICAgICAgICAgaWYgKHR3ZWVuICYmICF0d2Vlbi5faW5pdHRlZCAmJiB0d2Vlbi5kYXRhIDw9IF9hYnMoZW5kU2Nyb2xsIC0gc2Nyb2xsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChzbmFwLmluZXJ0aWEgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlMSA9IGVuZFZhbHVlIC0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0d2VlblRvKGVuZFNjcm9sbCwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzbmFwRHVyQ2xhbXAoX2FicyhNYXRoLm1heChfYWJzKG5hdHVyYWxFbmQgLSB0b3RhbFByb2dyZXNzKSwgX2FicyhlbmRWYWx1ZSAtIHRvdGFsUHJvZ3Jlc3MpKSAqIDAuMTg1IC8gdmVsb2NpdHkgLyAwLjA1IHx8IDApKSxcbiAgICAgICAgICAgICAgICBlYXNlOiBzbmFwLmVhc2UgfHwgXCJwb3dlcjNcIixcbiAgICAgICAgICAgICAgICBkYXRhOiBfYWJzKGVuZFNjcm9sbCAtIHNjcm9sbCksXG4gICAgICAgICAgICAgICAgb25JbnRlcnJ1cHQ6IGZ1bmN0aW9uIG9uSW50ZXJydXB0KCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNuYXBEZWxheWVkQ2FsbC5yZXN0YXJ0KHRydWUpICYmIF9vbkludGVycnVwdCAmJiBfb25JbnRlcnJ1cHQoc2VsZik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgIGxhc3RTbmFwID0gc2Nyb2xsRnVuYygpO1xuICAgICAgICAgICAgICAgICAgc25hcDEgPSBzbmFwMiA9IGFuaW1hdGlvbiAmJiAhaXNUb2dnbGUgPyBhbmltYXRpb24udG90YWxQcm9ncmVzcygpIDogc2VsZi5wcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgIG9uU25hcENvbXBsZXRlICYmIG9uU25hcENvbXBsZXRlKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgX29uQ29tcGxldGUgJiYgX29uQ29tcGxldGUoc2VsZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBzY3JvbGwsIGNoYW5nZTEgKiBjaGFuZ2UsIGVuZFNjcm9sbCAtIHNjcm9sbCAtIGNoYW5nZTEgKiBjaGFuZ2UpO1xuICAgICAgICAgICAgICBvblN0YXJ0ICYmIG9uU3RhcnQoc2VsZiwgdHdlZW5Uby50d2Vlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChzZWxmLmlzQWN0aXZlICYmIGxhc3RTbmFwICE9PSBzY3JvbGwpIHtcbiAgICAgICAgICAgIHNuYXBEZWxheWVkQ2FsbC5yZXN0YXJ0KHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkucGF1c2UoKTtcbiAgICAgIH1cblxuICAgICAgaWQgJiYgKF9pZHNbaWRdID0gc2VsZik7XG4gICAgICB0cmlnZ2VyID0gc2VsZi50cmlnZ2VyID0gX2dldFRhcmdldCh0cmlnZ2VyIHx8IHBpbik7XG4gICAgICBjdXN0b21SZXZlcnRSZXR1cm4gPSB0cmlnZ2VyICYmIHRyaWdnZXIuX2dzYXAgJiYgdHJpZ2dlci5fZ3NhcC5zdFJldmVydDtcbiAgICAgIGN1c3RvbVJldmVydFJldHVybiAmJiAoY3VzdG9tUmV2ZXJ0UmV0dXJuID0gY3VzdG9tUmV2ZXJ0UmV0dXJuKHNlbGYpKTtcbiAgICAgIHBpbiA9IHBpbiA9PT0gdHJ1ZSA/IHRyaWdnZXIgOiBfZ2V0VGFyZ2V0KHBpbik7XG4gICAgICBfaXNTdHJpbmcodG9nZ2xlQ2xhc3MpICYmICh0b2dnbGVDbGFzcyA9IHtcbiAgICAgICAgdGFyZ2V0czogdHJpZ2dlcixcbiAgICAgICAgY2xhc3NOYW1lOiB0b2dnbGVDbGFzc1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChwaW4pIHtcbiAgICAgICAgcGluU3BhY2luZyA9PT0gZmFsc2UgfHwgcGluU3BhY2luZyA9PT0gX21hcmdpbiB8fCAocGluU3BhY2luZyA9ICFwaW5TcGFjaW5nICYmIF9nZXRDb21wdXRlZFN0eWxlKHBpbi5wYXJlbnROb2RlKS5kaXNwbGF5ID09PSBcImZsZXhcIiA/IGZhbHNlIDogX3BhZGRpbmcpO1xuICAgICAgICBzZWxmLnBpbiA9IHBpbjtcbiAgICAgICAgdmFycy5mb3JjZTNEICE9PSBmYWxzZSAmJiBnc2FwJDEuc2V0KHBpbiwge1xuICAgICAgICAgIGZvcmNlM0Q6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHBpbkNhY2hlID0gZ3NhcCQxLmNvcmUuZ2V0Q2FjaGUocGluKTtcblxuICAgICAgICBpZiAoIXBpbkNhY2hlLnNwYWNlcikge1xuICAgICAgICAgIGlmIChwaW5TcGFjZXIpIHtcbiAgICAgICAgICAgIHBpblNwYWNlciA9IF9nZXRUYXJnZXQocGluU3BhY2VyKTtcbiAgICAgICAgICAgIHBpblNwYWNlciAmJiAhcGluU3BhY2VyLm5vZGVUeXBlICYmIChwaW5TcGFjZXIgPSBwaW5TcGFjZXIuY3VycmVudCB8fCBwaW5TcGFjZXIubmF0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICBwaW5DYWNoZS5zcGFjZXJJc05hdGl2ZSA9ICEhcGluU3BhY2VyO1xuICAgICAgICAgICAgcGluU3BhY2VyICYmIChwaW5DYWNoZS5zcGFjZXJTdGF0ZSA9IF9nZXRTdGF0ZShwaW5TcGFjZXIpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwaW5DYWNoZS5zcGFjZXIgPSBzcGFjZXIgPSBwaW5TcGFjZXIgfHwgX2RvYyQxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgc3BhY2VyLmNsYXNzTGlzdC5hZGQoXCJwaW4tc3BhY2VyXCIpO1xuICAgICAgICAgIGlkICYmIHNwYWNlci5jbGFzc0xpc3QuYWRkKFwicGluLXNwYWNlci1cIiArIGlkKTtcbiAgICAgICAgICBwaW5DYWNoZS5waW5TdGF0ZSA9IHBpbk9yaWdpbmFsU3RhdGUgPSBfZ2V0U3RhdGUocGluKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwaW5PcmlnaW5hbFN0YXRlID0gcGluQ2FjaGUucGluU3RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnNwYWNlciA9IHNwYWNlciA9IHBpbkNhY2hlLnNwYWNlcjtcbiAgICAgICAgY3MgPSBfZ2V0Q29tcHV0ZWRTdHlsZShwaW4pO1xuICAgICAgICBzcGFjaW5nU3RhcnQgPSBjc1twaW5TcGFjaW5nICsgZGlyZWN0aW9uLm9zMl07XG4gICAgICAgIHBpbkdldHRlciA9IGdzYXAkMS5nZXRQcm9wZXJ0eShwaW4pO1xuICAgICAgICBwaW5TZXR0ZXIgPSBnc2FwJDEucXVpY2tTZXR0ZXIocGluLCBkaXJlY3Rpb24uYSwgX3B4KTtcblxuICAgICAgICBfc3dhcFBpbkluKHBpbiwgc3BhY2VyLCBjcyk7XG5cbiAgICAgICAgcGluU3RhdGUgPSBfZ2V0U3RhdGUocGluKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hcmtlcnMpIHtcbiAgICAgICAgbWFya2VyVmFycyA9IF9pc09iamVjdChtYXJrZXJzKSA/IF9zZXREZWZhdWx0cyhtYXJrZXJzLCBfbWFya2VyRGVmYXVsdHMpIDogX21hcmtlckRlZmF1bHRzO1xuICAgICAgICBtYXJrZXJTdGFydFRyaWdnZXIgPSBfY3JlYXRlTWFya2VyKFwic2Nyb2xsZXItc3RhcnRcIiwgaWQsIHNjcm9sbGVyLCBkaXJlY3Rpb24sIG1hcmtlclZhcnMsIDApO1xuICAgICAgICBtYXJrZXJFbmRUcmlnZ2VyID0gX2NyZWF0ZU1hcmtlcihcInNjcm9sbGVyLWVuZFwiLCBpZCwgc2Nyb2xsZXIsIGRpcmVjdGlvbiwgbWFya2VyVmFycywgMCwgbWFya2VyU3RhcnRUcmlnZ2VyKTtcbiAgICAgICAgb2Zmc2V0ID0gbWFya2VyU3RhcnRUcmlnZ2VyW1wib2Zmc2V0XCIgKyBkaXJlY3Rpb24ub3AuZDJdO1xuXG4gICAgICAgIHZhciBjb250ZW50ID0gX2dldFRhcmdldChfZ2V0UHJveHlQcm9wKHNjcm9sbGVyLCBcImNvbnRlbnRcIikgfHwgc2Nyb2xsZXIpO1xuXG4gICAgICAgIG1hcmtlclN0YXJ0ID0gdGhpcy5tYXJrZXJTdGFydCA9IF9jcmVhdGVNYXJrZXIoXCJzdGFydFwiLCBpZCwgY29udGVudCwgZGlyZWN0aW9uLCBtYXJrZXJWYXJzLCBvZmZzZXQsIDAsIGNvbnRhaW5lckFuaW1hdGlvbik7XG4gICAgICAgIG1hcmtlckVuZCA9IHRoaXMubWFya2VyRW5kID0gX2NyZWF0ZU1hcmtlcihcImVuZFwiLCBpZCwgY29udGVudCwgZGlyZWN0aW9uLCBtYXJrZXJWYXJzLCBvZmZzZXQsIDAsIGNvbnRhaW5lckFuaW1hdGlvbik7XG4gICAgICAgIGNvbnRhaW5lckFuaW1hdGlvbiAmJiAoY2FNYXJrZXJTZXR0ZXIgPSBnc2FwJDEucXVpY2tTZXR0ZXIoW21hcmtlclN0YXJ0LCBtYXJrZXJFbmRdLCBkaXJlY3Rpb24uYSwgX3B4KSk7XG5cbiAgICAgICAgaWYgKCF1c2VGaXhlZFBvc2l0aW9uICYmICEoX3Byb3hpZXMubGVuZ3RoICYmIF9nZXRQcm94eVByb3Aoc2Nyb2xsZXIsIFwiZml4ZWRNYXJrZXJzXCIpID09PSB0cnVlKSkge1xuICAgICAgICAgIF9tYWtlUG9zaXRpb25hYmxlKGlzVmlld3BvcnQgPyBfYm9keSQxIDogc2Nyb2xsZXIpO1xuXG4gICAgICAgICAgZ3NhcCQxLnNldChbbWFya2VyU3RhcnRUcmlnZ2VyLCBtYXJrZXJFbmRUcmlnZ2VyXSwge1xuICAgICAgICAgICAgZm9yY2UzRDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG1hcmtlclN0YXJ0U2V0dGVyID0gZ3NhcCQxLnF1aWNrU2V0dGVyKG1hcmtlclN0YXJ0VHJpZ2dlciwgZGlyZWN0aW9uLmEsIF9weCk7XG4gICAgICAgICAgbWFya2VyRW5kU2V0dGVyID0gZ3NhcCQxLnF1aWNrU2V0dGVyKG1hcmtlckVuZFRyaWdnZXIsIGRpcmVjdGlvbi5hLCBfcHgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250YWluZXJBbmltYXRpb24pIHtcbiAgICAgICAgdmFyIG9sZE9uVXBkYXRlID0gY29udGFpbmVyQW5pbWF0aW9uLnZhcnMub25VcGRhdGUsXG4gICAgICAgICAgICBvbGRQYXJhbXMgPSBjb250YWluZXJBbmltYXRpb24udmFycy5vblVwZGF0ZVBhcmFtcztcbiAgICAgICAgY29udGFpbmVyQW5pbWF0aW9uLmV2ZW50Q2FsbGJhY2soXCJvblVwZGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi51cGRhdGUoMCwgMCwgMSk7XG4gICAgICAgICAgb2xkT25VcGRhdGUgJiYgb2xkT25VcGRhdGUuYXBwbHkob2xkUGFyYW1zIHx8IFtdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYucHJldmlvdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdHJpZ2dlcnNbX3RyaWdnZXJzLmluZGV4T2Yoc2VsZikgLSAxXTtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90cmlnZ2Vyc1tfdHJpZ2dlcnMuaW5kZXhPZihzZWxmKSArIDFdO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5yZXZlcnQgPSBmdW5jdGlvbiAocmV2ZXJ0KSB7XG4gICAgICAgIHZhciByID0gcmV2ZXJ0ICE9PSBmYWxzZSB8fCAhc2VsZi5lbmFibGVkLFxuICAgICAgICAgICAgcHJldlJlZnJlc2hpbmcgPSBfcmVmcmVzaGluZztcblxuICAgICAgICBpZiAociAhPT0gc2VsZi5pc1JldmVydGVkKSB7XG4gICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIHNlbGYuc2Nyb2xsLnJlYyB8fCAhX3JlZnJlc2hpbmcgfHwgIV9yZWZyZXNoaW5nQWxsIHx8IChzZWxmLnNjcm9sbC5yZWMgPSBzY3JvbGxGdW5jKCkpO1xuICAgICAgICAgICAgcHJldlNjcm9sbCA9IE1hdGgubWF4KHNjcm9sbEZ1bmMoKSwgc2VsZi5zY3JvbGwucmVjIHx8IDApO1xuICAgICAgICAgICAgcHJldlByb2dyZXNzID0gc2VsZi5wcm9ncmVzcztcbiAgICAgICAgICAgIHByZXZBbmltUHJvZ3Jlc3MgPSBhbmltYXRpb24gJiYgYW5pbWF0aW9uLnByb2dyZXNzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWFya2VyU3RhcnQgJiYgW21hcmtlclN0YXJ0LCBtYXJrZXJFbmQsIG1hcmtlclN0YXJ0VHJpZ2dlciwgbWFya2VyRW5kVHJpZ2dlcl0uZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIG0uc3R5bGUuZGlzcGxheSA9IHIgPyBcIm5vbmVcIiA6IFwiYmxvY2tcIjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByICYmIChfcmVmcmVzaGluZyA9IDEpO1xuICAgICAgICAgIHNlbGYudXBkYXRlKHIpO1xuICAgICAgICAgIF9yZWZyZXNoaW5nID0gcHJldlJlZnJlc2hpbmc7XG4gICAgICAgICAgcGluICYmIChyID8gX3N3YXBQaW5PdXQocGluLCBzcGFjZXIsIHBpbk9yaWdpbmFsU3RhdGUpIDogKCFwaW5SZXBhcmVudCB8fCAhc2VsZi5pc0FjdGl2ZSkgJiYgX3N3YXBQaW5JbihwaW4sIHNwYWNlciwgX2dldENvbXB1dGVkU3R5bGUocGluKSwgc3BhY2VyU3RhdGUpKTtcbiAgICAgICAgICBzZWxmLmlzUmV2ZXJ0ZWQgPSByO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLnJlZnJlc2ggPSBmdW5jdGlvbiAoc29mdCwgZm9yY2UpIHtcbiAgICAgICAgaWYgKChfcmVmcmVzaGluZyB8fCAhc2VsZi5lbmFibGVkKSAmJiAhZm9yY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGluICYmIHNvZnQgJiYgX2xhc3RTY3JvbGxUaW1lKSB7XG4gICAgICAgICAgX2FkZExpc3RlbmVyJDEoU2Nyb2xsVHJpZ2dlciwgXCJzY3JvbGxFbmRcIiwgX3NvZnRSZWZyZXNoKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICFfcmVmcmVzaGluZ0FsbCAmJiBvblJlZnJlc2hJbml0ICYmIG9uUmVmcmVzaEluaXQoc2VsZik7XG4gICAgICAgIF9yZWZyZXNoaW5nID0gMTtcbiAgICAgICAgbGFzdFJlZnJlc2ggPSBfZ2V0VGltZSQxKCk7XG5cbiAgICAgICAgaWYgKHR3ZWVuVG8udHdlZW4pIHtcbiAgICAgICAgICB0d2VlblRvLnR3ZWVuLmtpbGwoKTtcbiAgICAgICAgICB0d2VlblRvLnR3ZWVuID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjcnViVHdlZW4gJiYgc2NydWJUd2Vlbi5wYXVzZSgpO1xuICAgICAgICBpbnZhbGlkYXRlT25SZWZyZXNoICYmIGFuaW1hdGlvbiAmJiBhbmltYXRpb24udGltZSgtMC4wMSwgdHJ1ZSkuaW52YWxpZGF0ZSgpO1xuICAgICAgICBzZWxmLmlzUmV2ZXJ0ZWQgfHwgc2VsZi5yZXZlcnQoKTtcblxuICAgICAgICB2YXIgc2l6ZSA9IGdldFNjcm9sbGVyU2l6ZSgpLFxuICAgICAgICAgICAgc2Nyb2xsZXJCb3VuZHMgPSBnZXRTY3JvbGxlck9mZnNldHMoKSxcbiAgICAgICAgICAgIG1heCA9IGNvbnRhaW5lckFuaW1hdGlvbiA/IGNvbnRhaW5lckFuaW1hdGlvbi5kdXJhdGlvbigpIDogX21heFNjcm9sbChzY3JvbGxlciwgZGlyZWN0aW9uKSxcbiAgICAgICAgICAgIG9mZnNldCA9IDAsXG4gICAgICAgICAgICBvdGhlclBpbk9mZnNldCA9IDAsXG4gICAgICAgICAgICBwYXJzZWRFbmQgPSB2YXJzLmVuZCxcbiAgICAgICAgICAgIHBhcnNlZEVuZFRyaWdnZXIgPSB2YXJzLmVuZFRyaWdnZXIgfHwgdHJpZ2dlcixcbiAgICAgICAgICAgIHBhcnNlZFN0YXJ0ID0gdmFycy5zdGFydCB8fCAodmFycy5zdGFydCA9PT0gMCB8fCAhdHJpZ2dlciA/IDAgOiBwaW4gPyBcIjAgMFwiIDogXCIwIDEwMCVcIiksXG4gICAgICAgICAgICBwaW5uZWRDb250YWluZXIgPSBzZWxmLnBpbm5lZENvbnRhaW5lciA9IHZhcnMucGlubmVkQ29udGFpbmVyICYmIF9nZXRUYXJnZXQodmFycy5waW5uZWRDb250YWluZXIpLFxuICAgICAgICAgICAgdHJpZ2dlckluZGV4ID0gdHJpZ2dlciAmJiBNYXRoLm1heCgwLCBfdHJpZ2dlcnMuaW5kZXhPZihzZWxmKSkgfHwgMCxcbiAgICAgICAgICAgIGkgPSB0cmlnZ2VySW5kZXgsXG4gICAgICAgICAgICBjcyxcbiAgICAgICAgICAgIGJvdW5kcyxcbiAgICAgICAgICAgIHNjcm9sbCxcbiAgICAgICAgICAgIGlzVmVydGljYWwsXG4gICAgICAgICAgICBvdmVycmlkZSxcbiAgICAgICAgICAgIGN1clRyaWdnZXIsXG4gICAgICAgICAgICBjdXJQaW4sXG4gICAgICAgICAgICBvcHBvc2l0ZVNjcm9sbCxcbiAgICAgICAgICAgIGluaXR0ZWQsXG4gICAgICAgICAgICByZXZlcnRlZFBpbnM7XG5cbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIGN1clRyaWdnZXIgPSBfdHJpZ2dlcnNbaV07XG4gICAgICAgICAgY3VyVHJpZ2dlci5lbmQgfHwgY3VyVHJpZ2dlci5yZWZyZXNoKDAsIDEpIHx8IChfcmVmcmVzaGluZyA9IDEpO1xuICAgICAgICAgIGN1clBpbiA9IGN1clRyaWdnZXIucGluO1xuXG4gICAgICAgICAgaWYgKGN1clBpbiAmJiAoY3VyUGluID09PSB0cmlnZ2VyIHx8IGN1clBpbiA9PT0gcGluKSAmJiAhY3VyVHJpZ2dlci5pc1JldmVydGVkKSB7XG4gICAgICAgICAgICByZXZlcnRlZFBpbnMgfHwgKHJldmVydGVkUGlucyA9IFtdKTtcbiAgICAgICAgICAgIHJldmVydGVkUGlucy51bnNoaWZ0KGN1clRyaWdnZXIpO1xuICAgICAgICAgICAgY3VyVHJpZ2dlci5yZXZlcnQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3VyVHJpZ2dlciAhPT0gX3RyaWdnZXJzW2ldKSB7XG4gICAgICAgICAgICB0cmlnZ2VySW5kZXgtLTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfaXNGdW5jdGlvbihwYXJzZWRTdGFydCkgJiYgKHBhcnNlZFN0YXJ0ID0gcGFyc2VkU3RhcnQoc2VsZikpO1xuICAgICAgICBzdGFydCA9IF9wYXJzZVBvc2l0aW9uKHBhcnNlZFN0YXJ0LCB0cmlnZ2VyLCBzaXplLCBkaXJlY3Rpb24sIHNjcm9sbEZ1bmMoKSwgbWFya2VyU3RhcnQsIG1hcmtlclN0YXJ0VHJpZ2dlciwgc2VsZiwgc2Nyb2xsZXJCb3VuZHMsIGJvcmRlcldpZHRoLCB1c2VGaXhlZFBvc2l0aW9uLCBtYXgsIGNvbnRhaW5lckFuaW1hdGlvbikgfHwgKHBpbiA/IC0wLjAwMSA6IDApO1xuICAgICAgICBfaXNGdW5jdGlvbihwYXJzZWRFbmQpICYmIChwYXJzZWRFbmQgPSBwYXJzZWRFbmQoc2VsZikpO1xuXG4gICAgICAgIGlmIChfaXNTdHJpbmcocGFyc2VkRW5kKSAmJiAhcGFyc2VkRW5kLmluZGV4T2YoXCIrPVwiKSkge1xuICAgICAgICAgIGlmICh+cGFyc2VkRW5kLmluZGV4T2YoXCIgXCIpKSB7XG4gICAgICAgICAgICBwYXJzZWRFbmQgPSAoX2lzU3RyaW5nKHBhcnNlZFN0YXJ0KSA/IHBhcnNlZFN0YXJ0LnNwbGl0KFwiIFwiKVswXSA6IFwiXCIpICsgcGFyc2VkRW5kO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBfb2Zmc2V0VG9QeChwYXJzZWRFbmQuc3Vic3RyKDIpLCBzaXplKTtcbiAgICAgICAgICAgIHBhcnNlZEVuZCA9IF9pc1N0cmluZyhwYXJzZWRTdGFydCkgPyBwYXJzZWRTdGFydCA6IHN0YXJ0ICsgb2Zmc2V0O1xuICAgICAgICAgICAgcGFyc2VkRW5kVHJpZ2dlciA9IHRyaWdnZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZW5kID0gTWF0aC5tYXgoc3RhcnQsIF9wYXJzZVBvc2l0aW9uKHBhcnNlZEVuZCB8fCAocGFyc2VkRW5kVHJpZ2dlciA/IFwiMTAwJSAwXCIgOiBtYXgpLCBwYXJzZWRFbmRUcmlnZ2VyLCBzaXplLCBkaXJlY3Rpb24sIHNjcm9sbEZ1bmMoKSArIG9mZnNldCwgbWFya2VyRW5kLCBtYXJrZXJFbmRUcmlnZ2VyLCBzZWxmLCBzY3JvbGxlckJvdW5kcywgYm9yZGVyV2lkdGgsIHVzZUZpeGVkUG9zaXRpb24sIG1heCwgY29udGFpbmVyQW5pbWF0aW9uKSkgfHwgLTAuMDAxO1xuICAgICAgICBjaGFuZ2UgPSBlbmQgLSBzdGFydCB8fCAoc3RhcnQgLT0gMC4wMSkgJiYgMC4wMDE7XG4gICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIGkgPSB0cmlnZ2VySW5kZXg7XG5cbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIGN1clRyaWdnZXIgPSBfdHJpZ2dlcnNbaV07XG4gICAgICAgICAgY3VyUGluID0gY3VyVHJpZ2dlci5waW47XG5cbiAgICAgICAgICBpZiAoY3VyUGluICYmIGN1clRyaWdnZXIuc3RhcnQgLSBjdXJUcmlnZ2VyLl9waW5QdXNoIDwgc3RhcnQgJiYgIWNvbnRhaW5lckFuaW1hdGlvbiAmJiBjdXJUcmlnZ2VyLmVuZCA+IDApIHtcbiAgICAgICAgICAgIGNzID0gY3VyVHJpZ2dlci5lbmQgLSBjdXJUcmlnZ2VyLnN0YXJ0O1xuXG4gICAgICAgICAgICBpZiAoKGN1clBpbiA9PT0gdHJpZ2dlciB8fCBjdXJQaW4gPT09IHBpbm5lZENvbnRhaW5lcikgJiYgIV9pc051bWJlcihwYXJzZWRTdGFydCkpIHtcbiAgICAgICAgICAgICAgb2Zmc2V0ICs9IGNzICogKDEgLSBjdXJUcmlnZ2VyLnByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VyUGluID09PSBwaW4gJiYgKG90aGVyUGluT2Zmc2V0ICs9IGNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCArPSBvZmZzZXQ7XG4gICAgICAgIGVuZCArPSBvZmZzZXQ7XG4gICAgICAgIHNlbGYuX3BpblB1c2ggPSBvdGhlclBpbk9mZnNldDtcblxuICAgICAgICBpZiAobWFya2VyU3RhcnQgJiYgb2Zmc2V0KSB7XG4gICAgICAgICAgY3MgPSB7fTtcbiAgICAgICAgICBjc1tkaXJlY3Rpb24uYV0gPSBcIis9XCIgKyBvZmZzZXQ7XG4gICAgICAgICAgcGlubmVkQ29udGFpbmVyICYmIChjc1tkaXJlY3Rpb24ucF0gPSBcIi09XCIgKyBzY3JvbGxGdW5jKCkpO1xuICAgICAgICAgIGdzYXAkMS5zZXQoW21hcmtlclN0YXJ0LCBtYXJrZXJFbmRdLCBjcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGluKSB7XG4gICAgICAgICAgY3MgPSBfZ2V0Q29tcHV0ZWRTdHlsZShwaW4pO1xuICAgICAgICAgIGlzVmVydGljYWwgPSBkaXJlY3Rpb24gPT09IF92ZXJ0aWNhbDtcbiAgICAgICAgICBzY3JvbGwgPSBzY3JvbGxGdW5jKCk7XG4gICAgICAgICAgcGluU3RhcnQgPSBwYXJzZUZsb2F0KHBpbkdldHRlcihkaXJlY3Rpb24uYSkpICsgb3RoZXJQaW5PZmZzZXQ7XG4gICAgICAgICAgIW1heCAmJiBlbmQgPiAxICYmICgoaXNWaWV3cG9ydCA/IF9ib2R5JDEgOiBzY3JvbGxlcikuc3R5bGVbXCJvdmVyZmxvdy1cIiArIGRpcmVjdGlvbi5hXSA9IFwic2Nyb2xsXCIpO1xuXG4gICAgICAgICAgX3N3YXBQaW5JbihwaW4sIHNwYWNlciwgY3MpO1xuXG4gICAgICAgICAgcGluU3RhdGUgPSBfZ2V0U3RhdGUocGluKTtcbiAgICAgICAgICBib3VuZHMgPSBfZ2V0Qm91bmRzKHBpbiwgdHJ1ZSk7XG4gICAgICAgICAgb3Bwb3NpdGVTY3JvbGwgPSB1c2VGaXhlZFBvc2l0aW9uICYmIF9nZXRTY3JvbGxGdW5jKHNjcm9sbGVyLCBpc1ZlcnRpY2FsID8gX2hvcml6b250YWwgOiBfdmVydGljYWwpKCk7XG5cbiAgICAgICAgICBpZiAocGluU3BhY2luZykge1xuICAgICAgICAgICAgc3BhY2VyU3RhdGUgPSBbcGluU3BhY2luZyArIGRpcmVjdGlvbi5vczIsIGNoYW5nZSArIG90aGVyUGluT2Zmc2V0ICsgX3B4XTtcbiAgICAgICAgICAgIHNwYWNlclN0YXRlLnQgPSBzcGFjZXI7XG4gICAgICAgICAgICBpID0gcGluU3BhY2luZyA9PT0gX3BhZGRpbmcgPyBfZ2V0U2l6ZShwaW4sIGRpcmVjdGlvbikgKyBjaGFuZ2UgKyBvdGhlclBpbk9mZnNldCA6IDA7XG4gICAgICAgICAgICBpICYmIHNwYWNlclN0YXRlLnB1c2goZGlyZWN0aW9uLmQsIGkgKyBfcHgpO1xuXG4gICAgICAgICAgICBfc2V0U3RhdGUoc3BhY2VyU3RhdGUpO1xuXG4gICAgICAgICAgICB1c2VGaXhlZFBvc2l0aW9uICYmIHNjcm9sbEZ1bmMocHJldlNjcm9sbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHVzZUZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICAgIG92ZXJyaWRlID0ge1xuICAgICAgICAgICAgICB0b3A6IGJvdW5kcy50b3AgKyAoaXNWZXJ0aWNhbCA/IHNjcm9sbCAtIHN0YXJ0IDogb3Bwb3NpdGVTY3JvbGwpICsgX3B4LFxuICAgICAgICAgICAgICBsZWZ0OiBib3VuZHMubGVmdCArIChpc1ZlcnRpY2FsID8gb3Bwb3NpdGVTY3JvbGwgOiBzY3JvbGwgLSBzdGFydCkgKyBfcHgsXG4gICAgICAgICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBvdmVycmlkZVtfd2lkdGhdID0gb3ZlcnJpZGVbXCJtYXhcIiArIF9XaWR0aF0gPSBNYXRoLmNlaWwoYm91bmRzLndpZHRoKSArIF9weDtcbiAgICAgICAgICAgIG92ZXJyaWRlW19oZWlnaHRdID0gb3ZlcnJpZGVbXCJtYXhcIiArIF9IZWlnaHRdID0gTWF0aC5jZWlsKGJvdW5kcy5oZWlnaHQpICsgX3B4O1xuICAgICAgICAgICAgb3ZlcnJpZGVbX21hcmdpbl0gPSBvdmVycmlkZVtfbWFyZ2luICsgX1RvcF0gPSBvdmVycmlkZVtfbWFyZ2luICsgX1JpZ2h0XSA9IG92ZXJyaWRlW19tYXJnaW4gKyBfQm90dG9tXSA9IG92ZXJyaWRlW19tYXJnaW4gKyBfTGVmdF0gPSBcIjBcIjtcbiAgICAgICAgICAgIG92ZXJyaWRlW19wYWRkaW5nXSA9IGNzW19wYWRkaW5nXTtcbiAgICAgICAgICAgIG92ZXJyaWRlW19wYWRkaW5nICsgX1RvcF0gPSBjc1tfcGFkZGluZyArIF9Ub3BdO1xuICAgICAgICAgICAgb3ZlcnJpZGVbX3BhZGRpbmcgKyBfUmlnaHRdID0gY3NbX3BhZGRpbmcgKyBfUmlnaHRdO1xuICAgICAgICAgICAgb3ZlcnJpZGVbX3BhZGRpbmcgKyBfQm90dG9tXSA9IGNzW19wYWRkaW5nICsgX0JvdHRvbV07XG4gICAgICAgICAgICBvdmVycmlkZVtfcGFkZGluZyArIF9MZWZ0XSA9IGNzW19wYWRkaW5nICsgX0xlZnRdO1xuICAgICAgICAgICAgcGluQWN0aXZlU3RhdGUgPSBfY29weVN0YXRlKHBpbk9yaWdpbmFsU3RhdGUsIG92ZXJyaWRlLCBwaW5SZXBhcmVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFuaW1hdGlvbikge1xuICAgICAgICAgICAgaW5pdHRlZCA9IGFuaW1hdGlvbi5faW5pdHRlZDtcblxuICAgICAgICAgICAgX3N1cHByZXNzT3ZlcndyaXRlcygxKTtcblxuICAgICAgICAgICAgYW5pbWF0aW9uLnJlbmRlcihhbmltYXRpb24uZHVyYXRpb24oKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBwaW5DaGFuZ2UgPSBwaW5HZXR0ZXIoZGlyZWN0aW9uLmEpIC0gcGluU3RhcnQgKyBjaGFuZ2UgKyBvdGhlclBpbk9mZnNldDtcbiAgICAgICAgICAgIGNoYW5nZSAhPT0gcGluQ2hhbmdlICYmIHVzZUZpeGVkUG9zaXRpb24gJiYgcGluQWN0aXZlU3RhdGUuc3BsaWNlKHBpbkFjdGl2ZVN0YXRlLmxlbmd0aCAtIDIsIDIpO1xuICAgICAgICAgICAgYW5pbWF0aW9uLnJlbmRlcigwLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIGluaXR0ZWQgfHwgYW5pbWF0aW9uLmludmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgX3N1cHByZXNzT3ZlcndyaXRlcygwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGluQ2hhbmdlID0gY2hhbmdlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICYmIHNjcm9sbEZ1bmMoKSAmJiAhY29udGFpbmVyQW5pbWF0aW9uKSB7XG4gICAgICAgICAgYm91bmRzID0gdHJpZ2dlci5wYXJlbnROb2RlO1xuXG4gICAgICAgICAgd2hpbGUgKGJvdW5kcyAmJiBib3VuZHMgIT09IF9ib2R5JDEpIHtcbiAgICAgICAgICAgIGlmIChib3VuZHMuX3Bpbk9mZnNldCkge1xuICAgICAgICAgICAgICBzdGFydCAtPSBib3VuZHMuX3Bpbk9mZnNldDtcbiAgICAgICAgICAgICAgZW5kIC09IGJvdW5kcy5fcGluT2Zmc2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib3VuZHMgPSBib3VuZHMucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXZlcnRlZFBpbnMgJiYgcmV2ZXJ0ZWRQaW5zLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC5yZXZlcnQoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZi5zdGFydCA9IHN0YXJ0O1xuICAgICAgICBzZWxmLmVuZCA9IGVuZDtcbiAgICAgICAgc2Nyb2xsMSA9IHNjcm9sbDIgPSBzY3JvbGxGdW5jKCk7XG5cbiAgICAgICAgaWYgKCFjb250YWluZXJBbmltYXRpb24pIHtcbiAgICAgICAgICBzY3JvbGwxIDwgcHJldlNjcm9sbCAmJiBzY3JvbGxGdW5jKHByZXZTY3JvbGwpO1xuICAgICAgICAgIHNlbGYuc2Nyb2xsLnJlYyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnJldmVydChmYWxzZSk7XG5cbiAgICAgICAgaWYgKHNuYXBEZWxheWVkQ2FsbCkge1xuICAgICAgICAgIGxhc3RTbmFwID0gLTE7XG4gICAgICAgICAgc2VsZi5pc0FjdGl2ZSAmJiBzY3JvbGxGdW5jKHN0YXJ0ICsgY2hhbmdlICogcHJldlByb2dyZXNzKTtcbiAgICAgICAgICBzbmFwRGVsYXllZENhbGwucmVzdGFydCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9yZWZyZXNoaW5nID0gMDtcbiAgICAgICAgYW5pbWF0aW9uICYmIGlzVG9nZ2xlICYmIChhbmltYXRpb24uX2luaXR0ZWQgfHwgcHJldkFuaW1Qcm9ncmVzcykgJiYgYW5pbWF0aW9uLnByb2dyZXNzKCkgIT09IHByZXZBbmltUHJvZ3Jlc3MgJiYgYW5pbWF0aW9uLnByb2dyZXNzKHByZXZBbmltUHJvZ3Jlc3MsIHRydWUpLnJlbmRlcihhbmltYXRpb24udGltZSgpLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICBpZiAocHJldlByb2dyZXNzICE9PSBzZWxmLnByb2dyZXNzIHx8IGNvbnRhaW5lckFuaW1hdGlvbikge1xuICAgICAgICAgIGFuaW1hdGlvbiAmJiAhaXNUb2dnbGUgJiYgYW5pbWF0aW9uLnRvdGFsUHJvZ3Jlc3MocHJldlByb2dyZXNzLCB0cnVlKTtcbiAgICAgICAgICBzZWxmLnByb2dyZXNzID0gcHJldlByb2dyZXNzO1xuICAgICAgICAgIHNlbGYudXBkYXRlKDAsIDAsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGluICYmIHBpblNwYWNpbmcgJiYgKHNwYWNlci5fcGluT2Zmc2V0ID0gTWF0aC5yb3VuZChzZWxmLnByb2dyZXNzICogcGluQ2hhbmdlKSk7XG4gICAgICAgIG9uUmVmcmVzaCAmJiBvblJlZnJlc2goc2VsZik7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmdldFZlbG9jaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHNjcm9sbEZ1bmMoKSAtIHNjcm9sbDIpIC8gKF9nZXRUaW1lJDEoKSAtIF90aW1lMikgKiAxMDAwIHx8IDA7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmVuZEFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX2VuZEFuaW1hdGlvbihzZWxmLmNhbGxiYWNrQW5pbWF0aW9uKTtcblxuICAgICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgICAgc2NydWJUd2VlbiA/IHNjcnViVHdlZW4ucHJvZ3Jlc3MoMSkgOiAhYW5pbWF0aW9uLnBhdXNlZCgpID8gX2VuZEFuaW1hdGlvbihhbmltYXRpb24sIGFuaW1hdGlvbi5yZXZlcnNlZCgpKSA6IGlzVG9nZ2xlIHx8IF9lbmRBbmltYXRpb24oYW5pbWF0aW9uLCBzZWxmLmRpcmVjdGlvbiA8IDAsIDEpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmxhYmVsVG9TY3JvbGwgPSBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbiAmJiBhbmltYXRpb24ubGFiZWxzICYmIChzdGFydCB8fCBzZWxmLnJlZnJlc2goKSB8fCBzdGFydCkgKyBhbmltYXRpb24ubGFiZWxzW2xhYmVsXSAvIGFuaW1hdGlvbi5kdXJhdGlvbigpICogY2hhbmdlIHx8IDA7XG4gICAgICB9O1xuXG4gICAgICBzZWxmLmdldFRyYWlsaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGkgPSBfdHJpZ2dlcnMuaW5kZXhPZihzZWxmKSxcbiAgICAgICAgICAgIGEgPSBzZWxmLmRpcmVjdGlvbiA+IDAgPyBfdHJpZ2dlcnMuc2xpY2UoMCwgaSkucmV2ZXJzZSgpIDogX3RyaWdnZXJzLnNsaWNlKGkgKyAxKTtcblxuICAgICAgICByZXR1cm4gKF9pc1N0cmluZyhuYW1lKSA/IGEuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgcmV0dXJuIHQudmFycy5wcmV2ZW50T3ZlcmxhcHMgPT09IG5hbWU7XG4gICAgICAgIH0pIDogYSkuZmlsdGVyKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuZGlyZWN0aW9uID4gMCA/IHQuZW5kIDw9IHN0YXJ0IDogdC5zdGFydCA+PSBlbmQ7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgc2VsZi51cGRhdGUgPSBmdW5jdGlvbiAocmVzZXQsIHJlY29yZFZlbG9jaXR5LCBmb3JjZUZha2UpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lckFuaW1hdGlvbiAmJiAhZm9yY2VGYWtlICYmICFyZXNldCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY3JvbGwgPSBzZWxmLnNjcm9sbCgpLFxuICAgICAgICAgICAgcCA9IHJlc2V0ID8gMCA6IChzY3JvbGwgLSBzdGFydCkgLyBjaGFuZ2UsXG4gICAgICAgICAgICBjbGlwcGVkID0gcCA8IDAgPyAwIDogcCA+IDEgPyAxIDogcCB8fCAwLFxuICAgICAgICAgICAgcHJldlByb2dyZXNzID0gc2VsZi5wcm9ncmVzcyxcbiAgICAgICAgICAgIGlzQWN0aXZlLFxuICAgICAgICAgICAgd2FzQWN0aXZlLFxuICAgICAgICAgICAgdG9nZ2xlU3RhdGUsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBzdGF0ZUNoYW5nZWQsXG4gICAgICAgICAgICB0b2dnbGVkLFxuICAgICAgICAgICAgaXNBdE1heCxcbiAgICAgICAgICAgIGlzVGFraW5nQWN0aW9uO1xuXG4gICAgICAgIGlmIChyZWNvcmRWZWxvY2l0eSkge1xuICAgICAgICAgIHNjcm9sbDIgPSBzY3JvbGwxO1xuICAgICAgICAgIHNjcm9sbDEgPSBjb250YWluZXJBbmltYXRpb24gPyBzY3JvbGxGdW5jKCkgOiBzY3JvbGw7XG5cbiAgICAgICAgICBpZiAoc25hcCkge1xuICAgICAgICAgICAgc25hcDIgPSBzbmFwMTtcbiAgICAgICAgICAgIHNuYXAxID0gYW5pbWF0aW9uICYmICFpc1RvZ2dsZSA/IGFuaW1hdGlvbi50b3RhbFByb2dyZXNzKCkgOiBjbGlwcGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFudGljaXBhdGVQaW4gJiYgIWNsaXBwZWQgJiYgcGluICYmICFfcmVmcmVzaGluZyAmJiAhX3N0YXJ0dXAkMSAmJiBfbGFzdFNjcm9sbFRpbWUgJiYgc3RhcnQgPCBzY3JvbGwgKyAoc2Nyb2xsIC0gc2Nyb2xsMikgLyAoX2dldFRpbWUkMSgpIC0gX3RpbWUyKSAqIGFudGljaXBhdGVQaW4gJiYgKGNsaXBwZWQgPSAwLjAwMDEpO1xuXG4gICAgICAgIGlmIChjbGlwcGVkICE9PSBwcmV2UHJvZ3Jlc3MgJiYgc2VsZi5lbmFibGVkKSB7XG4gICAgICAgICAgaXNBY3RpdmUgPSBzZWxmLmlzQWN0aXZlID0gISFjbGlwcGVkICYmIGNsaXBwZWQgPCAxO1xuICAgICAgICAgIHdhc0FjdGl2ZSA9ICEhcHJldlByb2dyZXNzICYmIHByZXZQcm9ncmVzcyA8IDE7XG4gICAgICAgICAgdG9nZ2xlZCA9IGlzQWN0aXZlICE9PSB3YXNBY3RpdmU7XG4gICAgICAgICAgc3RhdGVDaGFuZ2VkID0gdG9nZ2xlZCB8fCAhIWNsaXBwZWQgIT09ICEhcHJldlByb2dyZXNzO1xuICAgICAgICAgIHNlbGYuZGlyZWN0aW9uID0gY2xpcHBlZCA+IHByZXZQcm9ncmVzcyA/IDEgOiAtMTtcbiAgICAgICAgICBzZWxmLnByb2dyZXNzID0gY2xpcHBlZDtcblxuICAgICAgICAgIGlmIChzdGF0ZUNoYW5nZWQgJiYgIV9yZWZyZXNoaW5nKSB7XG4gICAgICAgICAgICB0b2dnbGVTdGF0ZSA9IGNsaXBwZWQgJiYgIXByZXZQcm9ncmVzcyA/IDAgOiBjbGlwcGVkID09PSAxID8gMSA6IHByZXZQcm9ncmVzcyA9PT0gMSA/IDIgOiAzO1xuXG4gICAgICAgICAgICBpZiAoaXNUb2dnbGUpIHtcbiAgICAgICAgICAgICAgYWN0aW9uID0gIXRvZ2dsZWQgJiYgdG9nZ2xlQWN0aW9uc1t0b2dnbGVTdGF0ZSArIDFdICE9PSBcIm5vbmVcIiAmJiB0b2dnbGVBY3Rpb25zW3RvZ2dsZVN0YXRlICsgMV0gfHwgdG9nZ2xlQWN0aW9uc1t0b2dnbGVTdGF0ZV07XG4gICAgICAgICAgICAgIGlzVGFraW5nQWN0aW9uID0gYW5pbWF0aW9uICYmIChhY3Rpb24gPT09IFwiY29tcGxldGVcIiB8fCBhY3Rpb24gPT09IFwicmVzZXRcIiB8fCBhY3Rpb24gaW4gYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcmV2ZW50T3ZlcmxhcHMgJiYgKHRvZ2dsZWQgfHwgaXNUYWtpbmdBY3Rpb24pICYmIChpc1Rha2luZ0FjdGlvbiB8fCBzY3J1YiB8fCAhYW5pbWF0aW9uKSAmJiAoX2lzRnVuY3Rpb24ocHJldmVudE92ZXJsYXBzKSA/IHByZXZlbnRPdmVybGFwcyhzZWxmKSA6IHNlbGYuZ2V0VHJhaWxpbmcocHJldmVudE92ZXJsYXBzKS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdC5lbmRBbmltYXRpb24oKTtcbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICBpZiAoIWlzVG9nZ2xlKSB7XG4gICAgICAgICAgICBpZiAoc2NydWJUd2VlbiAmJiAhX3JlZnJlc2hpbmcgJiYgIV9zdGFydHVwJDEpIHtcbiAgICAgICAgICAgICAgKGNvbnRhaW5lckFuaW1hdGlvbiB8fCBfcHJpbWFyeSAmJiBfcHJpbWFyeSAhPT0gc2VsZikgJiYgc2NydWJUd2Vlbi5yZW5kZXIoc2NydWJUd2Vlbi5fZHAuX3RpbWUgLSBzY3J1YlR3ZWVuLl9zdGFydCk7XG5cbiAgICAgICAgICAgICAgaWYgKHNjcnViVHdlZW4ucmVzZXRUbykge1xuICAgICAgICAgICAgICAgIHNjcnViVHdlZW4ucmVzZXRUbyhcInRvdGFsUHJvZ3Jlc3NcIiwgY2xpcHBlZCwgYW5pbWF0aW9uLl90VGltZSAvIGFuaW1hdGlvbi5fdER1cik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NydWJUd2Vlbi52YXJzLnRvdGFsUHJvZ3Jlc3MgPSBjbGlwcGVkO1xuICAgICAgICAgICAgICAgIHNjcnViVHdlZW4uaW52YWxpZGF0ZSgpLnJlc3RhcnQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChhbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uLnRvdGFsUHJvZ3Jlc3MoY2xpcHBlZCwgISFfcmVmcmVzaGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHBpbikge1xuICAgICAgICAgICAgcmVzZXQgJiYgcGluU3BhY2luZyAmJiAoc3BhY2VyLnN0eWxlW3BpblNwYWNpbmcgKyBkaXJlY3Rpb24ub3MyXSA9IHNwYWNpbmdTdGFydCk7XG5cbiAgICAgICAgICAgIGlmICghdXNlRml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgICBwaW5TZXR0ZXIoX3JvdW5kKHBpblN0YXJ0ICsgcGluQ2hhbmdlICogY2xpcHBlZCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgaXNBdE1heCA9ICFyZXNldCAmJiBjbGlwcGVkID4gcHJldlByb2dyZXNzICYmIGVuZCArIDEgPiBzY3JvbGwgJiYgc2Nyb2xsICsgMSA+PSBfbWF4U2Nyb2xsKHNjcm9sbGVyLCBkaXJlY3Rpb24pO1xuXG4gICAgICAgICAgICAgIGlmIChwaW5SZXBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVzZXQgJiYgKGlzQWN0aXZlIHx8IGlzQXRNYXgpKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgYm91bmRzID0gX2dldEJvdW5kcyhwaW4sIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICAgIF9vZmZzZXQgPSBzY3JvbGwgLSBzdGFydDtcblxuICAgICAgICAgICAgICAgICAgX3JlcGFyZW50KHBpbiwgX2JvZHkkMSwgYm91bmRzLnRvcCArIChkaXJlY3Rpb24gPT09IF92ZXJ0aWNhbCA/IF9vZmZzZXQgOiAwKSArIF9weCwgYm91bmRzLmxlZnQgKyAoZGlyZWN0aW9uID09PSBfdmVydGljYWwgPyAwIDogX29mZnNldCkgKyBfcHgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBfcmVwYXJlbnQocGluLCBzcGFjZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF9zZXRTdGF0ZShpc0FjdGl2ZSB8fCBpc0F0TWF4ID8gcGluQWN0aXZlU3RhdGUgOiBwaW5TdGF0ZSk7XG5cbiAgICAgICAgICAgICAgcGluQ2hhbmdlICE9PSBjaGFuZ2UgJiYgY2xpcHBlZCA8IDEgJiYgaXNBY3RpdmUgfHwgcGluU2V0dGVyKHBpblN0YXJ0ICsgKGNsaXBwZWQgPT09IDEgJiYgIWlzQXRNYXggPyBwaW5DaGFuZ2UgOiAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc25hcCAmJiAhdHdlZW5Uby50d2VlbiAmJiAhX3JlZnJlc2hpbmcgJiYgIV9zdGFydHVwJDEgJiYgc25hcERlbGF5ZWRDYWxsLnJlc3RhcnQodHJ1ZSk7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3MgJiYgKHRvZ2dsZWQgfHwgb25jZSAmJiBjbGlwcGVkICYmIChjbGlwcGVkIDwgMSB8fCAhX2xpbWl0Q2FsbGJhY2tzKSkgJiYgX3RvQXJyYXkodG9nZ2xlQ2xhc3MudGFyZ2V0cykuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3RbaXNBY3RpdmUgfHwgb25jZSA/IFwiYWRkXCIgOiBcInJlbW92ZVwiXSh0b2dnbGVDbGFzcy5jbGFzc05hbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9uVXBkYXRlICYmICFpc1RvZ2dsZSAmJiAhcmVzZXQgJiYgb25VcGRhdGUoc2VsZik7XG5cbiAgICAgICAgICBpZiAoc3RhdGVDaGFuZ2VkICYmICFfcmVmcmVzaGluZykge1xuICAgICAgICAgICAgaWYgKGlzVG9nZ2xlKSB7XG4gICAgICAgICAgICAgIGlmIChpc1Rha2luZ0FjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnBhdXNlKCkudG90YWxQcm9ncmVzcygxKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICAgICAgICBhbmltYXRpb24ucmVzdGFydCh0cnVlKS5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlc3RhcnRcIikge1xuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnJlc3RhcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvblthY3Rpb25dKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb25VcGRhdGUgJiYgb25VcGRhdGUoc2VsZik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b2dnbGVkIHx8ICFfbGltaXRDYWxsYmFja3MpIHtcbiAgICAgICAgICAgICAgb25Ub2dnbGUgJiYgdG9nZ2xlZCAmJiBfY2FsbGJhY2soc2VsZiwgb25Ub2dnbGUpO1xuICAgICAgICAgICAgICBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdICYmIF9jYWxsYmFjayhzZWxmLCBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdKTtcbiAgICAgICAgICAgICAgb25jZSAmJiAoY2xpcHBlZCA9PT0gMSA/IHNlbGYua2lsbChmYWxzZSwgMSkgOiBjYWxsYmFja3NbdG9nZ2xlU3RhdGVdID0gMCk7XG5cbiAgICAgICAgICAgICAgaWYgKCF0b2dnbGVkKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlU3RhdGUgPSBjbGlwcGVkID09PSAxID8gMSA6IDM7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzW3RvZ2dsZVN0YXRlXSAmJiBfY2FsbGJhY2soc2VsZiwgY2FsbGJhY2tzW3RvZ2dsZVN0YXRlXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZhc3RTY3JvbGxFbmQgJiYgIWlzQWN0aXZlICYmIE1hdGguYWJzKHNlbGYuZ2V0VmVsb2NpdHkoKSkgPiAoX2lzTnVtYmVyKGZhc3RTY3JvbGxFbmQpID8gZmFzdFNjcm9sbEVuZCA6IDI1MDApKSB7XG4gICAgICAgICAgICAgIF9lbmRBbmltYXRpb24oc2VsZi5jYWxsYmFja0FuaW1hdGlvbik7XG5cbiAgICAgICAgICAgICAgc2NydWJUd2VlbiA/IHNjcnViVHdlZW4ucHJvZ3Jlc3MoMSkgOiBfZW5kQW5pbWF0aW9uKGFuaW1hdGlvbiwgIWNsaXBwZWQsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNUb2dnbGUgJiYgb25VcGRhdGUgJiYgIV9yZWZyZXNoaW5nKSB7XG4gICAgICAgICAgICBvblVwZGF0ZShzZWxmKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFya2VyRW5kU2V0dGVyKSB7XG4gICAgICAgICAgdmFyIG4gPSBjb250YWluZXJBbmltYXRpb24gPyBzY3JvbGwgLyBjb250YWluZXJBbmltYXRpb24uZHVyYXRpb24oKSAqIChjb250YWluZXJBbmltYXRpb24uX2NhU2Nyb2xsRGlzdCB8fCAwKSA6IHNjcm9sbDtcbiAgICAgICAgICBtYXJrZXJTdGFydFNldHRlcihuICsgKG1hcmtlclN0YXJ0VHJpZ2dlci5faXNGbGlwcGVkID8gMSA6IDApKTtcbiAgICAgICAgICBtYXJrZXJFbmRTZXR0ZXIobik7XG4gICAgICAgIH1cblxuICAgICAgICBjYU1hcmtlclNldHRlciAmJiBjYU1hcmtlclNldHRlcigtc2Nyb2xsIC8gY29udGFpbmVyQW5pbWF0aW9uLmR1cmF0aW9uKCkgKiAoY29udGFpbmVyQW5pbWF0aW9uLl9jYVNjcm9sbERpc3QgfHwgMCkpO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5lbmFibGUgPSBmdW5jdGlvbiAocmVzZXQsIHJlZnJlc2gpIHtcbiAgICAgICAgaWYgKCFzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgICBzZWxmLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgX2FkZExpc3RlbmVyJDEoc2Nyb2xsZXIsIFwicmVzaXplXCIsIF9vblJlc2l6ZSk7XG5cbiAgICAgICAgICBfYWRkTGlzdGVuZXIkMShpc1ZpZXdwb3J0ID8gX2RvYyQxIDogc2Nyb2xsZXIsIFwic2Nyb2xsXCIsIF9vblNjcm9sbCQxKTtcblxuICAgICAgICAgIG9uUmVmcmVzaEluaXQgJiYgX2FkZExpc3RlbmVyJDEoU2Nyb2xsVHJpZ2dlciwgXCJyZWZyZXNoSW5pdFwiLCBvblJlZnJlc2hJbml0KTtcblxuICAgICAgICAgIGlmIChyZXNldCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSBwcmV2UHJvZ3Jlc3MgPSAwO1xuICAgICAgICAgICAgc2Nyb2xsMSA9IHNjcm9sbDIgPSBsYXN0U25hcCA9IHNjcm9sbEZ1bmMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWZyZXNoICE9PSBmYWxzZSAmJiBzZWxmLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2VsZi5nZXRUd2VlbiA9IGZ1bmN0aW9uIChzbmFwKSB7XG4gICAgICAgIHJldHVybiBzbmFwICYmIHR3ZWVuVG8gPyB0d2VlblRvLnR3ZWVuIDogc2NydWJUd2VlbjtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuc2V0UG9zaXRpb25zID0gZnVuY3Rpb24gKG5ld1N0YXJ0LCBuZXdFbmQpIHtcbiAgICAgICAgaWYgKHBpbikge1xuICAgICAgICAgIHBpblN0YXJ0ICs9IG5ld1N0YXJ0IC0gc3RhcnQ7XG4gICAgICAgICAgcGluQ2hhbmdlICs9IG5ld0VuZCAtIG5ld1N0YXJ0IC0gY2hhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zdGFydCA9IHN0YXJ0ID0gbmV3U3RhcnQ7XG4gICAgICAgIHNlbGYuZW5kID0gZW5kID0gbmV3RW5kO1xuICAgICAgICBjaGFuZ2UgPSBuZXdFbmQgLSBuZXdTdGFydDtcbiAgICAgICAgc2VsZi51cGRhdGUoKTtcbiAgICAgIH07XG5cbiAgICAgIHNlbGYuZGlzYWJsZSA9IGZ1bmN0aW9uIChyZXNldCwgYWxsb3dBbmltYXRpb24pIHtcbiAgICAgICAgaWYgKHNlbGYuZW5hYmxlZCkge1xuICAgICAgICAgIHJlc2V0ICE9PSBmYWxzZSAmJiBzZWxmLnJldmVydCgpO1xuICAgICAgICAgIHNlbGYuZW5hYmxlZCA9IHNlbGYuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICBhbGxvd0FuaW1hdGlvbiB8fCBzY3J1YlR3ZWVuICYmIHNjcnViVHdlZW4ucGF1c2UoKTtcbiAgICAgICAgICBwcmV2U2Nyb2xsID0gMDtcbiAgICAgICAgICBwaW5DYWNoZSAmJiAocGluQ2FjaGUudW5jYWNoZSA9IDEpO1xuICAgICAgICAgIG9uUmVmcmVzaEluaXQgJiYgX3JlbW92ZUxpc3RlbmVyJDEoU2Nyb2xsVHJpZ2dlciwgXCJyZWZyZXNoSW5pdFwiLCBvblJlZnJlc2hJbml0KTtcblxuICAgICAgICAgIGlmIChzbmFwRGVsYXllZENhbGwpIHtcbiAgICAgICAgICAgIHNuYXBEZWxheWVkQ2FsbC5wYXVzZSgpO1xuICAgICAgICAgICAgdHdlZW5Uby50d2VlbiAmJiB0d2VlblRvLnR3ZWVuLmtpbGwoKSAmJiAodHdlZW5Uby50d2VlbiA9IDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaXNWaWV3cG9ydCkge1xuICAgICAgICAgICAgdmFyIGkgPSBfdHJpZ2dlcnMubGVuZ3RoO1xuXG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgIGlmIChfdHJpZ2dlcnNbaV0uc2Nyb2xsZXIgPT09IHNjcm9sbGVyICYmIF90cmlnZ2Vyc1tpXSAhPT0gc2VsZikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfcmVtb3ZlTGlzdGVuZXIkMShzY3JvbGxlciwgXCJyZXNpemVcIiwgX29uUmVzaXplKTtcblxuICAgICAgICAgICAgX3JlbW92ZUxpc3RlbmVyJDEoc2Nyb2xsZXIsIFwic2Nyb2xsXCIsIF9vblNjcm9sbCQxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlbGYua2lsbCA9IGZ1bmN0aW9uIChyZXZlcnQsIGFsbG93QW5pbWF0aW9uKSB7XG4gICAgICAgIHNlbGYuZGlzYWJsZShyZXZlcnQsIGFsbG93QW5pbWF0aW9uKTtcbiAgICAgICAgc2NydWJUd2VlbiAmJiAhYWxsb3dBbmltYXRpb24gJiYgc2NydWJUd2Vlbi5raWxsKCk7XG4gICAgICAgIGlkICYmIGRlbGV0ZSBfaWRzW2lkXTtcblxuICAgICAgICB2YXIgaSA9IF90cmlnZ2Vycy5pbmRleE9mKHNlbGYpO1xuXG4gICAgICAgIGkgPj0gMCAmJiBfdHJpZ2dlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICBpID09PSBfaSAmJiBfZGlyZWN0aW9uID4gMCAmJiBfaS0tO1xuICAgICAgICBpID0gMDtcblxuICAgICAgICBfdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHJldHVybiB0LnNjcm9sbGVyID09PSBzZWxmLnNjcm9sbGVyICYmIChpID0gMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGkgfHwgKHNlbGYuc2Nyb2xsLnJlYyA9IDApO1xuXG4gICAgICAgIGlmIChhbmltYXRpb24pIHtcbiAgICAgICAgICBhbmltYXRpb24uc2Nyb2xsVHJpZ2dlciA9IG51bGw7XG4gICAgICAgICAgcmV2ZXJ0ICYmIGFuaW1hdGlvbi5yZW5kZXIoLTEpO1xuICAgICAgICAgIGFsbG93QW5pbWF0aW9uIHx8IGFuaW1hdGlvbi5raWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXJrZXJTdGFydCAmJiBbbWFya2VyU3RhcnQsIG1hcmtlckVuZCwgbWFya2VyU3RhcnRUcmlnZ2VyLCBtYXJrZXJFbmRUcmlnZ2VyXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgcmV0dXJuIG0ucGFyZW50Tm9kZSAmJiBtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobSk7XG4gICAgICAgIH0pO1xuICAgICAgICBfcHJpbWFyeSA9PT0gc2VsZiAmJiAoX3ByaW1hcnkgPSAwKTtcblxuICAgICAgICBpZiAocGluKSB7XG4gICAgICAgICAgcGluQ2FjaGUgJiYgKHBpbkNhY2hlLnVuY2FjaGUgPSAxKTtcbiAgICAgICAgICBpID0gMDtcblxuICAgICAgICAgIF90cmlnZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdC5waW4gPT09IHBpbiAmJiBpKys7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpIHx8IChwaW5DYWNoZS5zcGFjZXIgPSAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhcnMub25LaWxsICYmIHZhcnMub25LaWxsKHNlbGYpO1xuICAgICAgfTtcblxuICAgICAgc2VsZi5lbmFibGUoZmFsc2UsIGZhbHNlKTtcbiAgICAgIGN1c3RvbVJldmVydFJldHVybiAmJiBjdXN0b21SZXZlcnRSZXR1cm4oc2VsZik7XG4gICAgICAhYW5pbWF0aW9uIHx8ICFhbmltYXRpb24uYWRkIHx8IGNoYW5nZSA/IHNlbGYucmVmcmVzaCgpIDogZ3NhcCQxLmRlbGF5ZWRDYWxsKDAuMDEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0IHx8IGVuZCB8fCBzZWxmLnJlZnJlc2goKTtcbiAgICAgIH0pICYmIChjaGFuZ2UgPSAwLjAxKSAmJiAoc3RhcnQgPSBlbmQgPSAwKTtcbiAgICB9O1xuXG4gICAgU2Nyb2xsVHJpZ2dlci5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKGNvcmUpIHtcbiAgICAgIGlmICghX2NvcmVJbml0dGVkJDEpIHtcbiAgICAgICAgZ3NhcCQxID0gY29yZSB8fCBfZ2V0R1NBUCQxKCk7XG4gICAgICAgIF93aW5kb3dFeGlzdHMoKSAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgU2Nyb2xsVHJpZ2dlci5lbmFibGUoKTtcbiAgICAgICAgX2NvcmVJbml0dGVkJDEgPSBfZW5hYmxlZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jb3JlSW5pdHRlZCQxO1xuICAgIH07XG5cbiAgICBTY3JvbGxUcmlnZ2VyLmRlZmF1bHRzID0gZnVuY3Rpb24gZGVmYXVsdHMoY29uZmlnKSB7XG4gICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gY29uZmlnKSB7XG4gICAgICAgICAgX2RlZmF1bHRzW3BdID0gY29uZmlnW3BdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfZGVmYXVsdHM7XG4gICAgfTtcblxuICAgIFNjcm9sbFRyaWdnZXIuZGlzYWJsZSA9IGZ1bmN0aW9uIGRpc2FibGUocmVzZXQsIGtpbGwpIHtcbiAgICAgIF9lbmFibGVkID0gMDtcblxuICAgICAgX3RyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgcmV0dXJuIHRyaWdnZXJba2lsbCA/IFwia2lsbFwiIDogXCJkaXNhYmxlXCJdKHJlc2V0KTtcbiAgICAgIH0pO1xuXG4gICAgICBfcmVtb3ZlTGlzdGVuZXIkMShfd2luJDEsIFwid2hlZWxcIiwgX29uU2Nyb2xsJDEpO1xuXG4gICAgICBfcmVtb3ZlTGlzdGVuZXIkMShfZG9jJDEsIFwic2Nyb2xsXCIsIF9vblNjcm9sbCQxKTtcblxuICAgICAgY2xlYXJJbnRlcnZhbChfc3luY0ludGVydmFsKTtcblxuICAgICAgX3JlbW92ZUxpc3RlbmVyJDEoX2RvYyQxLCBcInRvdWNoY2FuY2VsXCIsIF9wYXNzVGhyb3VnaCk7XG5cbiAgICAgIF9yZW1vdmVMaXN0ZW5lciQxKF9ib2R5JDEsIFwidG91Y2hzdGFydFwiLCBfcGFzc1Rocm91Z2gpO1xuXG4gICAgICBfbXVsdGlMaXN0ZW5lcihfcmVtb3ZlTGlzdGVuZXIkMSwgX2RvYyQxLCBcInBvaW50ZXJkb3duLHRvdWNoc3RhcnQsbW91c2Vkb3duXCIsIF9wb2ludGVyRG93bkhhbmRsZXIpO1xuXG4gICAgICBfbXVsdGlMaXN0ZW5lcihfcmVtb3ZlTGlzdGVuZXIkMSwgX2RvYyQxLCBcInBvaW50ZXJ1cCx0b3VjaGVuZCxtb3VzZXVwXCIsIF9wb2ludGVyVXBIYW5kbGVyKTtcblxuICAgICAgX3Jlc2l6ZURlbGF5LmtpbGwoKTtcblxuICAgICAgX2l0ZXJhdGVBdXRvUmVmcmVzaChfcmVtb3ZlTGlzdGVuZXIkMSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3Njcm9sbGVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBfd2hlZWxMaXN0ZW5lcihfcmVtb3ZlTGlzdGVuZXIkMSwgX3Njcm9sbGVyc1tpXSwgX3Njcm9sbGVyc1tpICsgMV0pO1xuXG4gICAgICAgIF93aGVlbExpc3RlbmVyKF9yZW1vdmVMaXN0ZW5lciQxLCBfc2Nyb2xsZXJzW2ldLCBfc2Nyb2xsZXJzW2kgKyAyXSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFNjcm9sbFRyaWdnZXIuZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgX3dpbiQxID0gd2luZG93O1xuICAgICAgX2RvYyQxID0gZG9jdW1lbnQ7XG4gICAgICBfZG9jRWwkMSA9IF9kb2MkMS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBfYm9keSQxID0gX2RvYyQxLmJvZHk7XG5cbiAgICAgIGlmIChnc2FwJDEpIHtcbiAgICAgICAgX3RvQXJyYXkgPSBnc2FwJDEudXRpbHMudG9BcnJheTtcbiAgICAgICAgX2NsYW1wJDEgPSBnc2FwJDEudXRpbHMuY2xhbXA7XG4gICAgICAgIF9zdXBwcmVzc092ZXJ3cml0ZXMgPSBnc2FwJDEuY29yZS5zdXBwcmVzc092ZXJ3cml0ZXMgfHwgX3Bhc3NUaHJvdWdoO1xuICAgICAgICBnc2FwJDEuY29yZS5nbG9iYWxzKFwiU2Nyb2xsVHJpZ2dlclwiLCBTY3JvbGxUcmlnZ2VyKTtcblxuICAgICAgICBpZiAoX2JvZHkkMSkge1xuICAgICAgICAgIF9lbmFibGVkID0gMTtcbiAgICAgICAgICBPYnNlcnZlci5yZWdpc3Rlcihnc2FwJDEpO1xuICAgICAgICAgIFNjcm9sbFRyaWdnZXIuaXNUb3VjaCA9IE9ic2VydmVyLmlzVG91Y2g7XG4gICAgICAgICAgX2ZpeElPU0J1ZyA9IE9ic2VydmVyLmlzVG91Y2ggJiYgLyhpUGFkfGlQaG9uZXxpUG9kfE1hYykvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gICAgICAgICAgX2FkZExpc3RlbmVyJDEoX3dpbiQxLCBcIndoZWVsXCIsIF9vblNjcm9sbCQxKTtcblxuICAgICAgICAgIF9yb290JDEgPSBbX3dpbiQxLCBfZG9jJDEsIF9kb2NFbCQxLCBfYm9keSQxXTtcbiAgICAgICAgICBTY3JvbGxUcmlnZ2VyLm1hdGNoTWVkaWEoe1xuICAgICAgICAgICAgXCIob3JpZW50YXRpb246IHBvcnRyYWl0KVwiOiBmdW5jdGlvbiBvcmllbnRhdGlvblBvcnRyYWl0KCkge1xuICAgICAgICAgICAgICBfc2V0QmFzZURpbWVuc2lvbnMoKTtcblxuICAgICAgICAgICAgICByZXR1cm4gX3NldEJhc2VEaW1lbnNpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX2FkZExpc3RlbmVyJDEoX2RvYyQxLCBcInNjcm9sbFwiLCBfb25TY3JvbGwkMSk7XG5cbiAgICAgICAgICB2YXIgYm9keVN0eWxlID0gX2JvZHkkMS5zdHlsZSxcbiAgICAgICAgICAgICAgYm9yZGVyID0gYm9keVN0eWxlLmJvcmRlclRvcFN0eWxlLFxuICAgICAgICAgICAgICBib3VuZHMsXG4gICAgICAgICAgICAgIGk7XG4gICAgICAgICAgYm9keVN0eWxlLmJvcmRlclRvcFN0eWxlID0gXCJzb2xpZFwiO1xuICAgICAgICAgIGJvdW5kcyA9IF9nZXRCb3VuZHMoX2JvZHkkMSk7XG4gICAgICAgICAgX3ZlcnRpY2FsLm0gPSBNYXRoLnJvdW5kKGJvdW5kcy50b3AgKyBfdmVydGljYWwuc2MoKSkgfHwgMDtcbiAgICAgICAgICBfaG9yaXpvbnRhbC5tID0gTWF0aC5yb3VuZChib3VuZHMubGVmdCArIF9ob3Jpem9udGFsLnNjKCkpIHx8IDA7XG4gICAgICAgICAgYm9yZGVyID8gYm9keVN0eWxlLmJvcmRlclRvcFN0eWxlID0gYm9yZGVyIDogYm9keVN0eWxlLnJlbW92ZVByb3BlcnR5KFwiYm9yZGVyLXRvcC1zdHlsZVwiKTtcbiAgICAgICAgICBfc3luY0ludGVydmFsID0gc2V0SW50ZXJ2YWwoX3N5bmMsIDI1MCk7XG4gICAgICAgICAgZ3NhcCQxLmRlbGF5ZWRDYWxsKDAuNSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdGFydHVwJDEgPSAwO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX2FkZExpc3RlbmVyJDEoX2RvYyQxLCBcInRvdWNoY2FuY2VsXCIsIF9wYXNzVGhyb3VnaCk7XG5cbiAgICAgICAgICBfYWRkTGlzdGVuZXIkMShfYm9keSQxLCBcInRvdWNoc3RhcnRcIiwgX3Bhc3NUaHJvdWdoKTtcblxuICAgICAgICAgIF9tdWx0aUxpc3RlbmVyKF9hZGRMaXN0ZW5lciQxLCBfZG9jJDEsIFwicG9pbnRlcmRvd24sdG91Y2hzdGFydCxtb3VzZWRvd25cIiwgX3BvaW50ZXJEb3duSGFuZGxlcik7XG5cbiAgICAgICAgICBfbXVsdGlMaXN0ZW5lcihfYWRkTGlzdGVuZXIkMSwgX2RvYyQxLCBcInBvaW50ZXJ1cCx0b3VjaGVuZCxtb3VzZXVwXCIsIF9wb2ludGVyVXBIYW5kbGVyKTtcblxuICAgICAgICAgIF90cmFuc2Zvcm1Qcm9wID0gZ3NhcCQxLnV0aWxzLmNoZWNrUHJlZml4KFwidHJhbnNmb3JtXCIpO1xuXG4gICAgICAgICAgX3N0YXRlUHJvcHMucHVzaChfdHJhbnNmb3JtUHJvcCk7XG5cbiAgICAgICAgICBfY29yZUluaXR0ZWQkMSA9IF9nZXRUaW1lJDEoKTtcbiAgICAgICAgICBfcmVzaXplRGVsYXkgPSBnc2FwJDEuZGVsYXllZENhbGwoMC4yLCBfcmVmcmVzaEFsbCkucGF1c2UoKTtcbiAgICAgICAgICBfYXV0b1JlZnJlc2ggPSBbX2RvYyQxLCBcInZpc2liaWxpdHljaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHcgPSBfd2luJDEuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICBoID0gX3dpbiQxLmlubmVySGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoX2RvYyQxLmhpZGRlbikge1xuICAgICAgICAgICAgICBfcHJldldpZHRoID0gdztcbiAgICAgICAgICAgICAgX3ByZXZIZWlnaHQgPSBoO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfcHJldldpZHRoICE9PSB3IHx8IF9wcmV2SGVpZ2h0ICE9PSBoKSB7XG4gICAgICAgICAgICAgIF9vblJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIF9kb2MkMSwgXCJET01Db250ZW50TG9hZGVkXCIsIF9yZWZyZXNoQWxsLCBfd2luJDEsIFwibG9hZFwiLCBfcmVmcmVzaEFsbCwgX3dpbiQxLCBcInJlc2l6ZVwiLCBfb25SZXNpemVdO1xuXG4gICAgICAgICAgX2l0ZXJhdGVBdXRvUmVmcmVzaChfYWRkTGlzdGVuZXIkMSk7XG5cbiAgICAgICAgICBfdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXIuZW5hYmxlKDAsIDEpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IF9zY3JvbGxlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIF93aGVlbExpc3RlbmVyKF9yZW1vdmVMaXN0ZW5lciQxLCBfc2Nyb2xsZXJzW2ldLCBfc2Nyb2xsZXJzW2kgKyAxXSk7XG5cbiAgICAgICAgICAgIF93aGVlbExpc3RlbmVyKF9yZW1vdmVMaXN0ZW5lciQxLCBfc2Nyb2xsZXJzW2ldLCBfc2Nyb2xsZXJzW2kgKyAyXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIFNjcm9sbFRyaWdnZXIuY29uZmlnID0gZnVuY3Rpb24gY29uZmlnKHZhcnMpIHtcbiAgICAgIFwibGltaXRDYWxsYmFja3NcIiBpbiB2YXJzICYmIChfbGltaXRDYWxsYmFja3MgPSAhIXZhcnMubGltaXRDYWxsYmFja3MpO1xuICAgICAgdmFyIG1zID0gdmFycy5zeW5jSW50ZXJ2YWw7XG4gICAgICBtcyAmJiBjbGVhckludGVydmFsKF9zeW5jSW50ZXJ2YWwpIHx8IChfc3luY0ludGVydmFsID0gbXMpICYmIHNldEludGVydmFsKF9zeW5jLCBtcyk7XG4gICAgICBcImlnbm9yZU1vYmlsZVJlc2l6ZVwiIGluIHZhcnMgJiYgKF9pZ25vcmVNb2JpbGVSZXNpemUgPSBTY3JvbGxUcmlnZ2VyLmlzVG91Y2ggPT09IDEgJiYgdmFycy5pZ25vcmVNb2JpbGVSZXNpemUpO1xuXG4gICAgICBpZiAoXCJhdXRvUmVmcmVzaEV2ZW50c1wiIGluIHZhcnMpIHtcbiAgICAgICAgX2l0ZXJhdGVBdXRvUmVmcmVzaChfcmVtb3ZlTGlzdGVuZXIkMSkgfHwgX2l0ZXJhdGVBdXRvUmVmcmVzaChfYWRkTGlzdGVuZXIkMSwgdmFycy5hdXRvUmVmcmVzaEV2ZW50cyB8fCBcIm5vbmVcIik7XG4gICAgICAgIF9pZ25vcmVSZXNpemUgPSAodmFycy5hdXRvUmVmcmVzaEV2ZW50cyArIFwiXCIpLmluZGV4T2YoXCJyZXNpemVcIikgPT09IC0xO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBTY3JvbGxUcmlnZ2VyLnNjcm9sbGVyUHJveHkgPSBmdW5jdGlvbiBzY3JvbGxlclByb3h5KHRhcmdldCwgdmFycykge1xuICAgICAgdmFyIHQgPSBfZ2V0VGFyZ2V0KHRhcmdldCksXG4gICAgICAgICAgaSA9IF9zY3JvbGxlcnMuaW5kZXhPZih0KSxcbiAgICAgICAgICBpc1ZpZXdwb3J0ID0gX2lzVmlld3BvcnQkMSh0KTtcblxuICAgICAgaWYgKH5pKSB7XG4gICAgICAgIF9zY3JvbGxlcnMuc3BsaWNlKGksIGlzVmlld3BvcnQgPyA2IDogMik7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YXJzKSB7XG4gICAgICAgIGlzVmlld3BvcnQgPyBfcHJveGllcy51bnNoaWZ0KF93aW4kMSwgdmFycywgX2JvZHkkMSwgdmFycywgX2RvY0VsJDEsIHZhcnMpIDogX3Byb3hpZXMudW5zaGlmdCh0LCB2YXJzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgU2Nyb2xsVHJpZ2dlci5tYXRjaE1lZGlhID0gZnVuY3Rpb24gbWF0Y2hNZWRpYSh2YXJzKSB7XG4gICAgICB2YXIgbXEsIHAsIGksIGZ1bmMsIHJlc3VsdDtcblxuICAgICAgZm9yIChwIGluIHZhcnMpIHtcbiAgICAgICAgaSA9IF9tZWRpYS5pbmRleE9mKHApO1xuICAgICAgICBmdW5jID0gdmFyc1twXTtcbiAgICAgICAgX2NyZWF0aW5nTWVkaWEgPSBwO1xuXG4gICAgICAgIGlmIChwID09PSBcImFsbFwiKSB7XG4gICAgICAgICAgZnVuYygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1xID0gX3dpbiQxLm1hdGNoTWVkaWEocCk7XG5cbiAgICAgICAgICBpZiAobXEpIHtcbiAgICAgICAgICAgIG1xLm1hdGNoZXMgJiYgKHJlc3VsdCA9IGZ1bmMoKSk7XG5cbiAgICAgICAgICAgIGlmICh+aSkge1xuICAgICAgICAgICAgICBfbWVkaWFbaSArIDFdID0gX2NvbWJpbmVGdW5jKF9tZWRpYVtpICsgMV0sIGZ1bmMpO1xuICAgICAgICAgICAgICBfbWVkaWFbaSArIDJdID0gX2NvbWJpbmVGdW5jKF9tZWRpYVtpICsgMl0sIHJlc3VsdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpID0gX21lZGlhLmxlbmd0aDtcblxuICAgICAgICAgICAgICBfbWVkaWEucHVzaChwLCBmdW5jLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgIG1xLmFkZExpc3RlbmVyID8gbXEuYWRkTGlzdGVuZXIoX29uTWVkaWFDaGFuZ2UpIDogbXEuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBfb25NZWRpYUNoYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9tZWRpYVtpICsgM10gPSBtcS5tYXRjaGVzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGluZ01lZGlhID0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9tZWRpYTtcbiAgICB9O1xuXG4gICAgU2Nyb2xsVHJpZ2dlci5jbGVhck1hdGNoTWVkaWEgPSBmdW5jdGlvbiBjbGVhck1hdGNoTWVkaWEocXVlcnkpIHtcbiAgICAgIHF1ZXJ5IHx8IChfbWVkaWEubGVuZ3RoID0gMCk7XG4gICAgICBxdWVyeSA9IF9tZWRpYS5pbmRleE9mKHF1ZXJ5KTtcbiAgICAgIHF1ZXJ5ID49IDAgJiYgX21lZGlhLnNwbGljZShxdWVyeSwgNCk7XG4gICAgfTtcblxuICAgIFNjcm9sbFRyaWdnZXIuaXNJblZpZXdwb3J0ID0gZnVuY3Rpb24gaXNJblZpZXdwb3J0KGVsZW1lbnQsIHJhdGlvLCBob3Jpem9udGFsKSB7XG4gICAgICB2YXIgYm91bmRzID0gKF9pc1N0cmluZyhlbGVtZW50KSA/IF9nZXRUYXJnZXQoZWxlbWVudCkgOiBlbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICBvZmZzZXQgPSBib3VuZHNbaG9yaXpvbnRhbCA/IF93aWR0aCA6IF9oZWlnaHRdICogcmF0aW8gfHwgMDtcbiAgICAgIHJldHVybiBob3Jpem9udGFsID8gYm91bmRzLnJpZ2h0IC0gb2Zmc2V0ID4gMCAmJiBib3VuZHMubGVmdCArIG9mZnNldCA8IF93aW4kMS5pbm5lcldpZHRoIDogYm91bmRzLmJvdHRvbSAtIG9mZnNldCA+IDAgJiYgYm91bmRzLnRvcCArIG9mZnNldCA8IF93aW4kMS5pbm5lckhlaWdodDtcbiAgICB9O1xuXG4gICAgU2Nyb2xsVHJpZ2dlci5wb3NpdGlvbkluVmlld3BvcnQgPSBmdW5jdGlvbiBwb3NpdGlvbkluVmlld3BvcnQoZWxlbWVudCwgcmVmZXJlbmNlUG9pbnQsIGhvcml6b250YWwpIHtcbiAgICAgIF9pc1N0cmluZyhlbGVtZW50KSAmJiAoZWxlbWVudCA9IF9nZXRUYXJnZXQoZWxlbWVudCkpO1xuICAgICAgdmFyIGJvdW5kcyA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgc2l6ZSA9IGJvdW5kc1tob3Jpem9udGFsID8gX3dpZHRoIDogX2hlaWdodF0sXG4gICAgICAgICAgb2Zmc2V0ID0gcmVmZXJlbmNlUG9pbnQgPT0gbnVsbCA/IHNpemUgLyAyIDogcmVmZXJlbmNlUG9pbnQgaW4gX2tleXdvcmRzID8gX2tleXdvcmRzW3JlZmVyZW5jZVBvaW50XSAqIHNpemUgOiB+cmVmZXJlbmNlUG9pbnQuaW5kZXhPZihcIiVcIikgPyBwYXJzZUZsb2F0KHJlZmVyZW5jZVBvaW50KSAqIHNpemUgLyAxMDAgOiBwYXJzZUZsb2F0KHJlZmVyZW5jZVBvaW50KSB8fCAwO1xuICAgICAgcmV0dXJuIGhvcml6b250YWwgPyAoYm91bmRzLmxlZnQgKyBvZmZzZXQpIC8gX3dpbiQxLmlubmVyV2lkdGggOiAoYm91bmRzLnRvcCArIG9mZnNldCkgLyBfd2luJDEuaW5uZXJIZWlnaHQ7XG4gICAgfTtcblxuICAgIHJldHVybiBTY3JvbGxUcmlnZ2VyO1xuICB9KCk7XG4gIFNjcm9sbFRyaWdnZXIkMS52ZXJzaW9uID0gXCIzLjEwLjRcIjtcblxuICBTY3JvbGxUcmlnZ2VyJDEuc2F2ZVN0eWxlcyA9IGZ1bmN0aW9uICh0YXJnZXRzKSB7XG4gICAgcmV0dXJuIHRhcmdldHMgPyBfdG9BcnJheSh0YXJnZXRzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LnN0eWxlKSB7XG4gICAgICAgIHZhciBpID0gX3NhdmVkU3R5bGVzLmluZGV4T2YodGFyZ2V0KTtcblxuICAgICAgICBpID49IDAgJiYgX3NhdmVkU3R5bGVzLnNwbGljZShpLCA1KTtcblxuICAgICAgICBfc2F2ZWRTdHlsZXMucHVzaCh0YXJnZXQsIHRhcmdldC5zdHlsZS5jc3NUZXh0LCB0YXJnZXQuZ2V0QkJveCAmJiB0YXJnZXQuZ2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIpLCBnc2FwJDEuY29yZS5nZXRDYWNoZSh0YXJnZXQpLCBfY3JlYXRpbmdNZWRpYSk7XG4gICAgICB9XG4gICAgfSkgOiBfc2F2ZWRTdHlsZXM7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLnJldmVydCA9IGZ1bmN0aW9uIChzb2Z0LCBtZWRpYSkge1xuICAgIHJldHVybiBfcmV2ZXJ0QWxsKCFzb2Z0LCBtZWRpYSk7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLmNyZWF0ZSA9IGZ1bmN0aW9uICh2YXJzLCBhbmltYXRpb24pIHtcbiAgICByZXR1cm4gbmV3IFNjcm9sbFRyaWdnZXIkMSh2YXJzLCBhbmltYXRpb24pO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5yZWZyZXNoID0gZnVuY3Rpb24gKHNhZmUpIHtcbiAgICByZXR1cm4gc2FmZSA/IF9vblJlc2l6ZSgpIDogKF9jb3JlSW5pdHRlZCQxIHx8IFNjcm9sbFRyaWdnZXIkMS5yZWdpc3RlcigpKSAmJiBfcmVmcmVzaEFsbCh0cnVlKTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEudXBkYXRlID0gX3VwZGF0ZUFsbDtcbiAgU2Nyb2xsVHJpZ2dlciQxLmNsZWFyU2Nyb2xsTWVtb3J5ID0gX2NsZWFyU2Nyb2xsTWVtb3J5O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5tYXhTY3JvbGwgPSBmdW5jdGlvbiAoZWxlbWVudCwgaG9yaXpvbnRhbCkge1xuICAgIHJldHVybiBfbWF4U2Nyb2xsKGVsZW1lbnQsIGhvcml6b250YWwgPyBfaG9yaXpvbnRhbCA6IF92ZXJ0aWNhbCk7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLmdldFNjcm9sbEZ1bmMgPSBmdW5jdGlvbiAoZWxlbWVudCwgaG9yaXpvbnRhbCkge1xuICAgIHJldHVybiBfZ2V0U2Nyb2xsRnVuYyhfZ2V0VGFyZ2V0KGVsZW1lbnQpLCBob3Jpem9udGFsID8gX2hvcml6b250YWwgOiBfdmVydGljYWwpO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5nZXRCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIF9pZHNbaWRdO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5nZXRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90cmlnZ2Vycy5maWx0ZXIoZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiB0LnZhcnMuaWQgIT09IFwiU2Nyb2xsU21vb3RoZXJcIjtcbiAgICB9KTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEuaXNTY3JvbGxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICEhX2xhc3RTY3JvbGxUaW1lO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5zbmFwRGlyZWN0aW9uYWwgPSBfc25hcERpcmVjdGlvbmFsO1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGEgPSBfbGlzdGVuZXJzW3R5cGVdIHx8IChfbGlzdGVuZXJzW3R5cGVdID0gW10pO1xuICAgIH5hLmluZGV4T2YoY2FsbGJhY2spIHx8IGEucHVzaChjYWxsYmFjayk7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgYSA9IF9saXN0ZW5lcnNbdHlwZV0sXG4gICAgICAgIGkgPSBhICYmIGEuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgaSA+PSAwICYmIGEuc3BsaWNlKGksIDEpO1xuICB9O1xuXG4gIFNjcm9sbFRyaWdnZXIkMS5iYXRjaCA9IGZ1bmN0aW9uICh0YXJnZXRzLCB2YXJzKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICB2YXJzQ29weSA9IHt9LFxuICAgICAgICBpbnRlcnZhbCA9IHZhcnMuaW50ZXJ2YWwgfHwgMC4wMTYsXG4gICAgICAgIGJhdGNoTWF4ID0gdmFycy5iYXRjaE1heCB8fCAxZTksXG4gICAgICAgIHByb3h5Q2FsbGJhY2sgPSBmdW5jdGlvbiBwcm94eUNhbGxiYWNrKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZWxlbWVudHMgPSBbXSxcbiAgICAgICAgICB0cmlnZ2VycyA9IFtdLFxuICAgICAgICAgIGRlbGF5ID0gZ3NhcCQxLmRlbGF5ZWRDYWxsKGludGVydmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKGVsZW1lbnRzLCB0cmlnZ2Vycyk7XG4gICAgICAgIGVsZW1lbnRzID0gW107XG4gICAgICAgIHRyaWdnZXJzID0gW107XG4gICAgICB9KS5wYXVzZSgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICAgIGVsZW1lbnRzLmxlbmd0aCB8fCBkZWxheS5yZXN0YXJ0KHRydWUpO1xuICAgICAgICBlbGVtZW50cy5wdXNoKHNlbGYudHJpZ2dlcik7XG4gICAgICAgIHRyaWdnZXJzLnB1c2goc2VsZik7XG4gICAgICAgIGJhdGNoTWF4IDw9IGVsZW1lbnRzLmxlbmd0aCAmJiBkZWxheS5wcm9ncmVzcygxKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICAgICAgcDtcblxuICAgIGZvciAocCBpbiB2YXJzKSB7XG4gICAgICB2YXJzQ29weVtwXSA9IHAuc3Vic3RyKDAsIDIpID09PSBcIm9uXCIgJiYgX2lzRnVuY3Rpb24odmFyc1twXSkgJiYgcCAhPT0gXCJvblJlZnJlc2hJbml0XCIgPyBwcm94eUNhbGxiYWNrKHAsIHZhcnNbcF0pIDogdmFyc1twXTtcbiAgICB9XG5cbiAgICBpZiAoX2lzRnVuY3Rpb24oYmF0Y2hNYXgpKSB7XG4gICAgICBiYXRjaE1heCA9IGJhdGNoTWF4KCk7XG5cbiAgICAgIF9hZGRMaXN0ZW5lciQxKFNjcm9sbFRyaWdnZXIkMSwgXCJyZWZyZXNoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJhdGNoTWF4ID0gdmFycy5iYXRjaE1heCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RvQXJyYXkodGFyZ2V0cykuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB2YXIgY29uZmlnID0ge307XG5cbiAgICAgIGZvciAocCBpbiB2YXJzQ29weSkge1xuICAgICAgICBjb25maWdbcF0gPSB2YXJzQ29weVtwXTtcbiAgICAgIH1cblxuICAgICAgY29uZmlnLnRyaWdnZXIgPSB0YXJnZXQ7XG4gICAgICByZXN1bHQucHVzaChTY3JvbGxUcmlnZ2VyJDEuY3JlYXRlKGNvbmZpZykpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgX2NsYW1wU2Nyb2xsQW5kR2V0RHVyYXRpb25NdWx0aXBsaWVyID0gZnVuY3Rpb24gX2NsYW1wU2Nyb2xsQW5kR2V0RHVyYXRpb25NdWx0aXBsaWVyKHNjcm9sbEZ1bmMsIGN1cnJlbnQsIGVuZCwgbWF4KSB7XG4gICAgY3VycmVudCA+IG1heCA/IHNjcm9sbEZ1bmMobWF4KSA6IGN1cnJlbnQgPCAwICYmIHNjcm9sbEZ1bmMoMCk7XG4gICAgcmV0dXJuIGVuZCA+IG1heCA/IChtYXggLSBjdXJyZW50KSAvIChlbmQgLSBjdXJyZW50KSA6IGVuZCA8IDAgPyBjdXJyZW50IC8gKGN1cnJlbnQgLSBlbmQpIDogMTtcbiAgfSxcbiAgICAgIF9hbGxvd05hdGl2ZVBhbm5pbmcgPSBmdW5jdGlvbiBfYWxsb3dOYXRpdmVQYW5uaW5nKHRhcmdldCwgZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgdGFyZ2V0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidG91Y2gtYWN0aW9uXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQuc3R5bGUudG91Y2hBY3Rpb24gPSBkaXJlY3Rpb24gPT09IHRydWUgPyBcImF1dG9cIiA6IGRpcmVjdGlvbiA/IFwicGFuLVwiICsgZGlyZWN0aW9uICsgKE9ic2VydmVyLmlzVG91Y2ggPyBcIiBwaW5jaC16b29tXCIgOiBcIlwiKSA6IFwibm9uZVwiO1xuICAgIH1cblxuICAgIHRhcmdldCA9PT0gX2RvY0VsJDEgJiYgX2FsbG93TmF0aXZlUGFubmluZyhfYm9keSQxLCBkaXJlY3Rpb24pO1xuICB9LFxuICAgICAgX292ZXJmbG93ID0ge1xuICAgIGF1dG86IDEsXG4gICAgc2Nyb2xsOiAxXG4gIH0sXG4gICAgICBfbmVzdGVkU2Nyb2xsID0gZnVuY3Rpb24gX25lc3RlZFNjcm9sbChfcmVmNSkge1xuICAgIHZhciBldmVudCA9IF9yZWY1LmV2ZW50LFxuICAgICAgICB0YXJnZXQgPSBfcmVmNS50YXJnZXQsXG4gICAgICAgIGF4aXMgPSBfcmVmNS5heGlzO1xuXG4gICAgdmFyIG5vZGUgPSAoZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IGV2ZW50KS50YXJnZXQsXG4gICAgICAgIGNhY2hlID0gbm9kZS5fZ3NhcCB8fCBnc2FwJDEuY29yZS5nZXRDYWNoZShub2RlKSxcbiAgICAgICAgdGltZSA9IF9nZXRUaW1lJDEoKSxcbiAgICAgICAgY3M7XG5cbiAgICBpZiAoIWNhY2hlLl9pc1Njcm9sbFQgfHwgdGltZSAtIGNhY2hlLl9pc1Njcm9sbFQgPiAyMDAwKSB7XG4gICAgICB3aGlsZSAobm9kZSAmJiBub2RlLnNjcm9sbEhlaWdodCA8PSBub2RlLmNsaWVudEhlaWdodCkge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgfVxuXG4gICAgICBjYWNoZS5faXNTY3JvbGwgPSBub2RlICYmICFfaXNWaWV3cG9ydCQxKG5vZGUpICYmIG5vZGUgIT09IHRhcmdldCAmJiAoX292ZXJmbG93WyhjcyA9IF9nZXRDb21wdXRlZFN0eWxlKG5vZGUpKS5vdmVyZmxvd1ldIHx8IF9vdmVyZmxvd1tjcy5vdmVyZmxvd1hdKTtcbiAgICAgIGNhY2hlLl9pc1Njcm9sbFQgPSB0aW1lO1xuICAgIH1cblxuICAgIChjYWNoZS5faXNTY3JvbGwgfHwgYXhpcyA9PT0gXCJ4XCIpICYmIChldmVudC5fZ3NhcEFsbG93ID0gdHJ1ZSk7XG4gIH0sXG4gICAgICBfaW5wdXRPYnNlcnZlciA9IGZ1bmN0aW9uIF9pbnB1dE9ic2VydmVyKHRhcmdldCwgdHlwZSwgaW5wdXRzLCBuZXN0ZWQpIHtcbiAgICByZXR1cm4gT2JzZXJ2ZXIuY3JlYXRlKHtcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgIGRlYm91bmNlOiBmYWxzZSxcbiAgICAgIGxvY2tBeGlzOiB0cnVlLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIG9uV2hlZWw6IG5lc3RlZCA9IG5lc3RlZCAmJiBfbmVzdGVkU2Nyb2xsLFxuICAgICAgb25QcmVzczogbmVzdGVkLFxuICAgICAgb25EcmFnOiBuZXN0ZWQsXG4gICAgICBvblNjcm9sbDogbmVzdGVkLFxuICAgICAgb25FbmFibGU6IGZ1bmN0aW9uIG9uRW5hYmxlKCkge1xuICAgICAgICByZXR1cm4gaW5wdXRzICYmIF9hZGRMaXN0ZW5lciQxKF9kb2MkMSwgT2JzZXJ2ZXIuZXZlbnRUeXBlc1swXSwgX2NhcHR1cmVJbnB1dHMsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0sXG4gICAgICBvbkRpc2FibGU6IGZ1bmN0aW9uIG9uRGlzYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZW1vdmVMaXN0ZW5lciQxKF9kb2MkMSwgT2JzZXJ2ZXIuZXZlbnRUeXBlc1swXSwgX2NhcHR1cmVJbnB1dHMsIHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAgICAgX2lucHV0RXhwID0gLyhpbnB1dHxsYWJlbHxzZWxlY3R8dGV4dGFyZWEpL2ksXG4gICAgICBfaW5wdXRJc0ZvY3VzZWQsXG4gICAgICBfY2FwdHVyZUlucHV0cyA9IGZ1bmN0aW9uIF9jYXB0dXJlSW5wdXRzKGUpIHtcbiAgICB2YXIgaXNJbnB1dCA9IF9pbnB1dEV4cC50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpO1xuXG4gICAgaWYgKGlzSW5wdXQgfHwgX2lucHV0SXNGb2N1c2VkKSB7XG4gICAgICBlLl9nc2FwQWxsb3cgPSB0cnVlO1xuICAgICAgX2lucHV0SXNGb2N1c2VkID0gaXNJbnB1dDtcbiAgICB9XG4gIH0sXG4gICAgICBfZ2V0U2Nyb2xsTm9ybWFsaXplciA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxOb3JtYWxpemVyKHZhcnMpIHtcbiAgICBfaXNPYmplY3QodmFycykgfHwgKHZhcnMgPSB7fSk7XG4gICAgdmFycy5wcmV2ZW50RGVmYXVsdCA9IHZhcnMuaXNOb3JtYWxpemVyID0gdmFycy5hbGxvd0NsaWNrcyA9IHRydWU7XG4gICAgdmFycy50eXBlIHx8ICh2YXJzLnR5cGUgPSBcIndoZWVsLHRvdWNoXCIpO1xuICAgIHZhcnMuZGVib3VuY2UgPSAhIXZhcnMuZGVib3VuY2U7XG4gICAgdmFycy5pZCA9IHZhcnMuaWQgfHwgXCJub3JtYWxpemVyXCI7XG5cbiAgICB2YXIgX3ZhcnMyID0gdmFycyxcbiAgICAgICAgbm9ybWFsaXplU2Nyb2xsWCA9IF92YXJzMi5ub3JtYWxpemVTY3JvbGxYLFxuICAgICAgICBtb21lbnR1bSA9IF92YXJzMi5tb21lbnR1bSxcbiAgICAgICAgYWxsb3dOZXN0ZWRTY3JvbGwgPSBfdmFyczIuYWxsb3dOZXN0ZWRTY3JvbGwsXG4gICAgICAgIHNlbGYsXG4gICAgICAgIG1heFksXG4gICAgICAgIHRhcmdldCA9IF9nZXRUYXJnZXQodmFycy50YXJnZXQpIHx8IF9kb2NFbCQxLFxuICAgICAgICBzbW9vdGhlciA9IGdzYXAkMS5jb3JlLmdsb2JhbHMoKS5TY3JvbGxTbW9vdGhlcixcbiAgICAgICAgY29udGVudCA9IF9maXhJT1NCdWcgJiYgKHZhcnMuY29udGVudCAmJiBfZ2V0VGFyZ2V0KHZhcnMuY29udGVudCkgfHwgc21vb3RoZXIgJiYgc21vb3RoZXIuZ2V0KCkgJiYgc21vb3RoZXIuZ2V0KCkuY29udGVudCgpKSxcbiAgICAgICAgc2Nyb2xsRnVuY1kgPSBfZ2V0U2Nyb2xsRnVuYyh0YXJnZXQsIF92ZXJ0aWNhbCksXG4gICAgICAgIHNjcm9sbEZ1bmNYID0gX2dldFNjcm9sbEZ1bmModGFyZ2V0LCBfaG9yaXpvbnRhbCksXG4gICAgICAgIHNjYWxlID0gMSxcbiAgICAgICAgaW5pdGlhbFNjYWxlID0gKE9ic2VydmVyLmlzVG91Y2ggJiYgX3dpbiQxLnZpc3VhbFZpZXdwb3J0ID8gX3dpbiQxLnZpc3VhbFZpZXdwb3J0LnNjYWxlICogX3dpbiQxLnZpc3VhbFZpZXdwb3J0LndpZHRoIDogX3dpbiQxLm91dGVyV2lkdGgpIC8gX3dpbiQxLmlubmVyV2lkdGgsXG4gICAgICAgIHdoZWVsUmVmcmVzaCA9IDAsXG4gICAgICAgIHJlc29sdmVNb21lbnR1bUR1cmF0aW9uID0gX2lzRnVuY3Rpb24obW9tZW50dW0pID8gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1vbWVudHVtKHNlbGYpO1xuICAgIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbW9tZW50dW0gfHwgMi44O1xuICAgIH0sXG4gICAgICAgIHNraXBUb3VjaE1vdmUsXG4gICAgICAgIGxhc3RSZWZyZXNoSUQsXG4gICAgICAgIGlucHV0T2JzZXJ2ZXIgPSBfaW5wdXRPYnNlcnZlcih0YXJnZXQsIHZhcnMudHlwZSwgdHJ1ZSwgYWxsb3dOZXN0ZWRTY3JvbGwpLFxuICAgICAgICByZXN1bWVUb3VjaE1vdmUgPSBmdW5jdGlvbiByZXN1bWVUb3VjaE1vdmUoKSB7XG4gICAgICByZXR1cm4gc2tpcFRvdWNoTW92ZSA9IGZhbHNlO1xuICAgIH0sXG4gICAgICAgIHNjcm9sbENsYW1wWCA9IF9wYXNzVGhyb3VnaCxcbiAgICAgICAgc2Nyb2xsQ2xhbXBZID0gX3Bhc3NUaHJvdWdoLFxuICAgICAgICB1cGRhdGVDbGFtcHMgPSBmdW5jdGlvbiB1cGRhdGVDbGFtcHMoKSB7XG4gICAgICBtYXhZID0gX21heFNjcm9sbCh0YXJnZXQsIF92ZXJ0aWNhbCk7XG4gICAgICBzY3JvbGxDbGFtcFkgPSBfY2xhbXAkMShfZml4SU9TQnVnID8gMSA6IDAsIG1heFkpO1xuICAgICAgbm9ybWFsaXplU2Nyb2xsWCAmJiAoc2Nyb2xsQ2xhbXBYID0gX2NsYW1wJDEoMCwgX21heFNjcm9sbCh0YXJnZXQsIF9ob3Jpem9udGFsKSkpO1xuICAgICAgbGFzdFJlZnJlc2hJRCA9IF9yZWZyZXNoSUQ7XG4gICAgfSxcbiAgICAgICAgaWdub3JlRHJhZyA9IGZ1bmN0aW9uIGlnbm9yZURyYWcoKSB7XG4gICAgICBpZiAoc2tpcFRvdWNoTW92ZSkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzdW1lVG91Y2hNb3ZlKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gX3JvdW5kKHNlbGYuZGVsdGFZIC8gMiksXG4gICAgICAgICAgICBzY3JvbGwgPSBzY3JvbGxDbGFtcFkoc2Nyb2xsRnVuY1kudiAtIG9mZnNldCk7XG5cbiAgICAgICAgaWYgKGNvbnRlbnQgJiYgc2Nyb2xsICE9PSBzY3JvbGxGdW5jWS52ICsgc2Nyb2xsRnVuY1kub2Zmc2V0KSB7XG4gICAgICAgICAgc2Nyb2xsRnVuY1kub2Zmc2V0ID0gc2Nyb2xsIC0gc2Nyb2xsRnVuY1kudjtcbiAgICAgICAgICBjb250ZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWShcIiArIC1zY3JvbGxGdW5jWS5vZmZzZXQgKyBcInB4KVwiO1xuICAgICAgICAgIGNvbnRlbnQuX2dzYXAgJiYgKGNvbnRlbnQuX2dzYXAueSA9IC1zY3JvbGxGdW5jWS5vZmZzZXQgKyBcInB4XCIpO1xuICAgICAgICAgIHNjcm9sbEZ1bmNZLmNhY2hlSUQgPSBfc2Nyb2xsZXJzLmNhY2hlO1xuXG4gICAgICAgICAgX3VwZGF0ZUFsbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIGNvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDBweClcIjtcbiAgICAgICAgc2Nyb2xsRnVuY1kub2Zmc2V0ID0gc2Nyb2xsRnVuY1kuY2FjaGVJRCA9IDA7XG4gICAgICAgIGNvbnRlbnQuX2dzYXAgJiYgKGNvbnRlbnQuX2dzYXAueSA9IFwiMHB4XCIpO1xuICAgICAgfVxuXG4gICAgICBza2lwVG91Y2hNb3ZlID0gdHJ1ZTtcbiAgICB9LFxuICAgICAgICB0d2VlbixcbiAgICAgICAgc3RhcnRTY3JvbGxYLFxuICAgICAgICBzdGFydFNjcm9sbFksXG4gICAgICAgIG9uU3RvcERlbGF5ZWRDYWxsLFxuICAgICAgICBvblJlc2l6ZSA9IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdXBkYXRlQ2xhbXBzKCk7XG5cbiAgICAgIGlmICh0d2Vlbi5pc0FjdGl2ZSgpICYmIHR3ZWVuLnZhcnMuc2Nyb2xsWSA+IG1heFkpIHtcbiAgICAgICAgc2Nyb2xsRnVuY1koKSA+IG1heFkgPyB0d2Vlbi5wcm9ncmVzcygxKSAmJiBzY3JvbGxGdW5jWShtYXhZKSA6IHR3ZWVuLnJlc2V0VG8oXCJzY3JvbGxZXCIsIG1heFkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXJzLmlnbm9yZUNoZWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBfZml4SU9TQnVnICYmIGUudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIiAmJiBpZ25vcmVEcmFnKCkgfHwgc2NhbGUgPiAxLjA1ICYmIGUudHlwZSAhPT0gXCJ0b3VjaHN0YXJ0XCIgfHwgc2VsZi5pc0dlc3R1cmluZyB8fCBlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDE7XG4gICAgfTtcblxuICAgIHZhcnMub25QcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwcmV2U2NhbGUgPSBzY2FsZTtcbiAgICAgIHNjYWxlID0gX3JvdW5kKChfd2luJDEudmlzdWFsVmlld3BvcnQgJiYgX3dpbiQxLnZpc3VhbFZpZXdwb3J0LnNjYWxlIHx8IDEpIC8gaW5pdGlhbFNjYWxlKTtcbiAgICAgIHR3ZWVuLnBhdXNlKCk7XG4gICAgICBwcmV2U2NhbGUgIT09IHNjYWxlICYmIF9hbGxvd05hdGl2ZVBhbm5pbmcodGFyZ2V0LCBzY2FsZSA+IDEuMDEgPyB0cnVlIDogbm9ybWFsaXplU2Nyb2xsWCA/IGZhbHNlIDogXCJ4XCIpO1xuICAgICAgc2tpcFRvdWNoTW92ZSA9IGZhbHNlO1xuICAgICAgc3RhcnRTY3JvbGxYID0gc2Nyb2xsRnVuY1goKTtcbiAgICAgIHN0YXJ0U2Nyb2xsWSA9IHNjcm9sbEZ1bmNZKCk7XG4gICAgICB1cGRhdGVDbGFtcHMoKTtcbiAgICAgIGxhc3RSZWZyZXNoSUQgPSBfcmVmcmVzaElEO1xuICAgIH07XG5cbiAgICB2YXJzLm9uUmVsZWFzZSA9IHZhcnMub25HZXN0dXJlU3RhcnQgPSBmdW5jdGlvbiAoc2VsZiwgd2FzRHJhZ2dpbmcpIHtcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIGNvbnRlbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDBweClcIjtcbiAgICAgICAgc2Nyb2xsRnVuY1kub2Zmc2V0ID0gc2Nyb2xsRnVuY1kuY2FjaGVJRCA9IDA7XG4gICAgICAgIGNvbnRlbnQuX2dzYXAgJiYgKGNvbnRlbnQuX2dzYXAueSA9IFwiMHB4XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXdhc0RyYWdnaW5nKSB7XG4gICAgICAgIG9uU3RvcERlbGF5ZWRDYWxsLnJlc3RhcnQodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfc2Nyb2xsZXJzLmNhY2hlKys7XG4gICAgICAgIHZhciBkdXIgPSByZXNvbHZlTW9tZW50dW1EdXJhdGlvbigpLFxuICAgICAgICAgICAgY3VycmVudFNjcm9sbCxcbiAgICAgICAgICAgIGVuZFNjcm9sbDtcblxuICAgICAgICBpZiAobm9ybWFsaXplU2Nyb2xsWCkge1xuICAgICAgICAgIGN1cnJlbnRTY3JvbGwgPSBzY3JvbGxGdW5jWCgpO1xuICAgICAgICAgIGVuZFNjcm9sbCA9IGN1cnJlbnRTY3JvbGwgKyBkdXIgKiAwLjA1ICogLXNlbGYudmVsb2NpdHlYIC8gMC4yMjc7XG4gICAgICAgICAgZHVyICo9IF9jbGFtcFNjcm9sbEFuZEdldER1cmF0aW9uTXVsdGlwbGllcihzY3JvbGxGdW5jWCwgY3VycmVudFNjcm9sbCwgZW5kU2Nyb2xsLCBfbWF4U2Nyb2xsKHRhcmdldCwgX2hvcml6b250YWwpKTtcbiAgICAgICAgICB0d2Vlbi52YXJzLnNjcm9sbFggPSBzY3JvbGxDbGFtcFgoZW5kU2Nyb2xsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRTY3JvbGwgPSBzY3JvbGxGdW5jWSgpO1xuICAgICAgICBlbmRTY3JvbGwgPSBjdXJyZW50U2Nyb2xsICsgZHVyICogMC4wNSAqIC1zZWxmLnZlbG9jaXR5WSAvIDAuMjI3O1xuICAgICAgICBkdXIgKj0gX2NsYW1wU2Nyb2xsQW5kR2V0RHVyYXRpb25NdWx0aXBsaWVyKHNjcm9sbEZ1bmNZLCBjdXJyZW50U2Nyb2xsLCBlbmRTY3JvbGwsIF9tYXhTY3JvbGwodGFyZ2V0LCBfdmVydGljYWwpKTtcbiAgICAgICAgdHdlZW4udmFycy5zY3JvbGxZID0gc2Nyb2xsQ2xhbXBZKGVuZFNjcm9sbCk7XG4gICAgICAgIHR3ZWVuLmludmFsaWRhdGUoKS5kdXJhdGlvbihkdXIpLnBsYXkoMC4wMSk7XG5cbiAgICAgICAgaWYgKF9maXhJT1NCdWcgJiYgdHdlZW4udmFycy5zY3JvbGxZID49IG1heFkgfHwgY3VycmVudFNjcm9sbCA+PSBtYXhZIC0gMSkge1xuICAgICAgICAgIGdzYXAkMS50byh7fSwge1xuICAgICAgICAgICAgb25VcGRhdGU6IG9uUmVzaXplLFxuICAgICAgICAgICAgZHVyYXRpb246IGR1clxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhcnMub25XaGVlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHR3ZWVuLl90cyAmJiB0d2Vlbi5wYXVzZSgpO1xuXG4gICAgICBpZiAoX2dldFRpbWUkMSgpIC0gd2hlZWxSZWZyZXNoID4gMTAwMCkge1xuICAgICAgICBsYXN0UmVmcmVzaElEID0gMDtcbiAgICAgICAgd2hlZWxSZWZyZXNoID0gX2dldFRpbWUkMSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXJzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKHNlbGYsIGR4LCBkeSwgeEFycmF5LCB5QXJyYXkpIHtcbiAgICAgIF9yZWZyZXNoSUQgIT09IGxhc3RSZWZyZXNoSUQgJiYgdXBkYXRlQ2xhbXBzKCk7XG4gICAgICBkeCAmJiBub3JtYWxpemVTY3JvbGxYICYmIHNjcm9sbEZ1bmNYKHNjcm9sbENsYW1wWCh4QXJyYXlbMl0gPT09IGR4ID8gc3RhcnRTY3JvbGxYICsgKHNlbGYuc3RhcnRYIC0gc2VsZi54KSA6IHNjcm9sbEZ1bmNYKCkgKyBkeCAtIHhBcnJheVsxXSkpO1xuICAgICAgZHkgJiYgc2Nyb2xsRnVuY1koc2Nyb2xsQ2xhbXBZKHlBcnJheVsyXSA9PT0gZHkgPyBzdGFydFNjcm9sbFkgKyAoc2VsZi5zdGFydFkgLSBzZWxmLnkpIDogc2Nyb2xsRnVuY1koKSArIGR5IC0geUFycmF5WzFdKSk7XG5cbiAgICAgIF91cGRhdGVBbGwoKTtcbiAgICB9O1xuXG4gICAgdmFycy5vbkVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF9hbGxvd05hdGl2ZVBhbm5pbmcodGFyZ2V0LCBub3JtYWxpemVTY3JvbGxYID8gZmFsc2UgOiBcInhcIik7XG5cbiAgICAgIF9hZGRMaXN0ZW5lciQxKF93aW4kMSwgXCJyZXNpemVcIiwgb25SZXNpemUpO1xuXG4gICAgICBpbnB1dE9ic2VydmVyLmVuYWJsZSgpO1xuICAgIH07XG5cbiAgICB2YXJzLm9uRGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF9hbGxvd05hdGl2ZVBhbm5pbmcodGFyZ2V0LCB0cnVlKTtcblxuICAgICAgX3JlbW92ZUxpc3RlbmVyJDEoX3dpbiQxLCBcInJlc2l6ZVwiLCBvblJlc2l6ZSk7XG5cbiAgICAgIGlucHV0T2JzZXJ2ZXIua2lsbCgpO1xuICAgIH07XG5cbiAgICBzZWxmID0gbmV3IE9ic2VydmVyKHZhcnMpO1xuICAgIHNlbGYuaU9TID0gX2ZpeElPU0J1ZztcbiAgICBfZml4SU9TQnVnICYmICFzY3JvbGxGdW5jWSgpICYmIHNjcm9sbEZ1bmNZKDEpO1xuICAgIG9uU3RvcERlbGF5ZWRDYWxsID0gc2VsZi5fZGM7XG4gICAgdHdlZW4gPSBnc2FwJDEudG8oc2VsZiwge1xuICAgICAgZWFzZTogXCJwb3dlcjRcIixcbiAgICAgIHBhdXNlZDogdHJ1ZSxcbiAgICAgIHNjcm9sbFg6IG5vcm1hbGl6ZVNjcm9sbFggPyBcIis9MC4xXCIgOiBcIis9MFwiLFxuICAgICAgc2Nyb2xsWTogXCIrPTAuMVwiLFxuICAgICAgb25Db21wbGV0ZTogb25TdG9wRGVsYXllZENhbGwudmFycy5vbkNvbXBsZXRlXG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgU2Nyb2xsVHJpZ2dlciQxLnNvcnQgPSBmdW5jdGlvbiAoZnVuYykge1xuICAgIHJldHVybiBfdHJpZ2dlcnMuc29ydChmdW5jIHx8IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gKGEudmFycy5yZWZyZXNoUHJpb3JpdHkgfHwgMCkgKiAtMWU2ICsgYS5zdGFydCAtIChiLnN0YXJ0ICsgKGIudmFycy5yZWZyZXNoUHJpb3JpdHkgfHwgMCkgKiAtMWU2KTtcbiAgICB9KTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEub2JzZXJ2ZSA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZlcih2YXJzKTtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEubm9ybWFsaXplU2Nyb2xsID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICBpZiAodHlwZW9mIHZhcnMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBfbm9ybWFsaXplciQxO1xuICAgIH1cblxuICAgIGlmICh2YXJzID09PSB0cnVlICYmIF9ub3JtYWxpemVyJDEpIHtcbiAgICAgIHJldHVybiBfbm9ybWFsaXplciQxLmVuYWJsZSgpO1xuICAgIH1cblxuICAgIGlmICh2YXJzID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIF9ub3JtYWxpemVyJDEgJiYgX25vcm1hbGl6ZXIkMS5raWxsKCk7XG4gICAgfVxuXG4gICAgdmFyIG5vcm1hbGl6ZXIgPSB2YXJzIGluc3RhbmNlb2YgT2JzZXJ2ZXIgPyB2YXJzIDogX2dldFNjcm9sbE5vcm1hbGl6ZXIodmFycyk7XG4gICAgX25vcm1hbGl6ZXIkMSAmJiBfbm9ybWFsaXplciQxLnRhcmdldCA9PT0gbm9ybWFsaXplci50YXJnZXQgJiYgX25vcm1hbGl6ZXIkMS5raWxsKCk7XG4gICAgX2lzVmlld3BvcnQkMShub3JtYWxpemVyLnRhcmdldCkgJiYgKF9ub3JtYWxpemVyJDEgPSBub3JtYWxpemVyKTtcbiAgICByZXR1cm4gbm9ybWFsaXplcjtcbiAgfTtcblxuICBTY3JvbGxUcmlnZ2VyJDEuY29yZSA9IHtcbiAgICBfZ2V0VmVsb2NpdHlQcm9wOiBfZ2V0VmVsb2NpdHlQcm9wLFxuICAgIF9pbnB1dE9ic2VydmVyOiBfaW5wdXRPYnNlcnZlcixcbiAgICBfc2Nyb2xsZXJzOiBfc2Nyb2xsZXJzLFxuICAgIF9wcm94aWVzOiBfcHJveGllcyxcbiAgICBicmlkZ2U6IHtcbiAgICAgIHNzOiBmdW5jdGlvbiBzcygpIHtcbiAgICAgICAgX2xhc3RTY3JvbGxUaW1lIHx8IF9kaXNwYXRjaChcInNjcm9sbFN0YXJ0XCIpO1xuICAgICAgICBfbGFzdFNjcm9sbFRpbWUgPSBfZ2V0VGltZSQxKCk7XG4gICAgICB9LFxuICAgICAgcmVmOiBmdW5jdGlvbiByZWYoKSB7XG4gICAgICAgIHJldHVybiBfcmVmcmVzaGluZztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIF9nZXRHU0FQJDEoKSAmJiBnc2FwJDEucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlciQxKTtcblxuICBleHBvcnRzLlNjcm9sbFRyaWdnZXIgPSBTY3JvbGxUcmlnZ2VyJDE7XG4gIGV4cG9ydHMuZGVmYXVsdCA9IFNjcm9sbFRyaWdnZXIkMTtcblxuICBpZiAodHlwZW9mKHdpbmRvdykgPT09ICd1bmRlZmluZWQnIHx8IHdpbmRvdyAhPT0gZXhwb3J0cykge09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7fSBlbHNlIHtkZWxldGUgd2luZG93LmRlZmF1bHQ7fVxuXG59KSkpO1xuIiwiaW1wb3J0IGdzYXAgZnJvbSBcImdzYXBcIjtcbmltcG9ydCB7IFNwbGl0VGV4dCB9IGZyb20gXCJnc2FwL2Rpc3QvU3BsaXRUZXh0XCI7XG5pbXBvcnQgU3dpcGVyLCB7IE5hdmlnYXRpb24sIFBhZ2luYXRpb24gfSBmcm9tIFwic3dpcGVyXCI7XG5pbXBvcnQgVGhyZWVEU2xpZGVyTW9kZWxzIGZyb20gXCIuLzNkU2xpZGVyTW9kZWxzXCI7XG5cbmdzYXAucmVnaXN0ZXJQbHVnaW4oU3BsaXRUZXh0KTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhyZWVEU2xpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICB3cmFwcGVyOiBcIi5qcy0zZC1zbGlkZXItd3JhcHBlclwiLFxuICAgICAgICAgICAgc2xpZGVyOiBcIi5qcy0zZC1zbGlkZXJcIixcbiAgICAgICAgICAgIG5leHQ6IFwiLmpzLTNkLXNsaWRlci1uZXh0XCIsXG4gICAgICAgICAgICBwcmV2OiBcIi5qcy0zZC1zbGlkZXItcHJldlwiLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogXCIuanMtM2Qtc2xpZGVyLXBhZ2luYXRpb25cIixcbiAgICAgICAgICAgIHByaW1hcnlUaXRsZTogXCIuanMtc2xpZGUtdGl0bGUtcHJpbWFyeVwiLFxuICAgICAgICAgICAgc2Vjb25kYXJ5VGl0bGU6IFwiLmpzLXNsaWRlLXRpdGxlLXNlY29uZGFyeVwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ud3JhcHBlcik7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLndyYXBwZXIpIHJldHVybjtcbiAgICAgICAgdGhpcy5tb2RlbHMgPSBuZXcgVGhyZWVEU2xpZGVyTW9kZWxzKHRoaXMud3JhcHBlcik7XG5cbiAgICAgICAgY29uc3Qgc2xpZGVyID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00uc2xpZGVyKTtcbiAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKHRoaXMuRE9NLm5leHQpO1xuICAgICAgICBjb25zdCBwcmV2ID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ucHJldik7XG4gICAgICAgIGNvbnN0IHBhZ2luYXRpb24gPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5wYWdpbmF0aW9uKTtcblxuICAgICAgICBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKHNsaWRlciwge1xuICAgICAgICAgICAgbW9kdWxlczogW05hdmlnYXRpb24sIFBhZ2luYXRpb25dLFxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgZWw6IHBhZ2luYXRpb24sXG4gICAgICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZW5kZXJCdWxsZXQ6IChpbmRleCwgY2xhc3NOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIiR7Y2xhc3NOYW1lfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwidS1pY29uXCIgdmlld0JveD1cIjAgMCAxMiAxOVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNi4xODAyOSAxOC43NDc2QzkuOTg1MjQgMTguNzQ3NiAxMS41Njg4IDE1LjY1NzkgMTEuNTY4OCAxMC4wODA3VjguNjY2ODJDMTEuNTY4OCAzLjA4OTY4IDkuOTg1MjQgMCA2LjE4MDI5IDBINS4zODg1MUMxLjYwNTU2IDAgMCAzLjA2MzUgMCA4LjY2NjgyVjEwLjA4MDdDMCAxNS42ODQxIDEuNjA1NTYgMTguNzQ3NiA1LjM4ODUxIDE4Ljc0NzZINi4xODAyOVpNNS40NzY0OSAxNi4zMzg3QzMuMzQzMDggMTYuMzM4NyAyLjMwOTM2IDE0LjQyNzIgMi4zMDkzNiAxMC42MDQ0VjguMTQzMTVDMi4zMDkzNiA0LjMyMDMyIDMuMzQzMDggMi40MDg5IDUuNDc2NDkgMi40MDg5SDYuMTE0MzFDOC4yNDc3MiAyLjQwODkgOS4yODE0MyA0LjMyMDMyIDkuMjgxNDMgOC4xNDMxNVYxMC42MDQ0QzkuMjgxNDMgMTQuNDI3MiA4LjI0NzcyIDE2LjMzODcgNi4xMTQzMSAxNi4zMzg3SDUuNDc2NDlaXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ1LWljb25cIiB2aWV3Qm94PVwiMCAwIDggMTlcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTIuNjk3MyAxLjU3NzI0TDAuODUxNTYyIDBINy4yNzg2N0w1LjQzMjk0IDEuNTc3MjRWMTYuNzg2M0w3LjI3ODY3IDE4LjM2MzVIMC44NTE1NjJMMi42OTczIDE2Ljc4NjNWMS41NzcyNFpcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5gO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICAgIG5leHRFbDogbmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2RWw6IHByZXYsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBzbGlkZUNoYW5nZTogKHN3aXBlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVUaXRsZXMoc3dpcGVyKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVscy5jaGFuZ2VTbGlkZShzd2lwZXIuYWN0aXZlSW5kZXgsIHN3aXBlci5wcmV2aW91c0luZGV4KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFmdGVySW5pdDogKHN3aXBlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVscy5pbml0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgaW5kZXgpID0+IHRoaXMubW9kZWxzLmluaXRNb2RlbChzbGlkZSwgaW5kZXgpKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU2Nyb2xsQW5pbWF0aW9uKHN3aXBlci5zbGlkZXNbMF0sIHN3aXBlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaCgoc2xpZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlUHJpbWFyeSA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ucHJpbWFyeVRpdGxlKTtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlU2Vjb25kYXJ5ID0gc2xpZGUucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5zZWNvbmRhcnlUaXRsZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNwbGl0UHJpbWFyeSA9IG5ldyBTcGxpdFRleHQodGl0bGVQcmltYXJ5LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGFyc1wiLFxuICAgICAgICAgICAgICAgIGNoYXJzQ2xhc3M6IFwic3BsaXQtdGV4dC1jaGFyXCIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc3BsaXRTZWNvbmRhcnkgPSBuZXcgU3BsaXRUZXh0KHRpdGxlU2Vjb25kYXJ5LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGFyc1wiLFxuICAgICAgICAgICAgICAgIGNoYXJzQ2xhc3M6IFwic3BsaXQtdGV4dC1jaGFyXCIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZ3NhcC5zZXQoc3BsaXRQcmltYXJ5LmNoYXJzLCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmltYXRlVGl0bGVzKHN3aXBlcikge1xuICAgICAgICB0aGlzLmFuaW1hdGVUaXRsZUluKHN3aXBlci5zbGlkZXNbc3dpcGVyLmFjdGl2ZUluZGV4XSk7XG5cbiAgICAgICAgaWYgKHN3aXBlci5zbGlkZXNbc3dpcGVyLnByZXZpb3VzSW5kZXhdKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVUaXRsZU91dChzd2lwZXIuc2xpZGVzW3N3aXBlci5wcmV2aW91c0luZGV4XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmltYXRlVGl0bGVJbihzbGlkZSkge1xuICAgICAgICBjb25zdCB0aXRsZVByaW1hcnlDaGFycyA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ucHJpbWFyeVRpdGxlKS5xdWVyeVNlbGVjdG9yQWxsKFwiLnNwbGl0LXRleHQtY2hhclwiKTtcbiAgICAgICAgY29uc3QgdGl0bGVTZWNvbmRhcnlDaGFycyA9IHNsaWRlLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00uc2Vjb25kYXJ5VGl0bGUpLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3BsaXQtdGV4dC1jaGFyXCIpO1xuXG4gICAgICAgIGdzYXAudG8odGl0bGVQcmltYXJ5Q2hhcnMsIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IFwidmlzaWJsZVwiLFxuICAgICAgICAgICAgZGVsYXk6IDAuNixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLjIsXG4gICAgICAgICAgICBzdGFnZ2VyOiB7XG4gICAgICAgICAgICAgICAgZWFjaDogMC4wNSxcbiAgICAgICAgICAgICAgICBmcm9tOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ3NhcC50byh0aXRsZVNlY29uZGFyeUNoYXJzLCB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgZGVsYXk6IDAuNCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLjIsXG4gICAgICAgICAgICBzdGFnZ2VyOiB7XG4gICAgICAgICAgICAgICAgZWFjaDogMC4wNSxcbiAgICAgICAgICAgICAgICBmcm9tOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYW5pbWF0ZVRpdGxlT3V0KHNsaWRlKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlUHJpbWFyeUNoYXJzID0gc2xpZGUucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5wcmltYXJ5VGl0bGUpLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3BsaXQtdGV4dC1jaGFyXCIpO1xuICAgICAgICBjb25zdCB0aXRsZVNlY29uZGFyeUNoYXJzID0gc2xpZGUucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5zZWNvbmRhcnlUaXRsZSkucXVlcnlTZWxlY3RvckFsbChcIi5zcGxpdC10ZXh0LWNoYXJcIik7XG5cbiAgICAgICAgZ3NhcC50byh0aXRsZVByaW1hcnlDaGFycywge1xuICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJoaWRkZW5cIixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ3NhcC50byh0aXRsZVNlY29uZGFyeUNoYXJzLCB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBcInZpc2libGVcIixcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25TY3JvbGxBbmltYXRpb24oZmlyc3RTbGlkZSwgc3dpcGVyKSB7XG4gICAgICAgIGlmICghZmlyc3RTbGlkZSkgcmV0dXJuO1xuXG4gICAgICAgIGdzYXAuZnJvbVRvKFxuICAgICAgICAgICAgZmlyc3RTbGlkZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB4OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHg6IFwiMCVcIixcbiAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDEsXG4gICAgICAgICAgICAgICAgZWFzZTogXCJwb3dlcjQub3V0XCIsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEuMixcbiAgICAgICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMud3JhcHBlcixcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwidG9wIDQwJVwiLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwiYm90dG9tIGJvdHRvbVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25TdGFydDogKCkgPT4gdGhpcy5hbmltYXRlVGl0bGVzKHN3aXBlciksXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IERSQUNPTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0RSQUNPTG9hZGVyXCI7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXJcIjtcbmltcG9ydCBTY3JvbGxUcmlnZ2VyIGZyb20gXCJnc2FwL1Njcm9sbFRyaWdnZXJcIjtcbmltcG9ydCBpcyBmcm9tIFwiaXNfanNcIjtcblxuZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhyZWVEU2xpZGVyTW9kZWxzIHtcbiAgICBjb25zdHJ1Y3Rvcih3cmFwcGVyKSB7XG4gICAgICAgIHRoaXMuRE9NID0ge1xuICAgICAgICAgICAgbW9kZWxzOiBcIi5qcy0zZC1zbGlkZXItbW9kZWxzXCIsXG4gICAgICAgICAgICBzbGlkZTogXCIuanMtM2Qtc2xpZGVyLXNsaWRlXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5tb2RlbHMgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ubW9kZWxzKTtcblxuICAgICAgICAvLyBjb25maWdcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBtb2RlbE9mZnNldDogNixcbiAgICAgICAgICAgIG1vZGVsU2NhbGU6IDEsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vZGVscykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubW9kZWxzQXJyYXkgPSBbXTtcblxuICAgICAgICB0aGlzLm1vZGVsc1dyYXBwZXIgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcblxuICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG5cbiAgICAgICAgLy8gbG9hZGVyXG4gICAgICAgIGNvbnN0IGRyYWNvTG9hZGVyID0gbmV3IERSQUNPTG9hZGVyKCk7XG4gICAgICAgIGRyYWNvTG9hZGVyLnNldERlY29kZXJQYXRoKHdpbmRvdy5kcmFjb1BhdGgpO1xuICAgICAgICBkcmFjb0xvYWRlci5zZXREZWNvZGVyQ29uZmlnKHtcbiAgICAgICAgICAgIHR5cGU6IFwianNcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubG9hZGVyLnNldERSQUNPTG9hZGVyKGRyYWNvTG9hZGVyKTtcblxuICAgICAgICBUSFJFRS5DYWNoZS5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnJlc2l6ZU1vZGVscygpO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLm1vZGVscy5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLm1vZGVscy5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pbml0Q2FtZXJhKCk7XG4gICAgICAgIHRoaXMuaW5pdFNjZW5lKCk7XG4gICAgICAgIHRoaXMuaW5pdExpZ2h0cygpO1xuICAgICAgICB0aGlzLmluaXRSZW5kZXJlcigpO1xuICAgICAgICB0aGlzLmFuaW1hdGUoKTtcbiAgICAgICAgdGhpcy5vblNjcm9sbEFuaW1hdGlvbigpO1xuXG4gICAgICAgIGlmICghaXMubW9iaWxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLm1vZGVsc1dyYXBwZXIpO1xuXG4gICAgICAgIC8vIGhhbmRsZSByZXNpemVcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4gdGhpcy5vbldpbmRvd1Jlc2l6ZSgpLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgb25TY3JvbGxBbmltYXRpb24oKSB7XG4gICAgICAgIGdzYXAudGltZWxpbmUoe1xuICAgICAgICAgICAgc2Nyb2xsVHJpZ2dlcjoge1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMubW9kZWxzLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBcInRvcCAzMCVcIixcbiAgICAgICAgICAgICAgICBlbmQ6IFwiYm90dG9tIGJvdHRvbVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5hZGQoXCJzdGFydFwiKVxuICAgICAgICAgICAgLmZyb21UbyhcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc1dyYXBwZXIucG9zaXRpb24sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB5OiAtMyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJwb3dlcjQub3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJzdGFydFwiLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmZyb21UbyhcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc1dyYXBwZXIucm90YXRpb24sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4OiAtMyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJwb3dlcjQub3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJzdGFydFwiLFxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNpemVNb2RlbHMoKSB7XG4gICAgICAgIFNjcm9sbFRyaWdnZXIubWF0Y2hNZWRpYSh7XG4gICAgICAgICAgICBcIihtaW4td2lkdGg6IDExMDBweClcIjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlICE9PSAwLjkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWxTY2FsZSA9IDAuOTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIobWF4LXdpZHRoOiA4MDFweClcIjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlICE9PSAwLjcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWxTY2FsZSA9IDAuNztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIobWF4LXdpZHRoOiA2MDBweClcIjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlICE9PSAwLjYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWxTY2FsZSA9IDAuNztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIobWF4LXdpZHRoOiA0NzVweClcIjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlICE9PSAwLjYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWxTY2FsZSA9IDAuNztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtb3VzZU1vdmUoKSB7XG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSB0aGlzLmhlaWdodCAvIDI7XG4gICAgICAgIGNvbnN0IHNpbmdsZVBlcmNlbnRDb2VmZmljaWVudCA9IDAuMDUgLyBoYWxmSGVpZ2h0O1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChldikgPT4ge1xuICAgICAgICAgICAgbGV0IG1vdXNlWSA9IGV2LmNsaWVudFk7XG5cbiAgICAgICAgICAgIGdzYXAudG8odGhpcy55ZWxsb3dMaWdodC5wb3NpdGlvbiwge1xuICAgICAgICAgICAgICAgIHk6IC0xIC0gKG1vdXNlWSAtIHdpbmRvdy5pbm5lckhlaWdodCkgLyA0MDAsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZ3NhcC50byh0aGlzLmJsdWVMaWdodC5wb3NpdGlvbiwge1xuICAgICAgICAgICAgICAgIHk6IC0obW91c2VZIC0gd2luZG93LmlubmVySGVpZ2h0KSAvIDQwMCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBnc2FwLnRvKHRoaXMubW9kZWxzV3JhcHBlci5yb3RhdGlvbiwge1xuICAgICAgICAgICAgICAgIHg6IC1zaW5nbGVQZXJjZW50Q29lZmZpY2llbnQgKiAoaGFsZkhlaWdodCAtIGV2LmNsaWVudFkpLFxuICAgICAgICAgICAgICAgIGRlbGF5OiAwLjEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2FtZXJhIHNldHVwXG4gICAgICovXG4gICAgaW5pdENhbWVyYSgpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoMzUsIHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCwgMC41LCAxMDApO1xuICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgNik7XG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdCgwLCAwLCAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzY2VuZSBzZXR1cFxuICAgICAqL1xuICAgIGluaXRTY2VuZSgpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxpZ2h0cyBzZXR1cCAtIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgPiBhbGwgaW4gb25lIG9iamVjdFxuICAgICAqL1xuICAgIGluaXRMaWdodHMoKSB7XG4gICAgICAgIGNvbnN0IGxpZ2h0V3JhcHBlciA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgICAgIHRoaXMueWVsbG93TGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweGZlYjMwMSwgNSwgNCk7XG4gICAgICAgIHRoaXMueWVsbG93TGlnaHQucG9zaXRpb24uc2V0KC0xLCAxLCAyKTtcblxuICAgICAgICB0aGlzLmJsdWVMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4MjQwMGZmLCA1LCAyKTtcbiAgICAgICAgdGhpcy5ibHVlTGlnaHQucG9zaXRpb24uc2V0KDEsIDAsIDEpO1xuXG4gICAgICAgIGxpZ2h0V3JhcHBlci5hZGQodGhpcy5ibHVlTGlnaHQpO1xuICAgICAgICBsaWdodFdyYXBwZXIuYWRkKHRoaXMueWVsbG93TGlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0V3JhcHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVuZGVyZXIgc2V0dXBcbiAgICAgKi9cbiAgICBpbml0UmVuZGVyZXIoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IFwiaGlnaC1wZXJmb3JtYW5jZVwiLFxuICAgICAgICAgICAgYWxwaGE6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDAwMDAwMCwgMCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDIgPyAyIDogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tb2RlbHMuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtb2RlbCBzZXR1cCBhbmQgbG9hZCBjYWxsXG4gICAgICovXG4gICAgaW5pdE1vZGVsKHNsaWRlLCBpbmRleCkge1xuICAgICAgICBpZiAoIXNsaWRlKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5sb2FkZXIubG9hZChcbiAgICAgICAgICAgIHNsaWRlLmRhdGFzZXQubW9kZWwsXG4gICAgICAgICAgICAoZ2x0ZikgPT4ge1xuICAgICAgICAgICAgICAgIGdsdGYuc2NlbmUucm90YXRpb24ueSA9IC1NYXRoLlBJIC8gMjtcblxuICAgICAgICAgICAgICAgIGdsdGYuc2NlbmUucG9zaXRpb24ueCA9IGluZGV4ICogdGhpcy5jb25maWcubW9kZWxPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICBnbHRmLnNjZW5lLnNjYWxlLnNldCh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlLCB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlLCB0aGlzLmNvbmZpZy5tb2RlbFNjYWxlKTtcblxuICAgICAgICAgICAgICAgIGdsdGYuc2NlbmUudXVpZCA9IGluZGV4O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbHNBcnJheS5wdXNoKGdsdGYuc2NlbmUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbHNXcmFwcGVyLmFkZChnbHRmLnNjZW5lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoeGhyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coKHhoci5sb2FkZWQgLyB4aHIudG90YWwpICogMTAwICsgXCIlIGxvYWRlZFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkFuIGVycm9yIGhhcHBlbmVkXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIG9uV2luZG93UmVzaXplKCkge1xuICAgICAgICB0aGlzLnJlc2l6ZU1vZGVscygpO1xuXG4gICAgICAgIHRoaXMubW9kZWxzV3JhcHBlci5jaGlsZHJlbi5mb3JFYWNoKChtb2RlbCkgPT4gbW9kZWwuc2NhbGUuc2V0KHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUpKTtcblxuICAgICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLm1vZGVscy5vZmZzZXRXaWR0aCAvIHRoaXMubW9kZWxzLm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLm1vZGVscy5vZmZzZXRXaWR0aCwgdGhpcy5tb2RlbHMub2Zmc2V0SGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgKi9cbiAgICBhbmltYXRlKCkge1xuICAgICAgICBsZXQgcmFmID0gbnVsbDtcblxuICAgICAgICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4gICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLm1vZGVscyxcbiAgICAgICAgICAgIHN0YXJ0OiBcInRvcCBib3R0b21cIixcbiAgICAgICAgICAgIGVuZDogXCJib3R0b20gdG9wXCIsXG4gICAgICAgICAgICBvbkVudGVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTGVhdmU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRW50ZXJCYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTGVhdmVCYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoYW5nZVNsaWRlKGluZGV4LCBwcmV2SW5kZXgpIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLm1vZGVsc0FycmF5LmZpbmQoKG1vZGVsKSA9PiBtb2RlbC51dWlkID09PSBpbmRleCk7XG4gICAgICAgIGNvbnN0IHByZXZNb2RlbCA9IHRoaXMubW9kZWxzQXJyYXkuZmluZCgobW9kZWwpID0+IG1vZGVsLnV1aWQgPT09IHByZXZJbmRleCk7XG5cbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gcHJldkluZGV4ID4gaW5kZXggPyAxIDogLTE7XG5cbiAgICAgICAgZ3NhcC50aW1lbGluZSgpXG4gICAgICAgICAgICAuYWRkKFwic3RhcnRcIilcbiAgICAgICAgICAgIC50byhcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc1dyYXBwZXIucG9zaXRpb24sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4OiAtaW5kZXggKiB0aGlzLmNvbmZpZy5tb2RlbE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIsXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6IFwicG93ZXI0Lm91dFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJzdGFydFwiLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmZyb21UbyhcbiAgICAgICAgICAgICAgICBtb2RlbC5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHk6IC1NYXRoLlBJIC8gMiArIDIuNSAqIGRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeTogLU1hdGguUEkgLyAyLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMixcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogXCJwb3dlcjQub3V0XCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInN0YXJ0XCIsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZnJvbVRvKFxuICAgICAgICAgICAgICAgIHByZXZNb2RlbC5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHk6IC1NYXRoLlBJIC8gMixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeTogLU1hdGguUEkgLyAyICsgLTIuNSAqIGRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIsXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6IFwicG93ZXI0Lm91dFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJzdGFydFwiLFxuICAgICAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgZ3NhcCBmcm9tIFwiZ3NhcFwiO1xuaW1wb3J0IGlzIGZyb20gXCJpc19qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkRPTSA9IHtcbiAgICAgICAgICAgIHdyYXBwZXI6IFwiLmpzLWN1cnNvclwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ud3JhcHBlcik7XG4gICAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMud3JhcHBlciB8fCBpcy50b3VjaERldmljZSgpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQgKiAwLjU7XG4gICAgICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLndyYXBwZXIub2Zmc2V0V2lkdGggKiAwLjA1O1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgKGV2KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW92ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LmFkZChcImlzLW1vdmVkXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnc2FwLnNldCh0aGlzLndyYXBwZXIsIHtcbiAgICAgICAgICAgICAgICB4OiBldi5jbGllbnRYIC0gb2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiBldi5jbGllbnRZIC0gb2Zmc2V0WSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIChldikgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1tb3ZlZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImFcIikuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVMaW5rKGxpbmspO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhhcy1ob3ZlclwiKS5mb3JFYWNoKChsaW5rKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNpbmdsZUxpbmsobGluayk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNpbmdsZUxpbmsobGluaykge1xuICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgZ3NhcCBmcm9tIFwiZ3NhcFwiO1xuaW1wb3J0IFNjcm9sbFRyaWdnZXIgZnJvbSBcImdzYXAvZGlzdC9TY3JvbGxUcmlnZ2VyXCI7XG5pbXBvcnQgeyBTcGxpdFRleHQgfSBmcm9tIFwiZ3NhcC9kaXN0L1NwbGl0VGV4dFwiO1xuXG5nc2FwLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRyaWdnZXIsIFNwbGl0VGV4dCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsaWNrZXJpbmdUZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICB3cmFwcGVyOiBcIi5qcy1mbGlja2VyaW5nLXRleHRcIixcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndyYXBwZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLkRPTS53cmFwcGVyKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAodGhpcy53cmFwcGVycy5sZW5ndGggPCAxKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy53cmFwcGVycy5mb3JFYWNoKCh3cmFwcGVyKSA9PiB0aGlzLnNpbmdsZVdyYXBwZXIod3JhcHBlcikpO1xuICAgIH1cblxuICAgIHNpbmdsZVdyYXBwZXIod3JhcHBlcikge1xuICAgICAgICBjb25zdCBzcGxpdCA9IG5ldyBTcGxpdFRleHQod3JhcHBlciwge1xuICAgICAgICAgICAgdHlwZTogXCJ3b3Jkc1wiLFxuICAgICAgICAgICAgd29yZHNDbGFzczogXCJ1LXNwbGl0LXRleHQtd29yZFwiLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFuaW1hdGVJbihzcGxpdC53b3Jkcywgd3JhcHBlcik7XG5cbiAgICAgICAgY29uc3QgdGV4dHMgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJiXCIpO1xuXG4gICAgICAgIGlmICh0ZXh0cy5sZW5ndGggPCAxKSByZXR1cm47XG5cbiAgICAgICAgdGV4dHMuZm9yRWFjaCgodGV4dCkgPT4ge1xuICAgICAgICAgICAgZ3NhcC50aW1lbGluZSh7XG4gICAgICAgICAgICAgICAgZGVsYXk6IDEsXG4gICAgICAgICAgICAgICAgc2Nyb2xsVHJpZ2dlcjoge1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogXCJ0b3AgOTAlXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRvKHRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0OiBcImlzLXNlcmlmXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjA1LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRvKHRleHQsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMC4wNSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50byh0ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdDogXCJpcy1zZXJpZlwiLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMC4wNzUsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudG8odGV4dCwge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3Q6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjA3NSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50byh0ZXh0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdDogXCJpcy1zZXJpZlwiLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMC4xLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhbmltYXRlSW4od29yZHMsIHdyYXBwZXIpIHtcbiAgICAgICAgZ3NhcC5zZXQod29yZHMsIHtcbiAgICAgICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ3NhcC5mcm9tVG8oXG4gICAgICAgICAgICB3b3JkcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB5OiBcIjIwJVwiLFxuICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeTogXCIwJVwiLFxuICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMSxcbiAgICAgICAgICAgICAgICBlYXNlOiBcInBvd2VyNC5vdXRcIixcbiAgICAgICAgICAgICAgICBzdGFnZ2VyOiAwLjA1LFxuICAgICAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogd3JhcHBlcixcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwidG9wIDkwJVwiLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwiYm90dG9tIHRvcFwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBnc2FwIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcbmltcG9ydCB7IERSQUNPTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0RSQUNPTG9hZGVyXCI7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSBcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXJcIjtcbmltcG9ydCBTY3JvbGxUcmlnZ2VyIGZyb20gXCJnc2FwL1Njcm9sbFRyaWdnZXJcIjtcbmltcG9ydCBpcyBmcm9tIFwiaXNfanNcIjtcblxuZ3NhcC5yZWdpc3RlclBsdWdpbihTY3JvbGxUcmlnZ2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyTW9kZWwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkRPTSA9IHtcbiAgICAgICAgICAgIHdyYXBwZXI6IFwiLmpzLWhlYWRlci1tb2RlbC13cmFwcGVyXCIsXG4gICAgICAgICAgICBoZWFkZXI6IFwiLmpzLWhlYWRlclwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ud3JhcHBlcik7XG4gICAgICAgIHRoaXMuaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLkRPTS5oZWFkZXIpO1xuICAgICAgICB0aGlzLm1vZGVsID0gbnVsbDtcblxuICAgICAgICAvLyBjb25maWdcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBtb2RlbE9mZnNldDogNixcbiAgICAgICAgICAgIG1vZGVsU2NhbGU6IDEsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLndyYXBwZXIpIHJldHVybjtcblxuICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG5cbiAgICAgICAgLy8gbG9hZGVyXG4gICAgICAgIGNvbnN0IGRyYWNvTG9hZGVyID0gbmV3IERSQUNPTG9hZGVyKCk7XG4gICAgICAgIGRyYWNvTG9hZGVyLnNldERlY29kZXJQYXRoKHdpbmRvdy5kcmFjb1BhdGgpO1xuICAgICAgICBkcmFjb0xvYWRlci5zZXREZWNvZGVyQ29uZmlnKHtcbiAgICAgICAgICAgIHR5cGU6IFwianNcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubG9hZGVyLnNldERSQUNPTG9hZGVyKGRyYWNvTG9hZGVyKTtcblxuICAgICAgICBUSFJFRS5DYWNoZS5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnJlc2l6ZU1vZGVscygpO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndyYXBwZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodDtcblxuICAgICAgICB0aGlzLmluaXRDYW1lcmEoKTtcbiAgICAgICAgdGhpcy5pbml0U2NlbmUoKTtcbiAgICAgICAgdGhpcy5pbml0TGlnaHRzKCk7XG4gICAgICAgIHRoaXMuaW5pdFJlbmRlcmVyKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xuICAgICAgICBpZiAoIWlzLm1vYmlsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlTW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdE1vZGVsKCk7XG5cbiAgICAgICAgLy8gaGFuZGxlIHJlc2l6ZVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB0aGlzLm9uV2luZG93UmVzaXplKCksIGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXNpemVNb2RlbHMoKSB7XG4gICAgICAgIFNjcm9sbFRyaWdnZXIubWF0Y2hNZWRpYSh7XG4gICAgICAgICAgICBcIihtaW4td2lkdGg6IDExMDBweClcIjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlICE9PSAwLjkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWxTY2FsZSA9IDAuOTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIobWF4LXdpZHRoOiA4MDFweClcIjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlICE9PSAwLjcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWxTY2FsZSA9IDAuNztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIobWF4LXdpZHRoOiA2MDBweClcIjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlICE9PSAwLjYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWxTY2FsZSA9IDAuNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCIobWF4LXdpZHRoOiA0NzVweClcIjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbFNjYWxlICE9PSAwLjYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWxTY2FsZSA9IDAuNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtb3VzZU1vdmUoKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChldikgPT4ge1xuICAgICAgICAgICAgbGV0IG1vdXNlWSA9IGV2LmNsaWVudFk7XG5cbiAgICAgICAgICAgIGdzYXAudG8odGhpcy55ZWxsb3dMaWdodC5wb3NpdGlvbiwge1xuICAgICAgICAgICAgICAgIHk6IC0xIC0gKG1vdXNlWSAtIHdpbmRvdy5pbm5lckhlaWdodCkgLyA0MDAsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZ3NhcC50byh0aGlzLmJsdWVMaWdodC5wb3NpdGlvbiwge1xuICAgICAgICAgICAgICAgIHk6IC0obW91c2VZIC0gd2luZG93LmlubmVySGVpZ2h0KSAvIDQwMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjYW1lcmEgc2V0dXBcbiAgICAgKi9cbiAgICBpbml0Q2FtZXJhKCkge1xuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSgzNSwgdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0LCAwLjUsIDEwMCk7XG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCA2KTtcbiAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0KDAsIDAsIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNjZW5lIHNldHVwXG4gICAgICovXG4gICAgaW5pdFNjZW5lKCkge1xuICAgICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbGlnaHRzIHNldHVwIC0gYmVjYXVzZSBvZiBwZXJmb3JtYW5jZSA+IGFsbCBpbiBvbmUgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdExpZ2h0cygpIHtcbiAgICAgICAgY29uc3QgbGlnaHRXcmFwcGVyID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICAgICAgdGhpcy55ZWxsb3dMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmViMzAxLCA1LCA0KTtcbiAgICAgICAgdGhpcy55ZWxsb3dMaWdodC5wb3NpdGlvbi5zZXQoLTEsIDEsIDIpO1xuXG4gICAgICAgIHRoaXMuYmx1ZUxpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHgyNDAwZmYsIDUsIDIpO1xuICAgICAgICB0aGlzLmJsdWVMaWdodC5wb3NpdGlvbi5zZXQoMSwgMCwgMSk7XG5cbiAgICAgICAgbGlnaHRXcmFwcGVyLmFkZCh0aGlzLmJsdWVMaWdodCk7XG4gICAgICAgIGxpZ2h0V3JhcHBlci5hZGQodGhpcy55ZWxsb3dMaWdodCk7XG5cbiAgICAgICAgdGhpcy5zY2VuZS5hZGQobGlnaHRXcmFwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZW5kZXJlciBzZXR1cFxuICAgICAqL1xuICAgIGluaXRSZW5kZXJlcigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogXCJoaWdoLXBlcmZvcm1hbmNlXCIsXG4gICAgICAgICAgICBhbHBoYTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4MDAwMDAwLCAwKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMiA/IDIgOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtb2RlbCBzZXR1cCBhbmQgbG9hZCBjYWxsXG4gICAgICovXG4gICAgaW5pdE1vZGVsKCkge1xuICAgICAgICBpZiAodGhpcy53cmFwcGVyLmRhdGFzZXQ/Lm1vZGVsID09PSBcIlwiIHx8IHRoaXMud3JhcHBlci5kYXRhc2V0Py5tb2RlbCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubG9hZGVyLmxvYWQoXG4gICAgICAgICAgICB0aGlzLndyYXBwZXIuZGF0YXNldC5tb2RlbCxcbiAgICAgICAgICAgIChnbHRmKSA9PiB7XG4gICAgICAgICAgICAgICAgZ2x0Zi5zY2VuZS5yb3RhdGlvbi55ID0gLU1hdGguUEkgLyAyO1xuXG4gICAgICAgICAgICAgICAgZ2x0Zi5zY2VuZS5zY2FsZS5zZXQodGhpcy5jb25maWcubW9kZWxTY2FsZSwgdGhpcy5jb25maWcubW9kZWxTY2FsZSwgdGhpcy5jb25maWcubW9kZWxTY2FsZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsID0gZ2x0Zi5zY2VuZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsTW9kZWxBbmltYXRpb24oZ2x0Zi5zY2VuZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChnbHRmLnNjZW5lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoeGhyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coKHhoci5sb2FkZWQgLyB4aHIudG90YWwpICogMTAwICsgXCIlIGxvYWRlZFwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkFuIGVycm9yIGhhcHBlbmVkXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzY3JvbGxNb2RlbEFuaW1hdGlvbihtb2RlbCkge1xuICAgICAgICBnc2FwLmZyb21UbyhcbiAgICAgICAgICAgIG1vZGVsLnJvdGF0aW9uLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHk6IFwiKz0wLjI1XCIsXG4gICAgICAgICAgICAgICAgeDogXCItPTAuMVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB5OiBcIi09MC41XCIsXG4gICAgICAgICAgICAgICAgeDogXCIrPTAuMlwiLFxuICAgICAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy5oZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcInRvcCB0b3BcIixcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcImJvdHRvbSB0b3BcIixcbiAgICAgICAgICAgICAgICAgICAgc2NydWI6IDAuOCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIG9uV2luZG93UmVzaXplKCkge1xuICAgICAgICB0aGlzLnJlc2l6ZU1vZGVscygpO1xuXG4gICAgICAgIHRoaXMubW9kZWwuc2NhbGUuc2V0KHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUsIHRoaXMuY29uZmlnLm1vZGVsU2NhbGUpO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud3JhcHBlci5vZmZzZXRXaWR0aCAvIHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53cmFwcGVyLm9mZnNldFdpZHRoLCB0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgKi9cbiAgICBhbmltYXRlKCkge1xuICAgICAgICBsZXQgcmFmID0gbnVsbDtcblxuICAgICAgICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4gICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLndyYXBwZXIsXG4gICAgICAgICAgICBzdGFydDogXCJ0b3AgYm90dG9tXCIsXG4gICAgICAgICAgICBlbmQ6IFwiYm90dG9tIHRvcFwiLFxuICAgICAgICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxlYXZlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVudGVyQmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxlYXZlQmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgZ3NhcCBmcm9tIFwiZ3NhcFwiO1xuaW1wb3J0IFNjcm9sbFRyaWdnZXIgZnJvbSBcImdzYXAvU2Nyb2xsVHJpZ2dlclwiO1xuXG5nc2FwLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRyaWdnZXIpO1xuLyoqXG4gKiBNYXJxdWVlIENvbnRyb2xsZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFycXVlZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuRE9NID0ge1xuICAgICAgICAgICAgaXRlbTogXCIuanMtc2Nyb2xsLW1hcnF1ZWVcIixcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLml0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLkRPTS5pdGVtKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1hcnF1ZWVDb250cm9sbGVyIGluaXQoKVwiKTtcbiAgICAgICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlTGluZShpdGVtLCBpbmRleCAlIDIgPT09IDApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaW5lXG4gICAgICogQHBhcmFtIGRpcmVjdGlvblxuICAgICAqL1xuICAgIGFuaW1hdGVMaW5lKGxpbmUsIGRpcmVjdGlvbikge1xuICAgICAgICBsZXQgc3RhcnQgPSAtd2luZG93LmlubmVyV2lkdGggLyA0O1xuICAgICAgICBsZXQgZW5kID0gMDtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgICAgICBlbmQgPSAtd2luZG93LmlubmVyV2lkdGggLyA0O1xuICAgICAgICB9XG5cbiAgICAgICAgZ3NhcC5mcm9tVG8oXG4gICAgICAgICAgICBsaW5lLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHg6IHN0YXJ0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB4OiBlbmQsXG4gICAgICAgICAgICAgICAgc2Nyb2xsVHJpZ2dlcjoge1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBsaW5lLFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogXCJ0b3AgYm90dG9tXCIsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogXCJib3R0b20gdG9wXCIsXG4gICAgICAgICAgICAgICAgICAgIHNjcnViOiAwLjIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlYXNlOiBcIm5vbmVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBOYXZpZ2F0aW9uIGNvbnRyb2xsZXJcbiAqIFwic21hcnRcIiBuYXZpZ2F0aW9uIHdoaWNoIGdvZXMgb2ZmIHNjcmVlbiB3aGVuIHNjcm9sbGluZyBkb3duIGZvciBhIGJldHRlciBvdmVydmlldyBvZiBjb250ZW50IGFuZCBVWFxuICogbmF2aWdhdGlvbiBhcHBlYXJzIHdoZW4gc2Nyb2xsaW5nIHVwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmlnYXRpb25Db250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hdmlnYXRpb24gRE9NIHNlbGVjdG9yc1xuICAgICAgICAgKiBOYXZpZ2F0aW9uIERPTSBzdGF0ZSBDU1MgY2xhc3Nlc1xuICAgICAgICAgKiBAdHlwZSB7e25hdmlnYXRpb246IHN0cmluZywgc3RhdGVzOiB7bmF2aWdhdGlvblNsaWRlVXA6IHN0cmluZywgbmF2aWdhdGlvblNjcm9sbGVkOiBzdHJpbmcsIG5hdmlnYXRpb25GaXhlZDogc3RyaW5nfX19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkRPTSA9IHtcbiAgICAgICAgICAgIG5hdmlnYXRpb246IFwiLmpzLW5hdmlnYXRpb25cIixcbiAgICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgICAgIG5hdmlnYXRpb25TY3JvbGxlZDogXCJoYXMtc2Nyb2xsZWRcIixcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uRml4ZWQ6IFwiaXMtZml4ZWRcIixcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uU2xpZGVVcDogXCJzbGlkZS11cFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZmxhZywgc3RhdGUgdmFyaWFibGUgZm9yIHNjcm9sbGluZyBldmVudFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbW91bnQgb2YgcGl4ZWxzIHRvIHNjcm9sbCBmcm9tIHRvcCBmb3IgYWRkaW5nIFwiaGFzLXNjcm9sbGVkXCIgc3RhdGUgY2xhc3NcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCA9IDIwMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHZhcmlhYmxlIGZvciBzdG9yaW5nIGFtb3VudCBvZiBzY3JvbGwgZnJvbSB0b3AgcG9zaXRpb24gdmFsdWVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXNUb3AgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogdmFyaWFibGUgZm9yIHN0b3JpbmcgY3VycmVudCBzY3JvbGwgcG9zaXRpb24gdmFsdWVcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFRvcCA9IDA7XG4gICAgICAgIHRoaXMuc2Nyb2xsRGVsdGEgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbE9mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZldGNoIG5hdmlnYXRpb24gZWxlbWVudCBET00gZWxlbWVudFxuICAgICAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5ET00ubmF2aWdhdGlvbik7XG4gICAgfVxuXG4gICAgLy9yZWdpb24gbWV0aG9kc1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgICAgICBpZiAodGhpcy5uYXZpZ2F0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5hdmlnYXRpb24gaW5pdCgpXCIpO1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLkRPTS5uYXZpZ2F0aW9ufSBkb2VzIG5vdCBleGlzdCBpbiB0aGUgRE9NIWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBuYXZpZ2F0aW9uQ29udHJvbGxlcigpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jaGVja1Njcm9sbCgpLCAyNTApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmNoZWNrU2Nyb2xsKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBjaGVja1Njcm9sbCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgY3VycmVudFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuXG4gICAgICAgIHRoaXMuY2hhbmdlTmF2aWdhdGlvblN0YXRlKGN1cnJlbnRUb3ApO1xuXG4gICAgICAgIHRoaXMucHJldmlvdXNUb3AgPSBjdXJyZW50VG9wO1xuICAgICAgICB0aGlzLnNjcm9sbGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGN1cnJlbnRUb3BcbiAgICAgKi9cbiAgICBjaGFuZ2VOYXZpZ2F0aW9uU3RhdGUoY3VycmVudFRvcCkge1xuICAgICAgICBpZiAoY3VycmVudFRvcCA+IHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5hZGQodGhpcy5ET00uc3RhdGVzLm5hdmlnYXRpb25TY3JvbGxlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkRPTS5zdGF0ZXMubmF2aWdhdGlvblNjcm9sbGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzVG9wID49IGN1cnJlbnRUb3ApIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsaW5nVXAoY3VycmVudFRvcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGluZ0Rvd24oY3VycmVudFRvcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjdXJyZW50VG9wXG4gICAgICovXG4gICAgc2Nyb2xsaW5nVXAoY3VycmVudFRvcCkge1xuICAgICAgICBpZiAoY3VycmVudFRvcCA8IHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5ET00uc3RhdGVzLm5hdmlnYXRpb25TbGlkZVVwKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXZpb3VzVG9wIC0gY3VycmVudFRvcCA+IHRoaXMuc2Nyb2xsRGVsdGEpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuRE9NLnN0YXRlcy5uYXZpZ2F0aW9uU2xpZGVVcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjdXJyZW50VG9wXG4gICAgICovXG4gICAgc2Nyb2xsaW5nRG93bihjdXJyZW50VG9wKSB7XG4gICAgICAgIGlmIChjdXJyZW50VG9wID4gdGhpcy5zY3JvbGxOYXZpZ2F0aW9uT2Zmc2V0ICsgdGhpcy5zY3JvbGxPZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QuYWRkKHRoaXMuRE9NLnN0YXRlcy5uYXZpZ2F0aW9uU2xpZGVVcCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRvcCA+IHRoaXMuc2Nyb2xsTmF2aWdhdGlvbk9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5ET00uc3RhdGVzLm5hdmlnYXRpb25TbGlkZVVwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vZW5kcmVnaW9uXG59XG4iLCIvKipcbiAqIEdyaWQgaGVscGVyXG4gKiBTaG93IGdyaWQgb3ZlcmxheSB3aGVuIGRldmVsb3BpbmdcbiAqIE5vdCBpbmNsdWRlZCBpbiBwcm9kdWN0aW9uIGJ1bmRsZSBKUyBmaWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRIZWxwZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBET00gc2VsZWN0b3JcbiAgICAgICAgICogQHR5cGUge3tncmlkOiBzdHJpbmd9fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ET00gPSB7XG4gICAgICAgICAgICBncmlkOiBcImdyaWRcIixcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR3JpZCBvcHRpb25zXG4gICAgICAgICAqIEB0eXBlIHt7XG4gICAgICAgICAqIGd1dHRlckZpeGVkOiBib29sZWFuLFxuICAgICAgICAgKiBpbml0aWFsRGlzcGxheTogc3RyaW5nLFxuICAgICAgICAgKiBncmlkRml4ZWQ6IGJvb2xlYW4sXG4gICAgICAgICAqIGd1dHRlcldpZHRoOiBudW1iZXIsXG4gICAgICAgICAqIGdyaWRDb2xvcjogc3RyaW5nLFxuICAgICAgICAgKiBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgICAgICAgKiBncmlkV2lkdGg6IG51bWJlcixcbiAgICAgICAgICogY29sdW1uQmdDb2xvcjogc3RyaW5nXG4gICAgICAgICAqIH19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdyaWRPcHRpb25zID0ge1xuICAgICAgICAgICAgaW5pdGlhbERpc3BsYXk6IFwibm9uZVwiLCAvLyBcImZsZXhcIiBvciBcIm5vbmVcIiDigJQgaW5pdGlhbCBkaXNwbGF5IGZvciB0aGUgZ3JpZCDigJQgc3RyaW5nXG4gICAgICAgICAgICBjb2x1bW5Db3VudDogMjQsIC8vIG51bWJlciBvZiBncmlkIGNvbHVtbnMg4oCUIGludGVnZXJcbiAgICAgICAgICAgIGdyaWRXaWR0aDogMTQ0MCwgLy8gYmFzZSBncmlkIHVzZWQgaW4gZGVzaWduOyB2YWx1ZSBpbiBweCDigJQgaW50ZWdlclxuICAgICAgICAgICAgZ3JpZEZpeGVkOiBmYWxzZSwgLy8gc2hvdWxkIGdyaWQgd2lkdGggYmUgcmVzdHJpY3RlZCB0byBncmlkV2lkdGggb3IgaXQgc2hvdWxkIGdvIGZ1bGwgd2lkdGggYSBuZCBiZWhhdmUgZmx1aWRseSBhY3Jvc3MgYWxsIHNjcmVlbiBzaXplc1xuICAgICAgICAgICAgZ3V0dGVyV2lkdGg6IDAsIC8vIGdyaWQgZ3V0dGVycyB2YWx1ZSBpbiBweCDigJQgaW50ZWdlclxuICAgICAgICAgICAgZ3V0dGVyRml4ZWQ6IGZhbHNlLCAvLyBzaG91bGQgZ3JpZCBndXR0ZXIgYmUgYSBmaXhlZCB2YWx1ZSAocHgpIG9yIGZsdWlkIOKAlCBpbnRlZ2VyXG4gICAgICAgICAgICBncmlkQ29sb3I6IFwicmdiKDI1NSwgMCwgMjU1LCAwLjE1KVwiLCAvLyBncmlkIGd1aWRlcyBjb2xvciDigJQgc3RyaW5nIG9mIGFuIHJnYmEgb3IgaGV4IHZhbHVlXG4gICAgICAgICAgICBjb2x1bW5CZ0NvbG9yOiBcInJnYigyNTUsIDAsIDI1NSwgMC4wMjUpXCIsIC8vIGdyaWQgY29sdW1ucyBiYWNrZ3JvdW5kIGNvbG9yIOKAlCBzdHJpbmcgb2YgYW4gcmdiYSBvciBoZXggdmFsdWVcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjb25zb2xlTG9nU3R5bGUgPSBbXG4gICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3I6ICNhNmE2YTZcIixcbiAgICAgICAgICAgIFwiY29sb3I6IGJsYWNrXCIsXG4gICAgICAgICAgICBcImRpc3BsYXk6IGJsb2NrXCIsXG4gICAgICAgICAgICBcImxpbmUtaGVpZ2h0OiAyNHB4XCIsXG4gICAgICAgICAgICBcInRleHQtYWxpZ246IGNlbnRlclwiLFxuICAgICAgICAgICAgXCJib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmXCIsXG4gICAgICAgICAgICBcImZvbnQtd2VpZ2h0OiBib2xkXCIsXG4gICAgICAgIF0uam9pbihcIjtcIik7XG5cbiAgICAgICAgY29uc29sZS5pbmZvKFwidG9nZ2xlIGdyaWQ6ICVjIEFsdC9PcHRpb24gKyBHIFwiLCBjb25zb2xlTG9nU3R5bGUpO1xuXG4gICAgICAgIHRoaXMuZ3JpZCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5jb2x1bW5XaWR0aCA9XG4gICAgICAgICAgICAodGhpcy5ncmlkT3B0aW9ucy5ncmlkV2lkdGggLSAodGhpcy5ncmlkT3B0aW9ucy5jb2x1bW5Db3VudCAtIDEpICogdGhpcy5ncmlkT3B0aW9ucy5ndXR0ZXJXaWR0aCkgLyB0aGlzLmdyaWRPcHRpb25zLmNvbHVtbkNvdW50O1xuXG4gICAgICAgIHRoaXMuY29sdW1uV2lkdGhQZXJjZW50YWdlID0gYCR7KHRoaXMuY29sdW1uV2lkdGggLyB0aGlzLmdyaWRPcHRpb25zLmdyaWRXaWR0aCkgKiAxMDB9JWA7XG5cbiAgICAgICAgdGhpcy5ndXR0ZXJXaWR0aFBlcmNlbnRhZ2UgPSBgJHsodGhpcy5ncmlkT3B0aW9ucy5ndXR0ZXJXaWR0aCAvIHRoaXMuZ3JpZE9wdGlvbnMuZ3JpZFdpZHRoKSAqIDEwMH0lYDtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkdyaWRIZWxwZXIgaW5pdCgpXCIpO1xuICAgICAgICB0aGlzLmluaXRHcmlkKCk7XG4gICAgICAgIHRoaXMua2V5Ym9hcmRTaG9ydGN1dCgpO1xuICAgIH1cblxuICAgIGluaXRHcmlkKCkge1xuICAgICAgICAvLyBjcmVhdGUgZ3JpZCBvdmVybGF5IGVsZW1lbnRcbiAgICAgICAgdGhpcy5ncmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5ncmlkLmlkID0gdGhpcy5ET00uZ3JpZDtcblxuICAgICAgICAvLyBzdHlsZSBncmlkIGVsZW1lbnRcbiAgICAgICAgdGhpcy5ncmlkLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgICAgIGRpc3BsYXk6ICR7dGhpcy5ncmlkT3B0aW9ucy5pbml0aWFsRGlzcGxheX07XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gICAgICAgICAgICB6LWluZGV4OiA5OTk7XG4gICAgICAgIGA7XG5cbiAgICAgICAgaWYgKHRoaXMuZ3JpZE9wdGlvbnMuZ3JpZEZpeGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmdyaWQuc3R5bGUubWF4V2lkdGggPSBgJHt0aGlzLmdyaWRPcHRpb25zLmdyaWRXaWR0aH1weGA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZ3JpZE9wdGlvbnMuZ3V0dGVyV2lkdGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmdyaWQuc3R5bGUuYm9yZGVyTGVmdCA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGdyaWQgY29udGFpbmVyIHRvIHBhZ2VcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmdyaWQpO1xuXG4gICAgICAgIC8vIGFkZCBjb2x1bW5zIHRvIGdyaWRcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyaWRPcHRpb25zLmNvbHVtbkNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZC5hcHBlbmRDaGlsZChjb2x1bW4pO1xuXG4gICAgICAgICAgICBjb2x1bW4uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5ncmlkT3B0aW9ucy5jb2x1bW5CZ0NvbG9yfTtcbiAgICAgICAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICR7dGhpcy5ncmlkT3B0aW9ucy5ncmlkQ29sb3J9O1xuICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZE9wdGlvbnMuZ3V0dGVyV2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uLnN0eWxlLmJvcmRlclJpZ2h0ID0gYDFweCBzb2xpZCAke3RoaXMuZ3JpZE9wdGlvbnMuZ3JpZENvbG9yfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JpZC5zdHlsZS5ib3JkZXJSaWdodCA9IGAxcHggc29saWQgJHt0aGlzLmdyaWRPcHRpb25zLmdyaWRDb2xvcn1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5ncmlkT3B0aW9ucy5ndXR0ZXJGaXhlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbHVtbi5zdHlsZS5tYXJnaW5SaWdodCA9IGAke3RoaXMuZ3JpZE9wdGlvbnMuZ3V0dGVyV2lkdGh9cHhgO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4uc3R5bGUubWFyZ2luUmlnaHQgPSB0aGlzLmd1dHRlcldpZHRoUGVyY2VudGFnZTtcbiAgICAgICAgICAgICAgICBjb2x1bW4uc3R5bGUud2lkdGggPSB0aGlzLmNvbHVtbldpZHRoUGVyY2VudGFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JpZC5sYXN0Q2hpbGQuc3R5bGUubWFyZ2luUmlnaHQgPSAwO1xuICAgIH1cblxuICAgIGtleWJvYXJkU2hvcnRjdXQoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGlmIChldi5rZXlDb2RlID09PSA3MSAmJiBldi5hbHRLZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncmlkLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qKlxuICogTUFJTiBKUyBGSUxFXG4gKi9cblxuLyoqXG4gKiBIZWxwZXJzXG4gKiBJbXBvcnRzIG9mIGhlbHBlciBmdW5jdGlvbnMgYXJlIHN0cmlwcGVkIG91dCBvZiBidW5kbGVcbiAqIEluY2x1ZGUgdGhlbSB3aXRoaW4gXCJzdGFydC1zdHJpcC1jb2RlXCIgYW5kIFwiZW5kLXN0cmlwLWNvZGVcIiBjb21tZW50c1xuICovXG4vKiBzdGFydC1zdHJpcC1jb2RlICovXG5pbXBvcnQgR3JpZEhlbHBlciBmcm9tIFwiLi9oZWxwZXJzL0dyaWRIZWxwZXJcIjtcbi8qIGVuZC1zdHJpcC1jb2RlICovXG4vKipcbiAqIENvbXBvbmVudHNcbiAqL1xuaW1wb3J0IE5hdmlnYXRpb25Db250cm9sbGVyIGZyb20gXCIuL2NvbXBvbmVudHMvTmF2aWdhdGlvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCBDdXJzb3IgZnJvbSBcIi4vY29tcG9uZW50cy9DdXJzb3JcIjtcbmltcG9ydCBUaHJlZURTbGlkZXIgZnJvbSBcIi4vY29tcG9uZW50cy8zZFNsaWRlclwiO1xuaW1wb3J0IEhlYWRlck1vZGVsIGZyb20gXCIuL2NvbXBvbmVudHMvSGVhZGVyTW9kZWxcIjtcbmltcG9ydCBNYXJxdWVlIGZyb20gXCIuL2NvbXBvbmVudHMvTWFycXVlZVwiO1xuaW1wb3J0IEZsaWNrZXJpbmdUZXh0IGZyb20gXCIuL2NvbXBvbmVudHMvRmxpY2tlcmluZ1RleHRcIjtcblxuLyoqXG4gKiBDaGVjayBpZiBkb2N1bWVudCBpcyByZWFkeSBjcm9zcy1icm93c2VyXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqL1xuY29uc3QgcmVhZHkgPSAoY2FsbGJhY2spID0+IHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvY3VtZW50IGlzIGFscmVhZHkgcmVhZHksIGNhbGwgdGhlIGNhbGxiYWNrIGRpcmVjdGx5XG4gICAgICAgICAqL1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIG1vZGVybiBicm93c2VycyB0byByZWdpc3RlciBET01Db250ZW50TG9hZGVkXG4gICAgICAgICAqL1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9sZCBJRSBicm93c2Vyc1xuICAgICAgICAgKi9cbiAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogRG9jdW1lbnQgcmVhZHkgY2FsbGJhY2tcbiAqL1xucmVhZHkoKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIEhFTFBFUlMgSU5JVFxuICAgICAqIE9ubHkgaW5pdCBoZWxwZXJzIGlmIHRoZXkgZXhpc3RcbiAgICAgKiBXaWxsIGJlIHVuZGVmaW5lZCBvbiBwcm9kdWN0aW9uIGJlY2F1c2Ugb2YgaW1wb3J0IHN0cmlwcGluZ1xuICAgICAqL1xuICAgIGlmICh0eXBlb2YgR3JpZEhlbHBlciA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkSGVscGVyKCk7XG4gICAgICAgIGdyaWQuaW5pdCgpO1xuICAgIH1cblxuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBkb2Muc3R5bGUuc2V0UHJvcGVydHkoXCItLXdpbi1oZWlnaHRcIiwgYCR7d2luZG93LmlubmVySGVpZ2h0fXB4YCk7XG5cbiAgICAvKipcbiAgICAgKiBDT01QT05FTlRTIElOSVRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIE5hdmlnYXRpb25cbiAgICAgKiBAdHlwZSB7TmF2aWdhdGlvbkNvbnRyb2xsZXJ9XG4gICAgICovXG4gICAgY29uc3QgbmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uQ29udHJvbGxlcigpO1xuICAgIG5hdmlnYXRpb24uaW5pdCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhyZWVEU2xpZGVyXG4gICAgICogQHR5cGUge1RocmVlRFNsaWRlcn1cbiAgICAgKi9cbiAgICBjb25zdCB0aHJlZURTbGlkZXIgPSBuZXcgVGhyZWVEU2xpZGVyKCk7XG4gICAgdGhyZWVEU2xpZGVyLmluaXQoKTtcblxuICAgIC8qKlxuICAgICAqIEhlYWRlck1vZGVsXG4gICAgICogQHR5cGUge0hlYWRlck1vZGVsfVxuICAgICAqL1xuICAgIGNvbnN0IGhlYWRlck1vZGVsID0gbmV3IEhlYWRlck1vZGVsKCk7XG4gICAgaGVhZGVyTW9kZWwuaW5pdCgpO1xuXG4gICAgY29uc3QgbWFycXVlZSA9IG5ldyBNYXJxdWVlKCk7XG4gICAgbWFycXVlZS5pbml0KCk7XG5cbiAgICBjb25zdCBmbGlja2VyaW5nVGV4dCA9IG5ldyBGbGlja2VyaW5nVGV4dCgpO1xuICAgIGZsaWNrZXJpbmdUZXh0LmluaXQoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3Vyc29yXG4gICAgICAgICAqIEB0eXBlIHtDdXJzb3J9XG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBuZXcgQ3Vyc29yKCk7XG4gICAgICAgIGN1cnNvci5pbml0KCk7XG4gICAgfSwgNTAwKTtcbn0pO1xuIl19"}